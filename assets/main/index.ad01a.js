window.__require=function e(t,n,o){function i(d,c){if(!n[d]){if(!t[d]){var s=d.split("/");if(s=s[s.length-1],!t[s]){var r="function"==typeof __require&&__require;if(!c&&r)return r(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+d+"'")}d=s}var _=n[d]={exports:{}};t[d][0].call(_.exports,function(e){return i(t[d][1][e]||e)},_,_.exports,e,t,n,o)}return n[d].exports}for(var a="function"==typeof __require&&__require,d=0;d<o.length;d++)i(o[d]);return i}({Barn:[function(e,t){"use strict";cc._RF.push(t,"f8edd9NeOlJApaTLeSFcJl7","Barn"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.ownData},start:function(){},onTouch:function(){var e=this;window.action_active||(window.action_active=!0,this.node.parent.parent._components[2].spawnNewObject("storage_main",0,0,void 0,function(t){t._components[1].barn_id=e.ownData.ID,t._components[1].placement=0}))}}),cc._RF.pop()},{}],Circle:[function(e,t){"use strict";cc._RF.push(t,"bd47dwc3UdL87lybYt11LC5","Circle"),cc.Class({extends:cc.Component,properties:{bags:{default:null,type:cc.Prefab},label_price:{default:null,type:cc.Prefab},rotate_left:{default:null,type:cc.Node},rotate_right:{default:null,type:cc.Node}},onLoad:function(){var e=this;this.our_plant=[],this.node.parent._components[2].deactivate_bottom_icon(),this.node.setPosition(cc.v2(0,-this.node.parent.height/2-this.node.height/4)),this.get_plants_info(),this.show_plant_seeds(),window.action_active=!0,this.node.parent.on("touchstart",function(t){var n=t.getLocation().x-e.node.parent.width/2,o=t.getLocation().y-e.node.parent.height/2;(n>e.node.x+e.node.width/2+56||n<e.node.x-e.node.width/2-56||o>e.node.y+e.node.height/2+56||o<e.node.y-e.node.height/2-56)&&(window.action_active=!1,e.node.parent._components[2].activate_bottom_icon(),e.node.destroy())},this)},start:function(){},get_plants_info:function(){for(var e=0;e<window.planting_data.length;e++)this.our_plant.push(window.planting_data[e])},show_plant_seeds:function(){for(var e=0;e<this.our_plant.length;e++){var t=this.rotation_transform_formula(0,this.node.height/2,e,this.our_plant.length);this.spawnNewObject(this.bags,cc.v2(t.x,t.y),e)}},spawnNewObject:function(e,t,n){var o=cc.instantiate(e);o._components[1].stuff_prefab=this.get_object_by_macros(this.our_plant[n].name),o._components[1].label_price=this.label_price,o._components[1].plant=this.our_plant[n],o._components[1].initial_x=t.x,o._components[1].initial_y=t.y,o._components[1].first_x=t.x,o._components[1].first_y=t.y,o._components[1].degree_by_index_per_length=n/this.our_plant.length*360,o.setPosition(t),this.node.addChild(o)},rotation_transform_formula:function(e,t,n,o){var i=2*Math.PI*(n/o);return{x:Math.cos(i)*e+-Math.sin(i)*t,y:Math.sin(i)*e+Math.cos(i)*t}},get_object_by_macros:function(e){switch(e){case"wheat":return this.node.parent._components[3].wheat_prefab;case"tomato":return this.node.parent._components[3].tomato_prefab}}}),cc._RF.pop()},{}],Game_friend:[function(e,t){"use strict";cc._RF.push(t,"1c4f7di4z1IRKF1DCpW1OsL","Game_friend"),cc.Class({extends:cc.Component,properties:{back_button:{default:null,type:cc.Node},level:{default:null,type:cc.Node},zoom_in:{default:null,type:cc.Node},zoom_out:{default:null,type:cc.Node},energy:{default:null,type:cc.Node}},onLoad:function(){this.getMeadowIndex(),this.organize_game_object(),this.back_onClick(),this.setLevel(),this.zoomOnTouch()},start:function(){},organize_game_object:function(){this.back_button.setPosition(cc.v2(-this.node.width/2+this.back_button.width,this.node.height/2-this.back_button.height)),this.energy.setPosition(cc.v2(-this.node.width/2+this.back_button.width,-this.node.height/2+1.5*this.back_button.height)),this.energy.children[0]._components[0].string=window.default_data.friend_data[window.friend_meadow_load.index].rest_of_helping,this.zoom_in.setPosition(cc.v2(this.node.width/2-this.zoom_out.width,this.node.height/2-this.zoom_in.height)),this.zoom_out.setPosition(cc.v2(this.node.width/2-this.zoom_in.width,this.node.height/2-this.zoom_in.height-2*this.zoom_out.height))},back_onClick:function(){this.back_button.on("touchend",function(){window.friend_meadow_load=!1,cc.director.loadScene("load_main_back")},this)},setLevel:function(){window.our_level;for(var e=1;e<=window.level_weight.length;e++)if(window.default_data.point_level>=window.level_weight[e-1])window.our_level=e;else if(window.default_data.point_level<window.level_weight[e-1])break;this.level.children[0].width=.92*this.level.width*((window.default_data.point_level-window.level_weight[window.our_level-1])/(window.level_weight[window.our_level]-window.level_weight[window.our_level-1])),this.level.children[0].x=-.92*this.level.width/2+this.level.children[0].width/2,this.level.children[2].children[0]._components[0].string=window.our_level},addLevelPoint:function(e){var t=window.our_level;window.default_data.point_level+=e,this.setLevel(),window.our_level>t&&console.log("congratulation: new lavel")},doActivity:function(e){var t=!0;if(window.default_data.friend_data[window.friend_meadow_load.index].rest_of_helping>0){if(5==window.default_data.friend_data[window.friend_meadow_load.index].rest_of_helping){var n=new Date;window.default_data.friend_data[window.friend_meadow_load.index].last_helping_time=n.getTime()+864e5}else 1==window.default_data.friend_data[window.friend_meadow_load.index].rest_of_helping&&(window.default_data.friend_data[window.friend_meadow_load.index].friendship_level+=1,window.default_data.friend_data[window.friend_meadow_load.index].friendship_level>1&&(window.default_data.friend_data[window.friend_meadow_load.index].friendship_level=1));window.friend_meadow_load.object[e].index=e,window.default_data.friend_data[window.friend_meadow_load.index].history.push(window.friend_meadow_load.object[e]),window.default_data.friend_data[window.friend_meadow_load.index].rest_of_helping-=1,0==window.default_data.friend_data[window.friend_meadow_load.index].rest_of_helping&&this.node.children[1]._components[1].show_gift(),this.energy.children[0]._components[0].string=window.default_data.friend_data[window.friend_meadow_load.index].rest_of_helping}else t=!1;return t},take_request_data:function(){0!=window.default_data.friend_data[window.friend_meadow_load.index].rest_of_helping||window.default_data.friend_data[window.friend_meadow_load.index].take_request[0][0]&&window.default_data.friend_data[window.friend_meadow_load.index].take_request[1][0]||this.node.children[1]._components[1].show_gift()},achievement_request:function(e,t){void 0===t&&(t=void 0);for(var n=0;n<window.default_data.achievement.length;n++)if(window.default_data.achievement[n].name==e){window.default_data.achievement[n].done+=null!=t?t:1;var o=window.default_data.achievement[n].count.length;window.default_data.achievement[n].done>window.default_data.achievement[n].count[o-1].amount&&(window.default_data.achievement[n].done=window.default_data.achievement[n].count[o-1].amount);break}},getItemAction:function(e,t,n){var o=this.node._components[3].get_prefab(e),i=cc.instantiate(o);i.scaleX=.01,i.scaleY=.01,i.setPosition(cc.v2(this.node.children[1].x+t*this.node.children[window.m_i].scaleX,this.node.children[1].y+n*this.node.children[window.m_i].scaleY)),this.node.addChild(i),cc.tween(i).to(.2,{scale:1}).to(1.5,{scale:{value:.2,easing:function(e){return e*e*e}},position:{value:cc.v2(this.back_button.position.x,this.back_button.position.y),easing:function(e){return e*e*e*e}}}).call(function(){i.destroy()}).start()},zoomOnTouch:function(){var e=this;this.zoom_out.on("touchstart",function(){1!=window.action_active&&(e.on_zoom_in=!1,e.on_zoom_out=!0,e.zoom_in.scaleX=1,e.zoom_in.scaleY=1,e.zoom_out.scaleX=1.5,e.zoom_out.scaleY=1.5)},this),this.zoom_in.on("touchstart",function(){1!=window.action_active&&(e.on_zoom_out=!1,e.on_zoom_in=!0,e.zoom_out.scaleX=1,e.zoom_out.scaleY=1,e.zoom_in.scaleX=1.5,e.zoom_in.scaleY=1.5)},this),this.zoom_out.on("touchend",function(){e.on_zoom_out=!1,e.zoom_out.scaleX=1,e.zoom_out.scaleY=1},this),this.zoom_in.on("touchend",function(){e.on_zoom_in=!1,e.zoom_in.scaleX=1,e.zoom_in.scaleY=1},this)},update:function(e){this.on_zoom_in&&(this.node.children[window.m_i].scaleX+=e,this.node.children[window.m_i].scaleY+=e,this.node.children[window.m_i].scaleX>2&&(this.node.children[window.m_i].scaleX=2,this.node.children[window.m_i].scaleY=2)),this.on_zoom_out&&(this.node.children[window.m_i].scaleX-=e,this.node.children[window.m_i].scaleY-=e,this.node.children[window.m_i].x>this.node.children[window.m_i].width/2-this.node.width/2/this.node.children[window.m_i].scaleX&&(this.node.children[window.m_i].x=this.node.children[window.m_i].width/2-this.node.width/2/this.node.children[window.m_i].scaleX),this.node.children[window.m_i].x<-1*(this.node.children[window.m_i].width/2-this.node.width/2/this.node.children[window.m_i].scaleX)&&(this.node.children[window.m_i].x=-1*(this.node.children[window.m_i].width/2-this.node.width/2/this.node.children[window.m_i].scaleX)),this.node.children[window.m_i].y>this.node.children[window.m_i].height/2-this.node.height/2/this.node.children[window.m_i].scaleY&&(this.node.children[window.m_i].y=this.node.children[window.m_i].height/2-this.node.height/2/this.node.children[window.m_i].scaleY),this.node.children[window.m_i].y<-1*(this.node.children[window.m_i].height/2-this.node.height/2/this.node.children[window.m_i].scaleY)&&(this.node.children[window.m_i].y=-1*(this.node.children[window.m_i].height/2-this.node.height/2/this.node.children[window.m_i].scaleY)),this.node.children[window.m_i].scaleX<1&&(this.node.children[window.m_i].scaleX=1,this.node.children[window.m_i].scaleY=1))},getMeadowIndex:function(){for(var e=0;e<this.node.children.length;e++)if("game_background"==this.node.children[e].name){window.m_i=e;break}}}),cc._RF.pop()},{}],Game:[function(e,t){"use strict";var n;cc._RF.push(t,"280c3rsZJJKnZ9RqbALVwtK","Game"),cc.Class({extends:cc.Component,properties:(n={meadow_background_node:{default:null,type:cc.Node},Money_label:{default:null,type:cc.Node},Gold_label:{default:null,type:cc.Node},capacity_info_barn:{default:null,type:cc.Node},capacity_info_silo:{default:null,type:cc.Node},farm_shop_icon:{default:null,type:cc.Node},zoom_in:{default:null,type:cc.Node},zoom_out:{default:null,type:cc.Node},level:{default:null,type:cc.Node},friends:{default:null,type:cc.Node},project_icon:{default:null,type:cc.Node},text_global:{default:null,type:cc.Prefab},padlock_prefab:{default:null,type:cc.Prefab},text_global_mikado:{default:null,type:cc.Prefab},circle_seeds_choice:{default:null,type:cc.Prefab},alert_prefab:{default:null,type:cc.Prefab},item_fed_box:{default:null,type:cc.Prefab},project_box:{default:null,type:cc.Prefab},storage_box:{default:null,type:cc.Prefab},friends_box:{default:null,type:cc.Prefab}},n.project_box={default:null,type:cc.Prefab},n.achievement_box={default:null,type:cc.Prefab},n.fertilizer_box={default:null,type:cc.Prefab},n.added_fertilizer_box={default:null,type:cc.Prefab},n.land_identity_box={default:null,type:cc.Prefab},n.volume={default:null,type:cc.Prefab},n.order_board={default:null,type:cc.Prefab},n.farm_shop_items={default:null,type:cc.Prefab},n.gold={default:null,type:cc.Prefab},n.money={default:null,type:cc.Prefab},n.arrow_to_inside={default:null,type:cc.Prefab},n.machine_item_box={default:null,type:cc.Prefab},n.info_item_box={default:null,type:cc.Prefab},n.queue_box={default:null,type:cc.Prefab},n.time_queue_box={default:null,type:cc.Prefab},n.collect_button={default:null,type:cc.Prefab},n.next_level_box={default:null,type:cc.Prefab},n.move_yes={default:null,type:cc.Prefab},n.move_bulldozer={default:null,type:cc.Prefab},n.move_no={default:null,type:cc.Prefab},n.confirm_box={default:null,type:cc.Prefab},n.ground_tree={default:null,type:cc.Prefab},n.ground_building={default:null,type:cc.Prefab},n.ground_machine={default:null,type:cc.Prefab},n.ground_animal={default:null,type:cc.Prefab},n.ground_decoration={default:null,type:cc.Prefab},n),onLoad:function(){this.set_all_global_data(),this.getMeadowIndex(),this.mousePosition={x:0,y:0},this.setCapacity(),this.setStorageCapacity(),this.organize_data(),this.onDrag(),this.farm_shop_icon_onClick(),this.friend_icon_onClick(),this.project_icon_onClick(),this.zoomOnTouch(),this.setLevel(),this.level_parameter_onClick(),this.organize_friend(),this.node._components[5].organize_project(),this.on_alert=!1},set_all_global_data:function(){window.action_active=!1,window.friend_meadow_load=!1,window.barn_capacity=[0,40,70,100,120],window.level_weight=[0,20,50,100,180,300,480,700,1e3],window.default_data=this.node._components[6].default_data.json,window.all_project=this.node._components[6].all_project.json,window.all_machine_data=this.node._components[6].all_machine_data.json,window.item_selling_price=this.node._components[6].item_selling_price.json,window.object_identity=this.node._components[6].object_identity.json,window.planting_data=this.node._components[6].planting_data.json,window.stuff_identity=this.node._components[6].stuff_identity.json,window.default_data.achievement=this.node._components[6].achievement_data.json,window.friend_data=this.node._components[6].friend_data.json},organize_data:function(){this.Money_label.setPosition(cc.v2(-this.node.width/2+this.Money_label.width/1.2,this.node.height/2-this.Money_label.height)),this.Money_label.children[1]._components[0].string=window.default_data.identity.money,this.Money_label.children[1].setPosition(cc.v2(this.Money_label.width/2-this.Money_label.children[1].width/2-this.Money_label.width/10,0)),this.Gold_label.setPosition(cc.v2(-this.node.width/2+this.Gold_label.width/1.2,this.node.height/2-this.Money_label.height-2*this.zoom_out.height)),this.Gold_label.children[1]._components[0].string=window.default_data.identity.gold,this.Gold_label.children[1].setPosition(cc.v2(this.Gold_label.width/2-this.Gold_label.children[1].width/2-this.Gold_label.width/10,0)),this.capacity_info_barn.setPosition(cc.v2(-this.node.width/2+this.capacity_info_barn.width/1.2,this.node.height/2-this.Money_label.height-4*this.zoom_out.height)),this.capacity_info_silo.setPosition(cc.v2(-this.node.width/2+this.capacity_info_silo.width/1.2,this.node.height/2-this.Money_label.height-5.5*this.zoom_out.height));for(var e=[0,0],t=0;t<window.default_data.storage[0].length;t++)e[0]+=window.default_data.storage[0][t].total;for(var n=0;n<window.default_data.storage[1].length;n++)e[1]+=window.default_data.storage[1][n].total;this.capacity_info_barn.children[0]._components[0].string=e[0]+"/"+window.our_capacity[0],this.capacity_info_silo.children[0]._components[0].string=e[1]+"/"+window.our_capacity[1],this.farm_shop_icon.setPosition(cc.v2(this.node.width/2-this.farm_shop_icon.width,-this.node.height/2+this.farm_shop_icon.height)),this.friends.setPosition(cc.v2(this.farm_shop_icon.x,this.farm_shop_icon.y+2*this.friends.height)),this.zoom_in.setPosition(cc.v2(this.node.width/2-this.zoom_out.width,this.node.height/2-this.Money_label.height)),this.zoom_out.setPosition(cc.v2(this.node.width/2-this.zoom_in.width,this.node.height/2-this.Money_label.height-2*this.zoom_out.height)),this.project_icon.setPosition(cc.v2(-this.node.width/2+this.farm_shop_icon.width,-this.node.height/2+this.farm_shop_icon.height))},update:function(e){this.organize_fertilizer(),this.on_zoom_in&&(this.node.children[window.m_i].scaleX+e>2?(this.node.children[window.m_i].scaleX=2,this.node.children[window.m_i].scaleY=2):(this.node.children[window.m_i].scaleX+=e,this.node.children[window.m_i].scaleY+=e,this.node.children[window.m_i].position.x=this.zoom_pos_start.x+(this.zoom_pos_end[0]-this.zoom_pos_start[0])*((2-this.zoom_scale_now)/(2-this.node.children[window.m_i].scaleX)),this.node.children[window.m_i].position.y=this.zoom_pos_start.y+(this.zoom_pos_end[1]-this.zoom_pos_start[1])*((2-this.zoom_scale_now)/(2-this.node.children[window.m_i].scaleY)))),this.on_zoom_out&&(this.node.children[window.m_i].scaleX-=e,this.node.children[window.m_i].scaleY-=e,this.node.children[window.m_i].x>this.node.children[window.m_i].width/2-this.node.width/2/this.node.children[window.m_i].scaleX&&(this.node.children[window.m_i].x=this.node.children[window.m_i].width/2-this.node.width/2/this.node.children[window.m_i].scaleX),this.node.children[window.m_i].x<-1*(this.node.children[window.m_i].width/2-this.node.width/2/this.node.children[window.m_i].scaleX)&&(this.node.children[window.m_i].x=-1*(this.node.children[window.m_i].width/2-this.node.width/2/this.node.children[window.m_i].scaleX)),this.node.children[window.m_i].y>this.node.children[window.m_i].height/2-this.node.height/2/this.node.children[window.m_i].scaleY&&(this.node.children[window.m_i].y=this.node.children[window.m_i].height/2-this.node.height/2/this.node.children[window.m_i].scaleY),this.node.children[window.m_i].y<-1*(this.node.children[window.m_i].height/2-this.node.height/2/this.node.children[window.m_i].scaleY)&&(this.node.children[window.m_i].y=-1*(this.node.children[window.m_i].height/2-this.node.height/2/this.node.children[window.m_i].scaleY)),this.node.children[window.m_i].scaleX<1&&(this.node.children[window.m_i].scaleX=1,this.node.children[window.m_i].scaleY=1))},onDrag:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_START,function(){window.MeadowMouseDown=!0}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){e.mousePosition.x=t.getLocation().x,e.mousePosition.y=t.getLocation().y}),this.node.on(cc.Node.EventType.TOUCH_END,function(){window.MeadowMouseDown=!1})},spawnNewObject:function(e,t,n,o,i){void 0===t&&(t=void 0),void 0===n&&(n=void 0),void 0===o&&(o=void 0),void 0===i&&(i=void 0);for(var a=!1,d=0;d<this.node.children.length;d++)this.node.children[d]._name==e&&(a=!0);if(!a){var c,s=cc.instantiate(this.get_object_by_macros(e));null!=i&&i(s),this.node.addChild(s),null!=t&&null!=n&&s.setPosition(cc.v2(t,n)),null!=o&&o(s);for(var r=0;r<this.node.children.length;r++)if(this.node.children[r].uuid==s.uuid){c=r;break}return c}},get_object_by_macros:function(e){switch(e){case"circle_seeds_choice":return this.circle_seeds_choice;case"storage_main":return this.storage_box;case"farm_shop_items":return this.farm_shop_items;case"ground_tree":return this.ground_tree;case"ground_building":return this.ground_building;case"ground_machine":return this.ground_machine;case"ground_animal":return this.ground_animal;case"ground_decoration":return this.ground_decoration;case"order_board":return this.order_board;case"queue_box":return this.queue_box;case"friends_box":return this.friends_box;case"machine_item_box":return this.machine_item_box;case"time_queue_box":return this.time_queue_box;case"info_item_box":return this.info_item_box;case"achievement_box":return this.achievement_box;case"collect_button":return this.collect_button;case"text_global":return this.text_global;case"text_global_mikado":return this.text_global_mikado;case"padlock":return this.padlock_prefab;case"project_box":return this.project_box;case"fertilizer_box":return this.fertilizer_box;case"added_fertilizer_box":return this.added_fertilizer_box;case"land_identity_box":return this.land_identity_box;case"gold":return this.gold;case"money":return this.money;case"move_no":return this.move_no;case"move_bulldozer":return this.move_bulldozer;case"move_yes":return this.move_yes;case"confirm_box":return this.confirm_box;case"next_level_box":return this.next_level_box;default:console.error("unknown object : "+e)}},farm_shop_icon_onClick:function(){var e=this;this.farm_shop_icon.on("touchend",function(){if(e.shop_open){for(var t=0;t<e.node.children.length;t++)if(e.node.children[t]._name==e.farm_shop_items.data.name){e.node.children[t].destroy(),e.shop_open=!1;break}}else e.spawnNewObject("farm_shop_items",e.farm_shop_icon.x-(120+e.farm_shop_icon.width),e.farm_shop_icon.y),e.shop_open=!0},this)},friend_icon_onClick:function(){var e=this;this.friends.on("touchend",function(){window.action_active||(e.spawnNewObject("friends_box",0,0),window.action_active=!0)},this)},project_icon_onClick:function(){var e=this;this.project_icon.on("touchend",function(){window.action_active||(e.spawnNewObject("project_box",0,0),window.action_active=!0)},this)},zoomOnTouch:function(){var e=this;this.zoom_out.on("touchstart",function(){1!=window.action_active&&(e.on_zoom_in=!1,e.on_zoom_out=!0,e.zoom_in.scaleX=1,e.zoom_in.scaleY=1,e.zoom_out.scaleX=1.5,e.zoom_out.scaleY=1.5)},this),this.zoom_in.on("touchstart",function(){if(1!=window.action_active){var t=e.node.children[window.m_i].position.x,n=e.node.children[window.m_i].position.y,o=e.node.children[window.m_i].scaleX;e.on_zoom_out=!1,e.on_zoom_in=!0,e.zoom_pos_start=[t,n],e.zoom_pos_end=[t*(2/o),n*(2/o)],e.zoom_scale_now=o,e.zoom_scale_start=[2,2],e.zoom_out.scaleX=1,e.zoom_out.scaleY=1,e.zoom_in.scaleX=1.5,e.zoom_in.scaleY=1.5}},this),this.zoom_out.on("touchend",function(){e.on_zoom_out=!1,e.zoom_out.scaleX=1,e.zoom_out.scaleY=1},this),this.zoom_in.on("touchend",function(){e.on_zoom_in=!1,e.zoom_in.scaleX=1,e.zoom_in.scaleY=1},this)},show_alert:function(e){for(var t=!1,n=0;n<this.node.children.length;n++)this.node.children[n].name==this.alert_prefab.data.name&&(t=!0);if(!t){var o=cc.instantiate(this.alert_prefab);this.node.addChild(o),o.children[0]._components[0].string=e,o.setPosition(cc.v2(0,-1e3)),cc.tween(o).to(.5,{position:cc.v2(0,0)},{easing:"cubicInOut"}).delay(1).to(1,{position:cc.v2(0,1e3)},{easing:"cubicInOut"}).call(function(){o.destroy()}).start()}},getMeadowIndex:function(){for(var e=0;e<this.node.children.length;e++)if("game_background"==this.node.children[e].name){window.m_i=e;break}},setLevel:function(){window.our_level;for(var e=1;e<=window.level_weight.length;e++)if(window.default_data.point_level>=window.level_weight[e-1])window.our_level=e;else if(window.default_data.point_level<window.level_weight[e-1])break;this.level.children[0].width=.92*this.level.width*((window.default_data.point_level-window.level_weight[window.our_level-1])/(window.level_weight[window.our_level]-window.level_weight[window.our_level-1])),this.level.children[0].x=-.92*this.level.width/2+this.level.children[0].width/2,this.level.children[2].children[0]._components[0].string=window.our_level},level_parameter_onClick:function(){var e=this;this.level.on("touchend",function(){window.action_active=!0,e.spawnNewObject("next_level_box",0,0)},this)},addLevelPoint:function(e){var t=window.our_level;window.default_data.point_level+=e,this.setLevel(),window.our_level>t&&this.node._components[5].organize_project()},addMoney:function(e){window.default_data.identity.money+=e,this.organize_data()},addGold:function(e){window.default_data.identity.gold+=e,this.organize_data()},getActivity:function(e,t){void 0===t&&(t=void 0),e=e.replace("_"," ");for(var n=0;n<window.default_data.task_now.length;n++)for(var o=0;o<window.default_data.task_now[n].project.length;o++)window.default_data.task_now[n].project[o].activity==e&&window.default_data.task_now[n].project[o].finish<window.default_data.task_now[n].project[o].times&&(null!=t?(window.default_data.task_now[n].project[o].finish+=t,window.default_data.task_now[n].project[o].finish>=window.default_data.task_now[n].project[o].times&&(window.default_data.task_now[n].project[o].finish=window.default_data.task_now[n].project[o].times)):window.default_data.task_now[n].project[o].finish+=1)},achievement_request:function(e,t){void 0===t&&(t=void 0);for(var n=0;n<window.default_data.achievement.length;n++)if(window.default_data.achievement[n].name==e){window.default_data.achievement[n].done+=null!=t?t:1;var o=window.default_data.achievement[n].count.length;window.default_data.achievement[n].done>window.default_data.achievement[n].count[o-1].amount&&(window.default_data.achievement[n].done=window.default_data.achievement[n].count[o-1].amount);break}},setCapacity:function(){for(var e=[],t=[],n=0;n<window.item_selling_price.length;n++){for(var o=window.item_selling_price[n].name,i=0,a=0;a<window.default_data.storage[0].length;a++)if(window.default_data.storage[0][a].name==o){i=window.default_data.storage[0][a].total;break}for(var d=0;d<window.default_data.storage[1].length;d++)if(window.default_data.storage[1][d].name==o){i=window.default_data.storage[1][d].total;break}"barn"==window.item_selling_price[n].placement?e.push({name:o,total:i}):"silo"==window.item_selling_price[n].placement?t.push({name:o,total:i}):console.error(window.item_selling_price[n].placement)}window.default_data.storage[0]=e,window.default_data.storage[1]=t},addItemOnStorage:function(e,t){var n;void 0===t&&(t=1);for(var o=0;o<window.item_selling_price.length;o++)if(window.item_selling_price[o].name==e){"barn"==window.item_selling_price[o].placement?n=0:"silo"==window.item_selling_price[o].placement?n=1:console.error(window.item_selling_price[o].placement);break}for(var i=!0,a=0,d=!0,c=0;c<window.default_data.storage[n].length;c++)a+=window.default_data.storage[n][c].total;if(a+t<=window.our_capacity[n]){d=!1;for(var s=0;s<window.default_data.storage[n].length;s++)if(window.default_data.storage[n][s].name==e){if(window.default_data.storage[n][s].total+t<0)return void(i=!1);window.default_data.storage[n][s].total+=t;break}}else this.show_alert("kapasitas terbatas",0,0,new cc.Color(200,0,0));return[i,d,a,t]},organize_friend:function(){for(var e=0;e<window.default_data.friend_data.length;e++){var t=new Date,n=window.default_data.friend_data[e].last_helping_time-t.getTime();n<=0&&(window.default_data.friend_data[e].rest_of_helping=5,window.default_data.friend_data[e].history=[],window.default_data.friend_data[e].friendship_level+=.1*Math.ceil(n/1296e5),window.default_data.friend_data[e].last_helping_time=t.getTime()-864e5+864e5+n%1296e5,window.default_data.friend_data[e].take_request=[[!1,!1],[!1,!1]]),window.default_data.friend_data[e].friendship_level<0&&(window.default_data.friend_data[e].friendship_level=0)}},setStorageCapacity:function(){window.our_capacity=[0,0];for(var e=0;e<window.default_data.object.length;e++)"barn"==window.default_data.object[e].name&&(window.our_capacity[0]+=20+5*(window.default_data.object[e].level-1)),"silo"==window.default_data.object[e].name&&(window.our_capacity[1]+=30+5*(window.default_data.object[e].level-1))},getItemAction:function(e,t,n){for(var o,i=this,a=0;a<window.item_selling_price.length;a++)if(window.item_selling_price[a].name==e){o=window.item_selling_price[a].placement;break}var d=this.node._components[3].get_prefab(e),c=cc.instantiate(d);c.scaleX=.01,c.scaleY=.01,c.setPosition(cc.v2(t,n)),this.node.addChild(c);var s={index:0,x:0,y:0};"barn"==o?(s.x=this.capacity_info_barn.x,s.y=this.capacity_info_barn.y):"silo"==o&&(s.x=this.capacity_info_silo.x,s.y=this.capacity_info_silo.y),cc.tween(c).to(.2,{scale:1}).to(1.5,{scale:{value:.2,easing:function(e){return e*e*e}},position:{value:cc.v2(s.x,s.y),easing:function(e){return e*e*e*e}}}).call(function(){i.organize_data(),c.destroy()}).start()},addGoldWithAction:function(e,t,n){var o=this,i=cc.instantiate(this.gold);i.width=50,i.height=50,i.scaleX=.01,i.scaleY=.01,i.setPosition(cc.v2(t,n)),this.node.addChild(i);var a=cc.instantiate(this.text_global);a.setPosition(cc.v2(20,-10)),a._components[0].string="+"+e,a._components[0].fontSize=18,a._components[0].enabledBold=!0,i.addChild(a),cc.tween(i).to(.5,{scale:1}).to(1.5,{scale:{value:.2,easing:function(e){return e*e*e}},position:{value:cc.v2(this.Gold_label.x,this.Gold_label.y),easing:function(e){return e*e*e*e}}}).call(function(){window.default_data.identity.gold+=e,o.organize_data(),i.destroy()}).start()},addMoneyWithAction:function(e,t,n){var o=this,i=cc.instantiate(this.money);i.width=50,i.height=50,i.scaleX=.01,i.scaleY=.01,i.setPosition(cc.v2(t,n)),this.node.addChild(i);var a=cc.instantiate(this.text_global);a.setPosition(cc.v2(20,-10)),a._components[0].string="+"+e,a._components[0].fontSize=18,a._components[0].enabledBold=!0,i.addChild(a),cc.tween(i).to(.5,{scale:1}).to(1.5,{scale:{value:.2,easing:function(e){return e*e*e}},position:{value:cc.v2(this.Money_label.x,this.Money_label.y),easing:function(e){return e*e*e*e}}}).call(function(){window.default_data.identity.money+=e,o.organize_data(),i.destroy()}).start()},organize_fertilizer:function(){if("none"!=window.default_data.fertilizer_data.now.type){var e=new Date;window.default_data.fertilizer_data.now.times_end<e.getTime()&&(window.default_data.fertilizer_data.now.type="none",window.default_data.fertilizer_data.now.times_start=0,window.default_data.fertilizer_data.now.times_end=0)}},spawn_move_object:function(e,t,n){var o,i,a=this,d=-this.node.height/2+this.move_bulldozer.data.height/2;null!=t?(o=this.move_bulldozer.data.width,i=-this.move_bulldozer.data.width,this.spawnNewObject("move_bulldozer",0,d,void 0,function(e){e.children[0].on("touchend",function(n){t(e.children[0],n)},a)})):(o=this.move_bulldozer.data.width/2,i=-this.move_bulldozer.data.width/2),this.spawnNewObject("move_no",i,d,void 0,function(e){e.children[0].on("touchend",function(t){n(e.children[0],t)},a)}),this.spawnNewObject("move_yes",o,d,void 0,function(t){t.children[0].on("touchend",function(n){e(t.children[0],n)},a)})},destroy_move_object:function(){for(var e=this.node.children.length-1;e>=0;e--)this.node.children[e].name!=this.move_bulldozer.data.name&&this.node.children[e].name!=this.move_no.data.name&&this.node.children[e].name!=this.move_yes.data.name||this.node.children[e].destroy()},spawn_confirm_prefab:function(e,t){var n=this;void 0===t&&(t=void 0),this.spawnNewObject("confirm_box",0,0,void 0,function(o){o.addChild(t),t.setPosition(cc.v2(0,30)),o.children[0].on("touchend",function(t){e(o,t)},n),o.children[1].on("touchend",function(){o.destroy()},n)})},activate_bottom_icon:function(){this.friends.active=!0,this.friends.opacity=255,this.project_icon.active=!0,this.project_icon.opacity=255,this.farm_shop_icon.active=!0,this.farm_shop_icon.opacity=255},deactivate_bottom_icon:function(){this.friends.active=!1,this.friends.opacity=0,this.project_icon.active=!1,this.project_icon.opacity=0,this.farm_shop_icon.active=!1,this.farm_shop_icon.opacity=0}}),cc._RF.pop()},{}],Get_prefab:[function(e,t){"use strict";cc._RF.push(t,"94343E26RtFAKQ1UDeeksRW","Get_prefab"),cc.Class({extends:cc.Component,properties:{orange_prefab:{default:null,type:cc.Prefab},mango_prefab:{default:null,type:cc.Prefab},wheat_prefab:{default:null,type:cc.Prefab},tomato_prefab:{default:null,type:cc.Prefab},egg_prefab:{default:null,type:cc.Prefab},milk_prefab:{default:null,type:cc.Prefab},fleece_prefab:{default:null,type:cc.Prefab},flour_prefab:{default:null,type:cc.Prefab},try_prefab_1:{default:null,type:cc.Prefab},measuring_tape:{default:null,type:cc.Prefab},hammer:{default:null,type:cc.Prefab},nail:{default:null,type:cc.Prefab},fertilizer_x2:{default:null,type:cc.Prefab},fertilizer_x4:{default:null,type:cc.Prefab},fertilizer_x8:{default:null,type:cc.Prefab}},start:function(){},get_prefab:function(e){switch(e){case"wheat":return this.wheat_prefab;case"mango":return this.mango_prefab;case"orange":return this.orange_prefab;case"tomato":return this.tomato_prefab;case"egg":return this.egg_prefab;case"milk":return this.milk_prefab;case"fleece":return this.fleece_prefab;case"flour":return this.flour_prefab;case"try_prefab_1":return this.try_prefab_1;case"measuring_tape":return this.measuring_tape;case"hammer":return this.hammer;case"nail":return this.nail;case"fertilizer_x2":return this.fertilizer_x2;case"fertilizer_x4":return this.fertilizer_x4;case"fertilizer_x8":return this.fertilizer_x8;default:console.error('unknown object "'+e+'"')}}}),cc._RF.pop()},{}],Meadow_friend:[function(e,t){"use strict";cc._RF.push(t,"10382HVOWxBla+KoT5OkuMq","Meadow_friend"),cc.Class({extends:cc.Component,properties:{t_o:{default:null,type:cc.Prefab},gift_alert:{default:null,type:cc.Prefab},land_object:{default:null,type:cc.JsonAsset}},onLoad:function(){this.MeadowMouseDown=!1,this.onDrag(),this.land_coord(window.friend_meadow_load.land),this.sort_object_by_y_coord(),this.spawn_many_object(),this.node.parent._components[2].take_request_data()},start:function(){},onDrag:function(){var e=this,t=this.node.parent.width,n=this.node.parent.height;this.node.on("touchstart",function(){e.MeadowMouseDown=!0},this),this.node.on("touchmove",function(o){e.delta=o.getDelta(),e.mouse_position=o.getLocation(),e.MeadowMouseDown&&(e.node.x+=e.delta.x,Math.abs(e.node.x)>e.node.width/2*e.node.scaleX-t/2&&(e.node.x<0?e.node.x=-1*(e.node.width/2*e.node.scaleX-t/2):e.node.x=1*(e.node.width/2*e.node.scaleX-t/2)),e.node.y+=e.delta.y,Math.abs(e.node.y)>e.node.height/2*e.node.scaleY-n/2&&(e.node.y<0?e.node.y=-1*(e.node.height/2*e.node.scaleY-n/2):e.node.y=1*(e.node.height/2*e.node.scaleY-n/2)))},this),this.node.on("touchend",function(){e.MeadowMouseDown=!1},this)},sort_object_by_y_coord:function(){for(var e=0;e<window.friend_meadow_load.object.length;e++){for(var t=0,n=0,o=0,i=0,a=0;a<window.object_identity.length;a++)if(window.object_identity[a].name==window.friend_meadow_load.object[e].name){t=window.object_identity[a].plot_of_move_system.start_x,i=window.object_identity[a].plot_of_move_system.cols,o=window.object_identity[a].plot_of_move_system.rows,n=window.object_identity[a].plot_of_move_system.start_y;break}for(var d=[],c=0;c<o;c++){for(var s=t,r=n,_=0;_<i;_++)d.push([window.friend_meadow_load.object[e].coord.x+s,window.friend_meadow_load.object[e].coord.y+r]),s+=15,r+=10;t+=15,n-=10}window.friend_meadow_load.object[e].square_data=d}window.friend_meadow_load.object.sort(function(e,t){return t.coord.y-e.coord.y})},spawn_many_object:function(){for(var e=this,t=0;t<this.node.children.length;t++)this.node.children[t].destroy();for(var n=0;n<window.default_data.friend_data[window.friend_meadow_load.index].history.length;n++){var o=window.default_data.friend_data[window.friend_meadow_load.index].history[n].index;window.friend_meadow_load.object[o]=window.default_data.friend_data[window.friend_meadow_load.index].history[n]}for(var i=0,a=0;a<window.friend_meadow_load.object.length;a++)window.friend_meadow_load.object[a].ID=a,i=a,this.spawnNewObject(window.friend_meadow_load.object[a]);for(var d=0;d<window.friend_meadow_load.object.length;d++){i+=1;for(var c=void 0,s=0;s<window.stuff_identity.length;s++)if(window.stuff_identity[s].object_name==window.friend_meadow_load.object[d].name){c=window.stuff_identity[s];break}if("plant"==c.type||"tree"==c.type||"animal"==c.type||"machine"==c.type||"friend"==c.type){var r=cc.instantiate(this.t_o);r._components[1].object_data=window.friend_meadow_load.object[d],r._components[1].t_o_id=i,r._components[1].stuff_identity=c;for(var _=0;_<window.object_identity.length;_++)window.object_identity[_].name==r._components[1].object_data.name&&(r._components[1].object_identity=window.object_identity[_],r.angle=window.object_identity[_].t_o.rotation,r.scaleX=window.object_identity[_].t_o.scaleX,r.scaleY=window.object_identity[_].t_o.scaleY,r.width=window.object_identity[_].t_o.width,r.height=window.object_identity[_].t_o.height,r.setPosition(cc.v2(window.object_identity[_].t_o.x+window.friend_meadow_load.object[d].coord.x,window.object_identity[_].t_o.y+window.friend_meadow_load.object[d].coord.y)));this.node.addChild(r)}}for(var l=function(t){for(var n=0;n<e.land_object.json[e.vacant_land[t].index].object.length;n++)if("for_sale"==e.land_object.json[e.vacant_land[t].index].object[n].object_name){e.land_object.json[e.vacant_land[t].index].object.splice(n,1);break}for(var o=0;o<e.land_object.json[e.vacant_land[t].index].object.length;o++){var i=e.vacant_land[t].index,a=e.vacant_land[t].coord,d=e.get_object_by_macros(e.land_object.json[i].object[o].object_name),c=cc.instantiate(d);c.setPosition(cc.v2(a.centerX+e.land_object.json[i].object[o].coord[0],a.centerY+e.land_object.json[i].object[o].coord[1])),e.node.addChild(c)}e.spawnNewObject_with_macros_and_pos("dot_land",e.vacant_land[t].coord.centerX,e.vacant_land[t].coord.centerY,{},function(n){var o=e.vacant_land[t].height/2,i=Math.sqrt(o*o+o*o);n.angle=45,n.width=i,n.height=i,n.opacity=1})},h=0;h<this.vacant_land.length;h++)l(h)},spawnNewObject:function(e){var t=cc.instantiate(this.get_object_by_macros(e.name));t._components[1].ownData=e,this.node.addChild(t),t.setPosition(cc.v2(e.coord.x,e.coord.y))},spawnNewObject_with_macros_and_pos:function(e,t,n,o,i){void 0===o&&(o=void 0),void 0===i&&(i=void 0);var a=cc.instantiate(this.get_object_by_macros(e));null!=o&&(a._components[1].import_data=o),null!=i&&i(a),this.node.addChild(a),a.setPosition(cc.v2(t,n))},get_object_by_macros:function(e){switch(e){case"chicken_area":return this.node._components[3].chicken_area_prefab;case"cow_area":return this.node._components[3].cow_area_prefab;case"sheep_area":return this.node._components[3].sheep_area_prefab;case"goat_area":return this.node._components[3].goat_area_prefab;case"barn":return this.node._components[4].barn_prefab;case"agricultural_aircraft":return this.node._components[4].agricultural_aircraft_prefab;case"silo":return this.node._components[4].silo;case"wall_a":return this.node._components[5].wall_a;case"wall_b":return this.node._components[5].wall_b;case"wall_c":return this.node._components[5].wall_c;case"footpath_a":return this.node._components[5].footpath_a;case"home_1":return this.node._components[6].home_1_prefab;case"order_board":return this.node._components[6].order_board_prefab;case"grinding_machine":return this.node._components[7].grinding_machine_prefab;case"planting_slot":return this.node._components[8].planting_slot_prefab;case"orange_tree":return this.node._components[9].tree_orange_prefab;case"mango_tree":return this.node._components[9].tree_mango_prefab;case"forest_tree1":return this.node._components[2].forest_tree1;case"forest_tree2":return this.node._components[2].forest_tree2;case"forest_tree3":return this.node._components[2].forest_tree3;case"forest_tree4":return this.node._components[2].forest_tree4;case"weeds1":return this.node._components[2].weeds1;case"weeds2":return this.node._components[2].weeds2;case"weeds3":return this.node._components[2].weeds3;case"weeds4":return this.node._components[2].weeds4;case"stone1":return this.node._components[2].stone1;case"stone2":return this.node._components[2].stone2;case"stone3":return this.node._components[2].stone3;case"stone4":return this.node._components[2].stone4;case"stone5":return this.node._components[2].stone5;case"dot_land":return this.node._components[2].dot_land;case"raden":return this.node._components[10].raden;case"rama":return this.node._components[10].rama;case"yishen":return this.node._components[10].yishen;default:console.error("unknown object: "+e)}},land_coord:function(e){var t=this.land_object.json;this.our_land=[],this.vacant_land=[];for(var n=0;n<t.length;n++){for(var o=!1,i=0;i<e.length;i++)if(e[i]==n){o=!0;break}1==o?this.our_land.push(t[n].position):this.vacant_land.push({index:n,coord:t[n].position,width:480,height:320})}},show_gift:function(){for(var e=0;e<this.node.children.length&&this.node.children[e]._components[1].ownData;e++)if(this.node.children[e]._components[1].ownData.name==window.friend_meadow_load.identity.farm_name){var t=cc.instantiate(this.gift_alert);this.node.children[e].addChild(t)}}}),cc._RF.pop()},{}],Meadow:[function(e,t){"use strict";cc._RF.push(t,"3c523iqcedDkrRvthis5C35","Meadow"),cc.Class({extends:cc.Component,properties:{land_object:{default:null,type:cc.JsonAsset},Bucket:{default:null,type:cc.Prefab},time_showing:{default:null,type:cc.Prefab},time_label:{default:null,type:cc.Prefab},produce_machine:{default:null,type:cc.Prefab},t_o:{default:null,type:cc.Prefab},whiteSquare:{default:null,type:cc.Prefab},redSquare:{default:null,type:cc.Prefab},player:{default:null,type:cc.Prefab}},onLoad:function(){this.show(),window.MeadowMouseDown=!1,this.onDrag()},update:function(){this.move_meadow()},start:function(){},show:function(){for(var e=0;e<this.node.children.length;e++)this.node.children[e]&&this.node.children[e].destroy();this.land_coord(window.default_data.land),this.last_index_for_square=void 0,this.sort_object_by_y_coord(),this.spawn_many_object()},MoveMeadow:function(e,t){var n={x:!0,y:!0};return this.node.x+=e,Math.abs(this.node.x)>this.node.width/2*this.node.scaleX-this.node.parent.width/2&&(this.node.x<0?(this.node.x=-1*(this.node.width/2*this.node.scaleX-this.node.parent.width/2),n.x=!1):(this.node.x=1*(this.node.width/2*this.node.scaleX-this.node.parent.width/2),n.x=!1)),this.node.y+=t,Math.abs(this.node.y)>this.node.height/2*this.node.scaleY-this.node.parent.height/2&&(this.node.y<0?(this.node.y=-1*(this.node.height/2*this.node.scaleY-this.node.parent.height/2),n.y=!1):(this.node.y=1*(this.node.height/2*this.node.scaleY-this.node.parent.height/2),n.y=!1)),n},onDrag:function(){var e=this,t=this.node.parent.width,n=this.node.parent.height;this.node.on("touchstart",function(){window.isnt_walk=!1,window.MeadowMouseDown=!0},this),this.node.on("touchmove",function(o){e.delta=o.getDelta(),e.mouse_position=o.getLocation(),window.MeadowMouseDown&&(window.MeadowOnDrag=!0,window.isnt_walk=!0,e.node.x+=e.delta.x,Math.abs(e.node.x)>e.node.width/2*e.node.scaleX-t/2&&(e.node.x<0?e.node.x=-1*(e.node.width/2*e.node.scaleX-t/2):e.node.x=1*(e.node.width/2*e.node.scaleX-t/2)),e.node.y+=e.delta.y,Math.abs(e.node.y)>e.node.height/2*e.node.scaleY-n/2&&(e.node.y<0?e.node.y=-1*(e.node.height/2*e.node.scaleY-n/2):e.node.y=1*(e.node.height/2*e.node.scaleY-n/2)))},this),this.node.on("touchend",function(){window.MeadowMouseDown=!1,window.MeadowOnDrag=!1},this)},spawnNewObject:function(e,t){var n=cc.instantiate(this.get_object_by_macros(e.name));if(n._components[1].ownData=e,t&&(n._components[1].import_data=t),e.start_walk&&e.start_walk.x!=e.coord.x&&e.start_walk.y!=e.coord.y){var o=e.start_walk.x-e.coord.x,i=e.start_walk.y-e.coord.y,a=Math.sqrt(o*o+i*i);if(a>120){var d=120/a;e.start_walk.x=e.coord.x+o*d,e.start_walk.y=e.coord.y+i*d}}this.node.addChild(n);var c=e.start_walk?e.start_walk.x:e.coord.x,s=e.start_walk?e.start_walk.y:e.coord.y;return n.setPosition(cc.v2(c,s)),n.uuid},spawnNewObject_with_macros_and_pos:function(e,t,n,o,i){void 0===o&&(o=void 0),void 0===i&&(i=void 0);var a=cc.instantiate(this.get_object_by_macros(e));null!=o&&(a._components[1].import_data=o),null!=i&&i(a),this.node.addChild(a),a.setPosition(cc.v2(t,n))},spawn_many_square:function(e,t,n,o,i,a,d,c){var s=this.node.children.length-1;if(null==this.last_index_for_square)for(var r=0;r<this.node.children.length;r++)if(this.node.children[r].name==this.whiteSquare.data.name){this.last_index_for_square=r;break}this.cols_and_rows_square=[i,a,n,o],c&&(e=this.node.children[this.node.children.length-i*a].x,t=this.node.children[this.node.children.length-i*a].y);var _=!1,l=void 0,h=this.last_index_for_square;if(null!=this.last_index_for_square)for(var w=0;w<this.node.children.length;w++)if(this.node.children[w].name==this.whiteSquare.data.name){h=w;break}for(var p=0;p<a;p++){for(var u=n,m=o,f=0;f<i;f++){for(var b="redSquare",y=0;y<this.land_square_coord.length;y++){for(var v=e+u,g=t+m,x=!1,j=0;j<this.land_square_coord[y].length;j++)if(Math.abs(v-this.land_square_coord[y][j][0])<=7.5&&g<=this.land_square_coord[y][j][1]&&g>=this.land_square_coord[y][j][2]){b="greenSquare",_=!0,x=!0;break}if(x)break}if("greenSquare"==b)for(var D=0;D<window.default_data.object.length;D++)if(d!=window.default_data.object[D].ID)for(var C=0;C<window.default_data.object[D].square_data.length;C++)cc.v3(window.default_data.object[D].square_data[C][0],window.default_data.object[D].square_data[C][1]).sub(cc.v3(e+u,t+m)).mag()<=15&&(b="redSquare"),(t+m>315||t+m<-800||e+u>1260)&&(b="redSquare");if("redSquare"==b?_=!1:"greenSquare"==b&&(_=!0),0==_&&null==l&&(l=!1),this.node.children[s]._name!=this.whiteSquare.data._name){var P=cc.instantiate(this.whiteSquare);"greenSquare"==b?P.color=new cc.Color(20,200,20):"redSquare"==b?P.color=new cc.Color(200,20,20):console.error("unknown color : "+b),this.node.addChild(P),P.setPosition(cc.v2(e+u,t+m))}else this.node.children[s]._name==this.whiteSquare.data._name?("greenSquare"==b?this.node.children[h].color=new cc.Color(20,200,20):"redSquare"==b?this.node.children[h].color=new cc.Color(200,20,20):this.node.children[h].error("unknown color : "+b),this.node.children[h].setPosition(cc.v2(e+u,t+m))):console.error("problem move object");u+=15,m+=10,h++}n+=15,o-=10}return null!=l&&(_=l),_},destroy_last_child:function(e){void 0===e&&(e=1);for(var t=0;t<e;t++)this.node.children.pop()},destroy_many_square:function(){for(var e=this.cols_and_rows_square[0]*this.cols_and_rows_square[1];e>0;e--)this.node.children.pop();this.last_index_for_square=void 0},changeGreenAndRedPosition:function(e,t){for(var n=this.cols_and_rows_square[2],o=this.cols_and_rows_square[3],i=1,a=0;a<this.cols_and_rows_square[1];a++){for(var d=n,c=o,s=0;s<this.cols_and_rows_square[0];s++)this.node.children[this.node.children.length-i].setPosition(e+d,t+c),d+=15,c+=10,i+=1;n+=15,o-=10}},get_object_by_macros:function(e){switch(e){case"whiteSquare":return this.whiteSquare;case"redSquare":return this.redSquare;case"chicken_area":return this.node._components[3].chicken_area_prefab;case"cow_area":return this.node._components[3].cow_area_prefab;case"sheep_area":return this.node._components[3].sheep_area_prefab;case"goat_area":return this.node._components[3].goat_area_prefab;case"barn":return this.node._components[4].barn_prefab;case"agricultural_aircraft":return this.node._components[4].agricultural_aircraft_prefab;case"silo":return this.node._components[4].silo;case"wall_a":return this.node._components[5].wall_a;case"wall_b":return this.node._components[5].wall_b;case"wall_c":return this.node._components[5].wall_c;case"footpath_a":return this.node._components[5].footpath_a;case"home_1":return this.node._components[6].home_1_prefab;case"order_board":return this.node._components[6].order_board_prefab;case"grinding_machine":return this.node._components[7].grinding_machine_prefab;case"planting_slot":return this.node._components[8].planting_slot_prefab;case"orange_tree":return this.node._components[9].tree_orange_prefab;case"mango_tree":return this.node._components[9].tree_mango_prefab;case"forest_tree1":return this.node._components[2].forest_tree1;case"forest_tree2":return this.node._components[2].forest_tree2;case"forest_tree3":return this.node._components[2].forest_tree3;case"forest_tree4":return this.node._components[2].forest_tree4;case"weeds1":return this.node._components[2].weeds1;case"weeds2":return this.node._components[2].weeds2;case"weeds3":return this.node._components[2].weeds3;case"weeds4":return this.node._components[2].weeds4;case"stone1":return this.node._components[2].stone1;case"stone2":return this.node._components[2].stone2;case"stone3":return this.node._components[2].stone3;case"stone4":return this.node._components[2].stone4;case"stone5":return this.node._components[2].stone5;case"dot_land":return this.node._components[2].dot_land;case"for_sale":return this.node._components[2].for_sale;case"player":return this.player;default:console.error("unknown object: "+e)}},spawn_many_object:function(){for(var e=this,t=0;t<this.node.children.length;t++)this.node.children[t].destroy();for(var n=0,o=0;o<window.default_data.object.length;o++)window.default_data.object[o].ID=o,n=o,"player"==window.default_data.object[o].name&&(this.player_index=o),this.spawnNewObject(window.default_data.object[o]);for(var i=0;i<window.default_data.object.length;i++){n+=1;for(var a=void 0,d=0;d<window.stuff_identity.length;d++)if(window.stuff_identity[d].object_name==window.default_data.object[i].name){a=window.stuff_identity[d];break}var c=cc.instantiate(this.t_o);c._components[1].stuff_identity=a,c._components[1].object_data=window.default_data.object[i],c._components[1].t_o_id=n;for(var s=0;s<window.object_identity.length;s++)window.object_identity[s].name==c._components[1].object_data.name&&(c._components[1].object_identity=window.object_identity[s],c.angle=window.object_identity[s].t_o.rotation,c.scaleX=window.object_identity[s].t_o.scaleX,c.scaleY=window.object_identity[s].t_o.scaleY,c.width=window.object_identity[s].t_o.width,c.height=window.object_identity[s].t_o.height,c.setPosition(cc.v2(window.object_identity[s].t_o.x+window.default_data.object[i].coord.x,window.object_identity[s].t_o.y+window.default_data.object[i].coord.y)));this.node.addChild(c)}for(var r=function(t){var n=e.vacant_land[t].coord;if(e.vacant_land[t].available_level<=window.our_level){var o=e.get_object_by_macros("for_sale"),i=cc.instantiate(o);i.setPosition(cc.v2(n.centerX,n.centerY)),e.node.addChild(i)}e.spawnNewObject_with_macros_and_pos("dot_land",e.vacant_land[t].coord.centerX,e.vacant_land[t].coord.centerY,{},function(n){var o=e.vacant_land[t].height/2,i=Math.sqrt(o*o+o*o);n.angle=45,n.width=i,n.height=i,n.opacity=1,n.on("touchend",function(){if(!window.MeadowOnDrag&&!window.action_active){window.action_active=!0,e.set_move_meadow(-e.vacant_land[t].coord.centerX*e.node.scaleX,-e.vacant_land[t].coord.centerY*e.node.scaleY);for(var n=e.node.parent._components[2].land_identity_box,o=0;o<e.node.children.length;o++)e.node.children[o].name==e.redSquare.data.name&&e.node.children[o].destroy();for(var i=e.vacant_land[t].coord.firstX,a=e.vacant_land[t].coord.firstY,d=e.vacant_land[t].coord.rows,c=e.vacant_land[t].coord.cols,s=0;s<d;s++){for(var r=i,_=a,l=0;l<c;l++)e.vacant_land[t].coord.centerY+_<=315&&e.vacant_land[t].coord.centerY+_>=-800&&e.vacant_land[t].coord.centerX+r<=1260&&e.spawnNewObject_with_macros_and_pos("redSquare",e.vacant_land[t].coord.centerX+r,e.vacant_land[t].coord.centerY+_,{},function(e){e.width=30,e.height=20}),r+=15,_+=10;i+=15,a-=10}var h=e.node.parent.height;e.node.parent._components[2].spawnNewObject("land_identity_box",0,-h/2+n.data.height/2,void 0,function(n){n._components[1].land_object_data=e.land_object.json[e.vacant_land[t].index],n._components[1].redSquare_name=e.redSquare.data.name,n._components[1].index_land=e.vacant_land[t].index})}},e)})},_=0;_<this.vacant_land.length;_++)r(_)},sort_object_by_y_coord:function(){for(var e,t,n=0;n<window.default_data.object.length;n++){for(var o=0,i=0,a=0,d=0,c=0;c<window.object_identity.length;c++)if(window.object_identity[c].name==window.default_data.object[n].name){o=window.object_identity[c].plot_of_move_system.start_x,d=window.object_identity[c].plot_of_move_system.cols,a=window.object_identity[c].plot_of_move_system.rows,i=window.object_identity[c].plot_of_move_system.start_y;break}for(var s=[],r=0;r<a;r++){for(var _=o,l=i,h=0;h<d;h++)s.push([window.default_data.object[n].coord.x+_,window.default_data.object[n].coord.y+l]),_+=15,l+=10;o+=15,i-=10}window.default_data.object[n].square_data=s,"player"==window.default_data.object[n].name&&(e=window.default_data.object[n],t=n)}window.default_data.object.splice(t,1),window.default_data.object.sort(function(e,t){return t.coord.y-e.coord.y}),window.default_data.object.push(e)},auto_move_meadow:function(e,t){this.node.x=2*-e,this.node.y=2*-t},land_coord:function(e){var t=this.land_object.json;this.our_land=[],this.vacant_land=[];for(var n=0;n<t.length;n++){for(var o=!1,i=0;i<e.length;i++)if(e[i]==n){o=!0;break}1==o?this.our_land.push(t[n].position):this.vacant_land.push({index:n,coord:t[n].position,width:480,height:320,available_level:t[n].available_level,price:t[n].price})}this.land_square_coord=[];for(var a=0;a<this.our_land.length;a++){for(var d=this.our_land[a].firstX,c=this.our_land[a].firstY,s=this.our_land[a].rows,r=this.our_land[a].cols,_=[],l=0;l<s;l++){for(var h=d,w=c,p=0;p<r;p++)_.push([this.our_land[a].centerX+h,this.our_land[a].centerY+w]),h+=15,w+=10;d+=15,c-=10}for(var u=[],m=0;m<_.length;m++){for(var f=!1,b=void 0,y=0;y<u.length;y++)if(_[m][0]==u[y][0]){f=!0,b=y;break}f?f&&(_[m][1]>u[b][1]&&(u[b][1]=_[m][1]),_[m][1]<u[b][2]&&(u[b][2]=_[m][1])):u.push([_[m][0],_[m][1],_[m][1]])}this.land_square_coord.push(u)}},ObjectOnMove:function(e,t){for(var n,o,i={x:e-e%30,y:t-t%20},a=[[i.x,i.y],[i.x+30,i.y],[i.x+15,i.y+10],[i.x+15,i.y-10],[i.x,i.y-20],[i.x,i.y+20],[i.x-15,i.y-10],[i.x-15,i.y+10],[i.x-30,i.y]],d=0;d<a.length;d++)if(n||o){var c=cc.v2(e,t).sub(cc.v2(a[d][0],a[d][1])).mag();c<o&&(o=c,n={x:a[d][0],y:a[d][1]})}else o=cc.v2(e,t).sub(cc.v2(a[d][0],a[d][1])).mag(),n={x:a[d][0],y:a[d][1]};return n},set_move_meadow:function(e,t){this.meadow_auto_move=!0,this.mn_pos=[e,t],this.m_pos=[this.node.x,this.node.y],this.m_mn_percent=0},move_meadow:function(){1==this.meadow_auto_move&&(this.node.x=this.m_pos[0]+(this.mn_pos[0]-this.m_pos[0])*this.m_mn_percent,this.node.y=this.m_pos[1]+(this.mn_pos[1]-this.m_pos[1])*this.m_mn_percent,this.m_mn_percent+=.1,this.m_mn_percent>=1&&(this.meadow_auto_move=!1))}}),cc._RF.pop()},{}],Silo:[function(e,t){"use strict";cc._RF.push(t,"505c64o2KpNYrKN7UUsSL5J","Silo"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.ownData},start:function(){},onTouch:function(){var e=this;window.action_active||(window.action_active=!0,this.node.parent.parent._components[2].spawnNewObject("storage_main",0,0,void 0,function(t){t._components[1].barn_id=e.ownData.ID,t._components[1].placement=1}))}}),cc._RF.pop()},{}],Tree:[function(e,t){"use strict";cc._RF.push(t,"6763fLFWqBOX4nfsLWinffo","Tree"),cc.Class({extends:cc.Component,properties:{type_of_tree:cc.String,tree_1:{default:null,type:cc.Prefab},tree_2:{default:null,type:cc.Prefab}},onLoad:function(){if(!window.friend_meadow_load){this.pickRadius=this.node.width/2,this.time_planting=0;try{this.time_start=this.ownData.time_start}catch(e){}this.time_end=this.time_start+1e3*this.time_planting,this.harvest=!1,this.already_watered=!1,this.stuff_identity,this.TimeShowDuration=0}},start:function(){},update:function(){if(!window.friend_meadow_load){try{for(var e=0;e<window.default_data.object.length;e++)if(window.default_data.object[e].ID==this.ownData.ID){for(var t=0;t<window.stuff_identity.length;t++)if(window.stuff_identity[t].name==this.type_of_tree){this.time_planting=window.stuff_identity[t].harvest_time,this.stuff_identity=window.stuff_identity[t];break}this.index_of_data_object=e,this.already_watered=window.default_data.object[e].already_watered,this.time_start=window.default_data.object[e].time_start,this.time_end=window.default_data.object[e].time_end;break}if(window.default_data.object[this.index_of_data_object].fertilizer!=window.default_data.fertilizer_data.now.type){var n=new Date;if("none"==window.default_data.object[this.index_of_data_object].fertilizer&&1==window.default_data.object[this.index_of_data_object].already_watered&&window.default_data.object[this.index_of_data_object].time_end>n.getTime()){window.default_data.object[this.index_of_data_object].fertilizer=window.default_data.fertilizer_data.now.type;var o,i=this.fertilizer_result(window.default_data.fertilizer_data.now.type),a=(window.default_data.object[this.index_of_data_object].time_end,window.default_data.object[this.index_of_data_object].time_start,window.default_data.fertilizer_data.now.times_end-window.default_data.fertilizer_data.now.times_start),d=window.default_data.fertilizer_data.now.times_start-window.default_data.object[this.index_of_data_object].time_start,c=window.default_data.object[this.index_of_data_object].time_end-window.default_data.fertilizer_data.now.times_start;o=c-a*i<=0?d+c/i:d+(c-a*(i-1)),window.default_data.object[this.index_of_data_object].time_end=window.default_data.object[this.index_of_data_object].time_start+o}}}catch(s){}0==this.harvest&&this.already_watered&&(this.showFruit(this.get_prefab()),this.TimeShowDuration>0&&(this.showTime(),this.TimeShowDuration-=1))}},showFruit:function(e){this.node._children=[];var t=cc.instantiate(e);this.node.addChild(t),((new Date).getTime()-this.time_start)/(this.time_end-this.time_start)>1&&(this.harvest=!0)},get_prefab:function(){var e,t=((new Date).getTime()-this.time_start)/(this.time_end-this.time_start);return t<1&&t>=0?e=this.tree_1:t>=1&&(e=this.tree_2),e},showTime:function(){var e=new Date,t=this.fertilizer_result(window.default_data.fertilizer_data.now.type),n=this.time_end-this.time_start-(e.getTime()-this.time_start);if("none"!=window.default_data.fertilizer_data.now.type){var o=this.time_end-window.default_data.fertilizer_data.now.times_end;o>0&&(n=n-o+o/t)}if(n>0){var i=cc.instantiate(this.node.parent._components[1].time_showing);this.node.addChild(i);var a=cc.instantiate(this.node.parent._components[1].time_label),d=(n-n%(6e4/t))/(6e4/t),c=Math.floor(n%(6e4/t)/(1e3/t));a._components[0].string=d+":"+c,this.node.addChild(a)}},onTouch:function(){var e=this,t=((new Date).getTime()-this.time_start)/(this.time_end-this.time_start);if(this.already_watered)t>1?this.harvest_time():t<=1&&t>0&&(this.TimeShowDuration=5e3);else{this.destroy_bucket();var n=cc.instantiate(this.node.parent._components[1].Bucket);this.node.parent.addChild(n),n.setPosition(cc.v2(this.node.x,this.node.y+this.node.height)),this.bucket_active=!0,window.action_active=!0;for(var o=function(t){"bucket"==e.node.parent.children[t]._name&&(e.node.parent.children[t].on("touchstart",function(){e.mouseBucketDown=!0},e),e.node.parent.children[t].on("touchmove",function(n){if(e.mouseBucketDown){window.MeadowMouseDown=!1,e.node.parent.children[t].x+=n.getDelta().x/e.node.parent.scaleX,e.node.parent.children[t].y+=n.getDelta().y/e.node.parent.scaleY;for(var o=0;o<e.node.parent.children.length;o++)if(null!=e.node.parent.children[o]._components[1]&&null!=e.node.parent.children[o]._components[1].stuff_identity&&"tree"==e.node.parent.children[o]._components[1].stuff_identity.type&&0==e.node.parent.children[o]._components[1].already_watered&&cc.v2(e.node.parent.children[o].x,e.node.parent.children[o].y).sub(cc.v2(e.node.parent.children[t].x,e.node.parent.children[t].y)).mag()<=10){var i=new Date;window.default_data.object[e.node.parent.children[o]._components[1].ownData.ID].time_start=i.getTime();var a=window.default_data.object[e.node.parent.children[o]._components[1].ownData.ID].time_start,d=void 0,c=e.node.parent.children[o]._components[1].stuff_identity.harvest_time;if("none"!=window.default_data.fertilizer_data.now.type){var s=e.fertilizer_result(window.default_data.fertilizer_data.now.type),r=window.default_data.fertilizer_data.now.times_end-a;d=a+(1e3*c-r*s<=0?1e3*c/s:1e3*c-r*(s-1))}else"none"==window.default_data.fertilizer_data.now.type?d=a+1e3*c:console.error("unknown : "+window.default_data.fertilizer_data.now.type);window.default_data.object[e.node.parent.children[o]._components[1].ownData.ID].time_end=d,window.default_data.object[e.node.parent.children[o]._components[1].ownData.ID].fertilizer=window.default_data.fertilizer_data.now.type,window.default_data.object[e.node.parent.children[o]._components[1].ownData.ID].already_watered=!0}}},e),e.node.parent.children[t].on("touchend",function(){e.mouseBucketDown=!1,e.destroy_bucket()},e),e.node.parent.parent.on("touchstart",function(t){if(e.bucket_active){var n=t.getLocation().x-e.node.parent.parent.width/2,o=t.getLocation().y-e.node.parent.parent.height/2;cc.v2(n,o).sub(cc.v2(e.node.parent.x+e.node.parent.children[e.node.parent.children.length-1].x*e.node.parent.scaleX,e.node.parent.y+e.node.parent.children[e.node.parent.children.length-1].y*e.node.parent.scaleY)).mag()>50&&e.bucket_active&&e.destroy_bucket()}},e))},i=0;i<this.node.parent.children.length;i++)o(i)}},harvest_time:function(){if(1!=this.node.parent.parent._components[2].addItemOnStorage(this.type_of_tree,this.stuff_identity.harvest_total)[1]){var e=this.node.parent.x+this.node.x*this.node.parent.scaleX,t=this.node.parent.y+this.node.y*this.node.parent.scaleY;this.node.parent.parent._components[2].getItemAction(this.type_of_tree,e,t);var n="harvest "+this.type_of_tree;this.node.parent.parent._components[2].getActivity(n,this.stuff_identity.harvest_total),this.node.parent.parent._components[2].achievement_request("harvest from trees",this.stuff_identity.harvest_total),this.node.parent.parent._components[2].addLevelPoint(this.stuff_identity.add_exp),window.default_data.object[this.index_of_data_object].already_watered=!1,window.default_data.object[this.index_of_data_object].time_start=0,this.node.children[0].destroy(),this.harvest=!1}},destroy_bucket:function(){for(var e=0;e<this.node.parent.children.length;e++)"bucket"==this.node.parent.children[e]._name&&(this.bucket_active=!1,this.node.parent.children[e].destroy(),window.action_active=!1)},fertilizer_result:function(e){switch(e){case"none":return 1;case"x2":return 2;case"x4":return 4;case"x8":return 8;default:console.error("unknown fertilizer: "+e)}}}),cc._RF.pop()},{}],achievement:[function(e,t){"use strict";cc._RF.push(t,"22182gnX4xHdJNo+eSpxkxg","achievement"),cc.Class({extends:cc.Component,properties:{close:{default:null,type:cc.Prefab},achievement_item:{default:null,type:cc.Prefab},finish_stars:{default:null,type:cc.Prefab},collect_button:{default:null,type:cc.Prefab}},onLoad:function(){this.node.width=this.node.parent.width,this.node.height=this.node.parent.height,this.spawn_achievement_item(),this.spawn_close(),this.onDrag()},start:function(){},spawn_achievement_item:function(){for(var e=this,t=function(t){e.spawnNewObject(e.achievement_item,{pos:{x:t*(e.achievement_item.data.width+.15*e.achievement_item.data.width),y:0}},function(n){n.children[3]._components[0].string=window.default_data.achievement[t].name;for(var o,i=window.default_data.achievement[t].done,a=0,d=function(d){if(i<=window.default_data.achievement[t].count[d].amount)return o=window.default_data.achievement[t].count[d].amount,"break";a++;var c=cc.instantiate(e.finish_stars);if(n.children[a-1].addChild(c),0==window.default_data.achievement[t].count[d].done){var s=cc.instantiate(e.collect_button);s.setPosition(cc.v2(n.children[4].x,n.children[4].y)),s.children[0]._components[0].string=window.default_data.achievement[t].count[d].gift.money,n.addChild(s),s.on("touchend",function(){window.default_data.achievement[t].count[d].done=!0,e.node.parent._components[2].addMoney(window.default_data.achievement[t].count[d].gift.money),s.destroy()},e)}},c=0;c<window.default_data.achievement[t].count.length&&"break"!==d(c);c++);n.children[4].children[0].width=n.children[4].width*(i/o)*.9,n.children[4].children[0].x=.9*(-n.children[4].width/2+n.children[4].children[0].width/2),n.children[4].children[2]._components[0].string=i+"/"+o})},n=0;n<window.default_data.achievement.length;n++)t(n)},onDrag:function(){var e=this;this.node.on("touchmove",function(t){var n=t.getDelta();if(!(e.node.children[0].x+n.x>0||e.node.children[window.default_data.achievement.length-1].x+n.x<0))for(var o=0;o<window.default_data.achievement.length;o++)e.node.children[o].x+=n.x},this)},spawn_close:function(){var e=this;this.spawnNewObject(this.close,{pos:{x:-this.node.width/2+this.close.data.width/2,y:this.node.height/2-this.close.data.height/2}},function(t){t.on("touchend",function(){window.action_active=!1,e.node.destroy()},e)})},spawnNewObject:function(e,t,n){void 0===t&&(t=void 0),void 0===n&&(n=void 0);var o=cc.instantiate(e);null!=t&&(t.width&&(o.width=t.width),t.height&&(o.height=t.height),t.scaleX&&(o.scaleX=t.scaleX),t.scaleY&&(o.scaleY=t.scaleY),t.pos&&o.setPosition(cc.v2(t.pos.x,t.pos.y))),null!=n&&n(o),this.node.addChild(o)}}),cc._RF.pop()},{}],agricultural_aircraft:[function(e,t){"use strict";cc._RF.push(t,"973fatdWMRPIq/+8h6lZZbt","agricultural_aircraft"),cc.Class({extends:cc.Component,properties:{aircraft_stop:{default:null,type:cc.Node},aircraft_fly1:{default:null,type:cc.Prefab},aircraft_fly2:{default:null,type:cc.Prefab}},onTouch:function(){window.action_active||(window.action_active=!0,this.node.parent.parent._components[2].spawnNewObject("fertilizer_box"))},spawnNewInObject:function(e,t,n,o,i,a){void 0===i&&(i=void 0),void 0===a&&(a=void 0);var d=cc.instantiate(e);null!=i&&i(d),t.addChild(d),d.setPosition(cc.v2(n,o)),null!=a&&a(d)},launch_aircraft:function(){var e=this,t=[this.node.parent.x,this.node.parent.y];this.aircraft_stop.opacity=0;var n=this.node.x,o=this.node.y;this.spawnNewInObject(this.aircraft_fly1,this.node.parent,this.node.x+this.aircraft_stop.x,this.node.y+this.aircraft_stop.y,void 0,function(i){cc.tween(i).to(.2,{scaleX:-1,scaleY:1}).to(3,{scaleX:{value:-1.1,easing:function(e){return e*e*e}},scaleY:{value:1.1,easing:function(e){return e*e*e}},position:{value:cc.v2(n-1800,o-1200),easing:function(e){return e*e*e*e}}}).call(function(){e.node.parent.position=cc.v2(0,0)}).to(0,{scaleX:{value:-1.1,easing:function(e){return e*e*e}},scaleY:{value:1.1,easing:function(e){return e*e*e}},position:{value:cc.v2(n+2700,o+1800),easing:function(e){return e*e*e*e}}}).to(4).call(function(){e.node.parent.position=cc.v2(t[0],t[1])}).to(6,{scaleX:{value:-1,easing:function(e){return Math.sqrt(e)}},scaleY:{value:1,easing:function(e){return Math.sqrt(e)}},position:{value:cc.v2(n-675,o-450),easing:function(e){return Math.sqrt(e)}}}).to(3).call(function(){e.aircraft_stop.opacity=255,i.destroy()}).start()}),this.spawnNewInObject(this.aircraft_fly2,this.node.parent,-2250/this.node.parent.scaleX,-1500/this.node.parent.scaleY,void 0,function(t){cc.tween(t).to(.2,{scaleX:{value:-1.5,easing:function(e){return e*e*e}},scaleY:{value:1.5,easing:function(e){return e*e*e}}}).to(4).to(3,{scaleX:{value:-1.5,easing:function(e){return e*e*e}},scaleY:{value:1.5,easing:function(e){return e*e*e}},position:{value:cc.v2(2250/e.node.parent.scaleX,1500/e.node.parent.scaleY),easing:function(e){return e}}}).call(function(){t.destroy()}).start()})},start:function(){}}),cc._RF.pop()},{}],all_project:[function(e,t){"use strict";cc._RF.push(t,"833caL+Nu9NtrxgkdsXvdNu","all_project"),cc.Class({extends:cc.Component,properties:{all_project:{default:null,type:cc.JsonAsset}},onLoad:function(){},organize_project:function(){if(4-window.default_data.task_now.length>0)for(var e=0;e<this.all_project.json.length&&!(4-window.default_data.task_now.length<=0||this.all_project.json[e].available_level>window.our_level);e++)if(0==this.all_project.json[e].done){for(var t=!0,n=0;n<window.default_data.task_now.length;n++)this.all_project.json[e].id==window.default_data.task_now[n].id&&(t=!1);t&&window.default_data.task_now.push(this.all_project.json[e])}},start:function(){}}),cc._RF.pop()},{}],animal_area:[function(e,t){"use strict";cc._RF.push(t,"d9be6hKBolIuYP1b11+MDUp","animal_area"),cc.Class({extends:cc.Component,properties:{animal_name:cc.String,before_fed_prefab:{default:null,type:cc.Prefab},after_fed_prefab:{default:null,type:cc.Prefab},time_produce_prefab:{default:null,type:cc.Prefab}},onLoad:function(){window.friend_meadow_load||(this.time_produce=0,this.time_start=this.ownData.time_start,this.time_end=this.time_start+1e3*this.time_produce,this.produce=!1,this.already_fed=!1,this.stuff_identity,this.stuff_identity_index,this.TimeShowDuration=0,this.item_data_i_need=[],this.current_prefab=this.before_fed_prefab,this.showPrefab(this.get_prefab()))},start:function(){},update:function(){if(!window.friend_meadow_load){this.auto_move_meadow();for(var e=0;e<window.default_data.object.length;e++){for(var t=0;t<window.stuff_identity.length;t++)if(window.stuff_identity[t].name==this.animal_name){this.time_produce=window.stuff_identity[t].produce_time,this.stuff_identity=window.stuff_identity[t],this.stuff_identity_index=t;break}if(this.ownData.shop)return this.already_fed=!1,this.time_start=0,void(this.time_end=this.time_start+1e3*this.time_produce);if(window.default_data.object[e].ID==this.ownData.ID){this.added_fertilizer_boxof_data_object=e,this.already_fed=window.default_data.object[e].already_fed,this.time_start=window.default_data.object[e].time_start,this.time_end=this.time_start+1e3*this.time_produce;break}}this.get_prefab()!=this.current_prefab&&this.showPrefab(this.get_prefab()),this.TimeShowDuration>0&&(this.showTime(),this.TimeShowDuration-=1)}},onTouch:function(){window.action_active||(window.action_active=!0,this.current_prefab==this.after_fed_prefab?(this.TimeShowDuration=200,window.action_active=!1):this.current_prefab==this.time_produce_prefab?(this.produce_time(),window.action_active=!1):this.current_prefab==this.before_fed_prefab&&(this.meadow_auto_move=!0,this.mn_pos=[-this.node.x*this.node.parent.scaleX,-this.node.y*this.node.parent.scaleY],this.m_pos=[this.node.parent.x,this.node.parent.y],this.m_mn_percent=0))},auto_move_meadow:function(){1==this.meadow_auto_move&&(this.node.parent.x=this.m_pos[0]+(this.mn_pos[0]-this.m_pos[0])*this.m_mn_percent,this.node.parent.y=this.m_pos[1]+(this.mn_pos[1]-this.m_pos[1])*this.m_mn_percent,this.m_mn_percent+=.1,this.m_mn_percent>=1&&(this.meadow_auto_move=!1,this.feeded()))},feeded:function(){var e=this;if(this.current_prefab==this.before_fed_prefab){var t=cc.instantiate(this.node.parent.parent._components[2].arrow_to_inside);this.node.parent.parent.addChild(t);var n=this.node.parent.x+(this.node.x-2/this.node.parent.scaleX*45)*this.node.parent.scaleX,o=this.node.parent.y+(this.node.y+2/this.node.parent.scaleX*45)*this.node.parent.scaleY;t.setPosition(cc.v2(n,o)),window.action_active=!0,this.item_data_i_need=[];for(var i=function(t){var n=2/e.node.parent.scaleX*-90,o=(90-t/window.stuff_identity[e.stuff_identity_index].the_food.length*90)*(2/e.node.parent.scaleX),i=e.spawn_prefab_item(window.stuff_identity[e.stuff_identity_index].the_food[t],n,o,120,50),a=20,d=void 0,c=void 0;e.node.parent.parent.children[i].on("touchstart",function(t){e.item_action_mouse_down=!0,d=t.target.x,c=t.target.y},e),e.node.parent.parent.children[i].on("touchmove",function(t){if(0!=e.item_action_mouse_down){window.MeadowMouseDown=!1,d+=t.getDelta().x,c+=t.getDelta().y,t.target.x=d,t.target.y=c;for(var n=0;n<e.node.parent.parent.children.length;n++)e.node.parent.parent.children[n].name==t.target.name&&e.node.parent.parent.children[n].uuid!=t.target.uuid&&(e.node.parent.parent.children[n].x=t.target.x+(e.node.parent.parent.children[n].x-t.target.x)*(a/20),e.node.parent.parent.children[n].y=t.target.y+(e.node.parent.parent.children[n].y-t.target.y)*(a/20));a>0&&(a-=1)}},e),e.node.parent.parent.children[i].on("touchend",function(t){e.item_action_mouse_down;for(var n=!0,o=0;o<e.node.parent.parent.children.length;o++)e.node.parent.parent.children[o].name==t.target.name&&0==e.node.parent.parent.children[o]._components[1].insufficient&&(n=!1);for(var i=t.target.position.sub(cc.v2(e.node.parent.x+e.node.x*e.node.parent.scaleX,e.node.parent.y+e.node.y*e.node.parent.scaleY)).mag(),d=0;d<e.node.parent.parent.children.length;d++)if(e.node.parent.parent.children[d].name==t.target.name)if(i<e.node.height*e.node.parent.scaleY&&0!=n){for(var c=new Date,s=0;s<e.item_data_i_need.length;s++)e.node.parent.parent._components[2].addItemOnStorage(e.item_data_i_need[s].data.name,-e.item_data_i_need[s].data.count);e.node.parent.parent._components[2].organize_data(),window.default_data.object[e.ownData.ID].already_fed=!0,window.default_data.object[e.ownData.ID].time_start=c.getTime(),e.destroy_all()}else e.node.parent.parent.children[d].x=e.node.parent.parent.children[d]._components[1].our_prefab.start_x,e.node.parent.parent.children[d].y=e.node.parent.parent.children[d]._components[1].our_prefab.start_y;a=20},e),e.item_data_i_need.length>0&&e.node.parent.on("touchstart",function(){e.destroy_all()},e)},a=0;a<window.stuff_identity[this.stuff_identity_index].the_food.length;a++)i(a)}},showPrefab:function(e){this.node._children=[];var t=cc.instantiate(e);if(this.node.addChild(t),e.data.name==this.time_produce_prefab.data.name){var n=cc.instantiate(this.node.parent._components[1].produce_machine),o=this.node.parent.parent._components[3].get_prefab(this.stuff_identity.produce_item),i=cc.instantiate(o);n.addChild(i),n.setPosition(cc.v2(0,0)),this.node.addChild(n),cc.tween(n).repeatForever(cc.tween().to(3,{angle:20},{easing:"quadInOut"}).to(3,{angle:-20},{easing:"quadInOut"})).start()}this.current_prefab=e},get_prefab:function(){var e,t=((new Date).getTime()-this.time_start)/(this.time_end-this.time_start);return 0==this.already_fed?e=this.before_fed_prefab:t<1&&t>=0?e=this.after_fed_prefab:t>=1&&(e=this.time_produce_prefab),e},spawn_prefab_item:function(e,t,n,o,i,a){void 0===a&&(a=!1);var d=cc.instantiate(this.node.parent.parent._components[2].item_fed_box),c=this.node.parent.x+(this.node.x+t)*this.node.parent.scaleX,s=this.node.parent.y+(this.node.y+n)*this.node.parent.scaleY;d._components[1].our_prefab={data:e,start_x:c,start_y:s},this.node.parent.parent.addChild(d),this.node.parent.parent.children[this.node.parent.parent.children.length-1].width=o,this.node.parent.parent.children[this.node.parent.parent.children.length-1].height=i,d.setPosition(cc.v2(c,s));var r=!1;return a?r=this.node.parent.parent.children.length-1:(this.item_data_i_need.push({data:e,index:this.node.parent.parent.children.length-1,x:c,y:s}),r=this.node.parent.parent.children.length-1),r},showTime:function(){var e=new Date,t=this.time_end-this.time_start-(e.getTime()-this.time_start);if(t>0){for(var n=cc.instantiate(this.node.parent._components[1].time_showing),o=cc.instantiate(this.node.parent._components[1].time_label),i=0;i<this.node.children.length;i++)this.node.children[i]._name!=n._name&&this.node.children[i]._name!=o._name||this.node.children[i].destroy();this.node.addChild(n);var a=(t-t%6e4)/6e4,d=Math.floor(t%6e4/1e3);o._components[0].string=a+":"+d,this.node.addChild(o)}},produce_time:function(){for(var e=0;e<window.default_data.object.length;e++)if(window.default_data.object[e].ID==this.ownData.ID){if(1==this.node.parent.parent._components[2].addItemOnStorage(this.stuff_identity.produce_item,this.stuff_identity.produce_total)[1])return;var t=this.node.parent.x+this.node.x*this.node.parent.scaleX,n=this.node.parent.y+this.node.y*this.node.parent.scaleY;this.node.parent.parent._components[2].getItemAction(this.stuff_identity.produce_item,t,n);var o=Math.random(),i=void 0,a=void 0,d=void 0;o>=.8?(i=window.default_data.fertilizer_data.x8,window.default_data.fertilizer_data.x8+=this.stuff_identity.fertilizer_added,window.default_data.fertilizer_data.x8>1&&(window.default_data.fertilizer_data.x8=1),a=window.default_data.fertilizer_data.x8,d="x8"):o>=.5?(i=window.default_data.fertilizer_data.x4,window.default_data.fertilizer_data.x4+=this.stuff_identity.fertilizer_added,window.default_data.fertilizer_data.x4>1&&(window.default_data.fertilizer_data.x4=1),a=window.default_data.fertilizer_data.x4,d="x4"):(i=window.default_data.fertilizer_data.x2,window.default_data.fertilizer_data.x2+=this.stuff_identity.fertilizer_added,window.default_data.fertilizer_data.x2>1&&(window.default_data.fertilizer_data.x2=1),a=window.default_data.fertilizer_data.x2,d="x8"),this.produce_action(d,i,a),this.node.parent.parent._components[2].addLevelPoint(this.stuff_identity.add_exp),window.default_data.object[e].already_fed=!1,window.default_data.object[e].time_start=0;break}},produce_action:function(e,t,n){var o=this.node.parent.parent._components[3].get_prefab("fertilizer_"+e),i=this.node.parent.parent.width/2,a=cc.instantiate(this.node.parent.parent._components[2].added_fertilizer_box);this.node.parent.parent.addChild(a),a.setPosition(cc.v2(i+this.node.parent.parent._components[2].added_fertilizer_box.data.width/2,0)),a.uuid;var d=cc.instantiate(o);d.setPosition(cc.v2(0,20)),a.addChild(d);var c=cc.instantiate(this.node.parent.parent._components[2].volume);a.addChild(c),c.setPosition(cc.v2(0,-25)),c.children[0].width=c.width*t,c.children[0].setPosition(cc.v2(-c.width/2+c.children[0].width/2,0));var s=cc.instantiate(o);s.scaleX=.01,s.scaleY=.01;var r=this.node.parent.x+this.node.x*this.node.parent.scaleX,_=this.node.parent.y+this.node.y*this.node.parent.scaleY;s.setPosition(cc.v2(r,_)),this.node.parent.parent.addChild(s),this.node.parent.parent.children.length,cc.tween(a).to(.5,{position:cc.v2(i-this.node.parent.parent._components[2].added_fertilizer_box.data.width/2,0)}).start();var l=cc.v2(i-this.node.parent.parent._components[2].added_fertilizer_box.data.width/2+c.x,a.y+c.y),h=cc.v2(-c.width/2+c.width*n/2,0);cc.tween(s).delay(.5).to(.2,{scale:2}).to(1.5,{scale:{value:0,easing:function(e){return e*e*e}},position:{value:l,easing:function(e){return e*e*e*e}}}).start(),cc.tween(c.children[0]).delay(2.2).to(1,{width:c.width*n,position:h}).delay(.5).call(function(){d.destroy(),a.destroy()}).start()},destroy_all:function(){for(var e=this.node.parent.parent.children.length-1;e>=0;e--)this.node.parent.parent.children[e].name!=this.node.parent.parent._components[2].item_fed_box.data.name&&this.node.parent.parent.children[e].name!=this.node.parent.parent._components[2].arrow_to_inside.data.name||this.node.parent.parent.children[e].destroy();this.item_data_i_need=[],window.action_active=!1}}),cc._RF.pop()},{}],animal_shop:[function(e,t){"use strict";cc._RF.push(t,"e5048QKn9RMMZ2WrAYi4HJ8","animal_shop"),cc.Class({extends:cc.Component,properties:{type:cc.String,close:{default:null,type:cc.Node},circle:{default:null,type:cc.Prefab},limit_box:{default:null,type:cc.Prefab},padlock:{default:null,type:cc.Prefab},info_box:{default:null,type:cc.Prefab},chicken_area:{default:null,type:cc.Prefab},cow_area:{default:null,type:cc.Prefab},sheep_area:{default:null,type:cc.Prefab},goat_area:{default:null,type:cc.Prefab}},onLoad:function(){this.node.setPosition(cc.v2(0,-this.node.parent.height/2+this.node.height/2)),this.node.parent._components[2].deactivate_bottom_icon(),this.type_of_item,this.node.width=this.node.parent.width,this.mouseDownItemLocation={x:0,y:0},this.node_delta_scroll_x=0,this.all_item_identity=[],this.first_item_coord_x,window.action_active=!0,this.close.setPosition(cc.v2(this.node.width/2-this.close.width,this.node.height/2));for(var e=0;e<window.stuff_identity.length;e++)window.stuff_identity[e].type==this.type&&this.all_item_identity.push(window.stuff_identity[e]);this.show_all_items(),this.on_scroll_horizontal(),this.itemOnDrag(),this.onClose()},start:function(){},update:function(){this.meadowOnDrag(),this.mouseDownItem&&this.addItemOnMeadow&&this.autoMove()},on_scroll_horizontal:function(){var e=this;this.node.on("touchstart",function(){e.mouseDown=!0},this),this.node.on("touchmove",function(t){if(e.mouseDown&&!e.mouseDownItem){var n=t.getDelta().x;if(!(e.node.children[1].x+n>e.first_item_coord_x||e.node.children[e.node.children.length-1].x+n<e.first_item_coord_x)){e.node_delta_scroll_x+=n;for(var o=1;o<e.node.children.length;o++)(!e.item_selected_index||o!=e.item_selected_index&&o!=e.node.children.length-1&&o!=e.node.children.length-2)&&(e.node.children[o].x+=n)}}},this),this.node.on("touchend",function(){e.mouseDown=!1},this)},show_all_items:function(){for(var e=0;e<this.all_item_identity.length;e++){var t=cc.instantiate(this.circle),n=cc.instantiate(this.get_prefab_by_name(this.all_item_identity[e].name)),o=cc.instantiate(this.limit_box);if(n._components[1].import_data=this.all_item_identity[e],this.all_item_identity[e].available_level<=window.our_level){var i=cc.instantiate(this.node.parent._components[2].get_object_by_macros("text_global"));if(i._components[0].string="$"+this.all_item_identity[e].price,i.setPosition(cc.v2(0,-i.height/3)),n.addChild(i),this.all_item_identity[e].max){for(var a=cc.instantiate(this.node.parent._components[2].get_object_by_macros("text_global")),d=0,c=0,s=0;s<window.default_data.object.length;s++)window.default_data.object[s].name==this.all_item_identity[e].object_name&&c++;for(var r=0;r<this.all_item_identity[e].max.length&&window.our_level>=this.all_item_identity[e].max[r][0];r++)d=this.all_item_identity[e].max[r][1];n._components[1].import_data.max_label=c+1>d,a._components[0].string=c+"/"+d,a._components[0].fontSize=18,a.color=new cc.Color(0,0,0),o.addChild(a)}}else{n.color=new cc.Color(100,100,100);var _=cc.instantiate(this.padlock);_.setPosition(cc.v2(0,_.height/3)),n.addChild(_);var l=cc.instantiate(this.node.parent._components[2].get_object_by_macros("text_global"));l._components[0].string="Lv."+this.all_item_identity[e].available_level,l.setPosition(cc.v2(0,_.height/3-_.height/2)),n.addChild(l)}t.addChild(n),this.all_item_identity[e].max&&(t.addChild(o),o.setPosition(cc.v2(n.width/2,n.height/2))),this.node.addChild(t),t.setPosition(cc.v2(this.node.width*(7/8)*.5*-1+.125*(e+1)*this.node.width,0))}this.first_item_coord_x=this.node.children[1].x},get_prefab_by_name:function(e){var t;switch(e){case"chicken":t=this.chicken_area;break;case"cow_1":t=this.cow_area;break;case"sheep_1":t=this.sheep_area;break;case"goat_1":t=this.goat_area}return t},meadowOnDrag:function(){window.MeadowOnDrag&&this.item_selected_index&&this.node.children[this.item_selected_index].setPosition(cc.v2(this.node.parent.children[window.m_i].children[this.index_object_selected].x*this.node.parent.children[window.m_i].scaleX+this.node.parent.children[window.m_i].x-this.node.x,this.node.parent.children[window.m_i].children[this.index_object_selected].y*this.node.parent.children[window.m_i].scaleY+this.node.parent.children[window.m_i].y-this.node.y))},show_info:function(e,t){for(var n,o=0;o<window.object_identity.length;o++)if(window.object_identity[o].name==e.object_name){n=window.object_identity[o].plot_of_move_system;break}if(n){var i=cc.instantiate(this.info_box);i.children[0]._components[0].string=e.object_name.replace("_"," "),i.children[1]._components[0].string=n.cols+"x"+n.rows,i.children[3]._components[0].string="Lvl. "+e.available_level,e.price_gold?(i.children[6].destroy(),i.children[5]._components[0].string=e.price_gold):i.children[5]._components[0].string="Rp."+e.price,i.setPosition(cc.v2(t,140)),this.node.addChild(i),i.children[1].setPosition(cc.v2(65-i.children[1].width/2,32)),i.children[3].setPosition(cc.v2(65-i.children[3].width/2,-52)),i.children[5].setPosition(cc.v2(65-i.children[5].width/2,-10))}},destroy_info:function(){for(var e=0;e<this.node.children.length;e++)if(this.node.children[e].name==this.info_box.data.name){this.node.children[e].destroy();break}},itemOnDrag:function(){var e=this;this.mouseDownItem=!1,this.addItemOnMeadow=!1;for(var t=function(t){e.node.children[t].on("touchstart",function(n){e.mouseDownItem=!0,e.mouseDownItemLocation.x=n.getLocation().x,e.mouseDownItemLocation.y=n.getLocation().y,e.addItemOnMeadow||e.show_info(e.node.children[t].children[0]._components[1].import_data,e.node.children[t].x)},e),e.node.children[t].on("touchmove",function(n){if(e.destroy_info(),e.mouseDownItem){if("padock"==e.node.children[t].children[0].children[0].name)return e.node.parent._components[2].show_alert("terkunci",e.node.x+e.node.children[t].x,e.node.y+e.node.children[t].y,new cc.Color(200,0,0)),e.mouseDownItem=!1,e.mouseDownItemLocation.x=0,void(e.mouseDownItemLocation.y=0);if(1==e.node.children[t].children[0]._components[1].import_data.max_label)return e.node.parent._components[2].show_alert("jumlah sudah maksimal",e.node.x+e.node.children[t].x,e.node.y+e.node.children[t].y,new cc.Color(200,0,0)),e.mouseDownItem=!1,e.mouseDownItemLocation.x=0,void(e.mouseDownItemLocation.y=0);if(!e.addItemOnMeadow){var o=(e.node.x+e.node.children[t].x-e.node.parent.children[window.m_i].x)/e.node.parent.children[window.m_i].scaleX,i=(e.node.y+e.node.children[t].y-e.node.parent.children[window.m_i].y)/e.node.parent.children[window.m_i].scaleY,a=e.node.children[t].children[0]._name;e.node.parent.children[window.m_i]._components[1].spawnNewObject({name:a,coord:{x:o,y:i},ID:10,shop:!0,already_fed:!1,time_start:0,square_data:[]}),e.index_object_selected=e.node.parent.children[window.m_i].children.length-1,e.item_selected_index=t,e.spawn_yes_and_no(t),e.last_index_of_meadow=e.node.parent.children[window.m_i].children.length-1,e.mouseX=(e.node.x+e.node.children[t].x-e.node.parent.children[window.m_i].x)/e.node.parent.children[window.m_i].scaleX,e.mouseY=(e.node.y+e.node.children[t].y-e.node.parent.children[window.m_i].y)/e.node.parent.children[window.m_i].scaleY;for(var d=0;d<window.object_identity.length;d++)if(window.object_identity[d].name==e.node.children[t].children[0]._components[1].import_data.object_name){e.node.parent.children[window.m_i]._components[1].spawn_many_square((e.node.x+e.node.children[t].x-e.node.parent.children[window.m_i].x)/e.node.parent.children[window.m_i].scaleX,(e.node.y+e.node.children[t].y-e.node.parent.children[window.m_i].y)/e.node.parent.children[window.m_i].scaleY,window.object_identity[d].plot_of_move_system.start_x,window.object_identity[d].plot_of_move_system.start_y,window.object_identity[d].plot_of_move_system.cols,window.object_identity[d].plot_of_move_system.rows,!1),e.num_of_move_plot=window.object_identity[d].plot_of_move_system.cols*window.object_identity[d].plot_of_move_system.rows,e.index_object_identity=d;break}e.addItemOnMeadow=!0}e.mouseDownItemLocation.x=n.getLocation().x,e.mouseDownItemLocation.y=n.getLocation().y,e.mouseX+=n.getDelta().x/e.node.parent.children[window.m_i].scaleX,e.mouseY+=n.getDelta().y/e.node.parent.children[window.m_i].scaleY;var c=e.node.parent.children[window.m_i]._components[1].ObjectOnMove(e.mouseX,e.mouseY);e.node.parent.children[window.m_i].children[e.index_object_selected].x=c.x,e.node.parent.children[window.m_i].children[e.index_object_selected].y=c.y,e.node.children[t].x=e.node.parent.children[window.m_i].children[e.index_object_selected].x*e.node.parent.children[window.m_i].scaleX+e.node.parent.children[window.m_i].x-e.node.x,e.node.children[t].y=e.node.parent.children[window.m_i].children[e.index_object_selected].y*e.node.parent.children[window.m_i].scaleY+e.node.parent.children[window.m_i].y-e.node.y,e.red_square=e.node.parent.children[window.m_i]._components[1].spawn_many_square(e.node.parent.children[window.m_i].children[e.last_index_of_meadow].x,e.node.parent.children[window.m_i].children[e.last_index_of_meadow].y,window.object_identity[e.index_object_identity].plot_of_move_system.start_x,window.object_identity[e.index_object_identity].plot_of_move_system.start_y,window.object_identity[e.index_object_identity].plot_of_move_system.cols,window.object_identity[e.index_object_identity].plot_of_move_system.rows,!1),e.addItemOnMeadow?e.node.opacity=1:e.node.opacity=255}},e),e.node.children[t].on("touchend",function(){e.destroy_info(),e.mouseDownItem=!1},e)},n=1;n<this.node.children.length;n++)t(n)},spawn_yes_and_no:function(e){var t=this;this.node.parent._components[2].spawn_move_object(function(){if(0!=t.red_square){if(window.default_data.identity.money<t.node.children[e].children[0]._components[1].import_data.price)return t.node.parent._components[2].show_alert("uang tidak cukup",t.node.x+t.node.children[e].x,t.node.y+t.node.children[e].y,new cc.Color(200,20,20)),t.node.opacity=255,t.node.children[e].setPosition(cc.v2(t.node.width*(7/8)*.5*-1+.125*e*t.node.width+t.node_delta_scroll_x,0)),t.node.parent.children[window.m_i]._components[1].destroy_many_square(),t.node.parent.children[window.m_i]._components[1].destroy_last_child(),t.addItemOnMeadow=!1,void(t.item_selected_index=!1);window.default_data.object.push({name:t.node.children[e].children[0]._components[1].import_data.object_name,coord:{x:(t.node.x+t.node.children[e].x-t.node.parent.children[window.m_i].x)/t.node.parent.children[window.m_i].scaleX,y:(t.node.y+t.node.children[e].y-t.node.parent.children[window.m_i].y)/t.node.parent.children[window.m_i].scaleY},already_fed:!1,square_data:[]}),t.node.parent._components[2].addMoney(-t.node.children[e].children[0]._components[1].import_data.price);var n="buy "+t.node.children[e].children[0]._components[1].import_data.object_name;t.node.parent._components[2].getActivity(n),t.node.opacity=255,t.node.children[e].setPosition(cc.v2(t.node.width*(7/8)*.5*-1+.125*e*t.node.width+t.node_delta_scroll_x,0)),t.node.parent.children[window.m_i]._components[1].show();for(var o=0,i=0,a=0;a<window.default_data.object.length;a++)window.default_data.object[a].name==t.node.children[e].children[0]._components[1].import_data.object_name&&i++;for(var d=0;d<t.node.children[e].children[0]._components[1].import_data.max.length&&window.our_level>=t.node.children[e].children[0]._components[1].import_data.max[d][0];d++)o=t.node.children[e].children[0]._components[1].import_data.max[d][1];i+1>o&&(t.node.children[e].children[0]._components[1].import_data.max_label=!0),t.node.children[e].children[1].children[0]._components[0].string=i+"/"+o,t.addItemOnMeadow=!1,t.item_selected_index=!1,t.node.parent._components[2].destroy_move_object()}else t.node.parent._components[2].show_alert("tempatkan di tempat yang kosong",t.node.x+t.node.children[e].x,t.node.y+t.node.children[e].y,new cc.Color(200,20,20))},void 0,function(){t.node.opacity=255,t.node.children[e].setPosition(cc.v2(t.node.width*(7/8)*.5*-1+.125*e*t.node.width+t.node_delta_scroll_x,0)),t.node.parent.children[window.m_i]._components[1].destroy_many_square(),t.node.parent.children[window.m_i]._components[1].destroy_last_child(),t.addItemOnMeadow=!1,t.item_selected_index=!1,t.node.parent._components[2].destroy_move_object()})},autoMove:function(){var e=0,t=0,n=!1;if(this.mouseDownItemLocation.x>this.node.parent.width*(7/8)?(e=5,n=!0):this.mouseDownItemLocation.x<this.node.parent.width*(1/8)&&(e=-5,n=!0),this.mouseDownItemLocation.y>this.node.parent.height*(7/8)?(t=5,n=!0):this.mouseDownItemLocation.y<this.node.parent.height*(1/8)&&(t=-5,n=!0),n){var o=this.node.parent.children[window.m_i]._components[1].MoveMeadow(-e,-t);0==o.x&&(e=0),0==o.y&&(t=0),this.mouseX+=e/this.node.parent.children[window.m_i].scaleX,this.mouseY+=t/this.node.parent.children[window.m_i].scaleX;var i=this.node.parent.children[window.m_i]._components[1].ObjectOnMove(this.mouseX,this.mouseY);this.node.parent.children[window.m_i].children[this.node.parent.children[window.m_i].children.length-(this.num_of_move_plot+1)].x=i.x,this.node.parent.children[window.m_i].children[this.node.parent.children[window.m_i].children.length-(this.num_of_move_plot+1)].y=i.y,this.node.children[this.item_selected_index].x=this.node.parent.children[window.m_i].children[this.node.parent.children[window.m_i].children.length-(this.num_of_move_plot+1)].x*this.node.parent.children[window.m_i].scaleX+this.node.parent.children[window.m_i].x-this.node.x,this.node.children[this.item_selected_index].y=this.node.parent.children[window.m_i].children[this.node.parent.children[window.m_i].children.length-(this.num_of_move_plot+1)].y*this.node.parent.children[window.m_i].scaleY+this.node.parent.children[window.m_i].y-this.node.y,this.red_square=this.node.parent.children[window.m_i]._components[1].spawn_many_square(this.node.parent.children[window.m_i].children[this.last_index_of_meadow].x,this.node.parent.children[window.m_i].children[this.last_index_of_meadow].y,window.object_identity[this.index_object_identity].plot_of_move_system.start_x,window.object_identity[this.index_object_identity].plot_of_move_system.start_y,window.object_identity[this.index_object_identity].plot_of_move_system.cols,window.object_identity[this.index_object_identity].plot_of_move_system.rows,!1)}},onClose:function(){var e=this;this.node.children[0].on("touchend",function(){e.addItemOnMeadow&&(e.node.parent.children[window.m_i]._components[1].destroy_many_square(),e.node.parent.children[window.m_i]._components[1].destroy_last_child(),e.node.parent._components[2].destroy_move_object()),window.action_active=!1,e.node.parent._components[2].activate_bottom_icon(),e.node.destroy()},this)}}),cc._RF.pop()},{}],buildings_shop:[function(e,t){"use strict";cc._RF.push(t,"8a6b1qayOVG543D0xp9Zz40","buildings_shop"),cc.Class({extends:cc.Component,properties:{type:cc.String,close:{default:null,type:cc.Node},circle:{default:null,type:cc.Prefab},limit_box:{default:null,type:cc.Prefab},padlock:{default:null,type:cc.Prefab},info_box:{default:null,type:cc.Prefab},barn:{default:null,type:cc.Prefab},silo:{default:null,type:cc.Prefab},agricultural_aircraft:{default:null,type:cc.Prefab}},onLoad:function(){this.node.setPosition(cc.v2(0,-this.node.parent.height/2+this.node.height/2)),this.node.parent._components[2].deactivate_bottom_icon(),this.type_of_item,this.node.width=this.node.parent.width,this.mouseDownItemLocation={x:0,y:0},this.node_delta_scroll_x=0,this.all_item_identity=[],this.first_item_coord_x,window.action_active=!0,this.close.setPosition(cc.v2(this.node.width/2-this.close.width,this.node.height/2));for(var e=0;e<window.stuff_identity.length;e++)window.stuff_identity[e].type==this.type&&this.all_item_identity.push(window.stuff_identity[e]);this.show_all_items(),this.on_scroll_horizontal(),this.itemOnDrag(),this.onClose()},start:function(){},update:function(){this.meadowOnDrag(),this.mouseDownItem&&this.addItemOnMeadow&&this.autoMove()},on_scroll_horizontal:function(){var e=this;this.node.on("touchstart",function(){e.mouseDown=!0},this),this.node.on("touchmove",function(t){if(e.mouseDown&&!e.mouseDownItem){var n=t.getDelta().x;if(!(e.node.children[1].x+n>e.first_item_coord_x||e.node.children[e.node.children.length-1].x+n<e.first_item_coord_x)){e.node_delta_scroll_x+=n;for(var o=1;o<e.node.children.length;o++)(!e.item_selected_index||o!=e.item_selected_index&&o!=e.node.children.length-1&&o!=e.node.children.length-2)&&(e.node.children[o].x+=n)}}},this),this.node.on("touchend",function(){e.mouseDown=!1},this)},show_all_items:function(){for(var e=0;e<this.all_item_identity.length;e++){var t=cc.instantiate(this.circle),n=cc.instantiate(this.get_prefab_by_name(this.all_item_identity[e].name));if(n._components[1].import_data=this.all_item_identity[e],this.all_item_identity[e].available_level<=window.our_level){var o=cc.instantiate(this.node.parent._components[2].get_object_by_macros("text_global"));if(o._components[0].string="$"+this.all_item_identity[e].price,o.setPosition(cc.v2(0,-o.height/3)),n.addChild(o),this.all_item_identity[e].max){for(var i=cc.instantiate(this.node.parent._components[2].get_object_by_macros("text_global")),a=cc.instantiate(this.limit_box),d=0,c=0,s=0;s<window.default_data.object.length;s++)window.default_data.object[s].name==this.all_item_identity[e].object_name&&c++;for(var r=0;r<this.all_item_identity[e].max.length&&window.our_level>=this.all_item_identity[e].max[r][0];r++)d=this.all_item_identity[e].max[r][1];c+1>d&&(n._components[1].import_data.max_label=!0),i._components[0].string=c+"/"+d,i._components[0].fontSize=18,i.color=new cc.Color(0,0,0),a.setPosition(cc.v2(n.width/2,n.height/2)),a.addChild(i),n.addChild(a)}}else{n.color=new cc.Color(100,100,100);var _=cc.instantiate(this.padlock);_.setPosition(cc.v2(0,_.height/3)),n.addChild(_);var l=cc.instantiate(this.node.parent._components[2].get_object_by_macros("text_global"));l._components[0].string="Lv."+this.all_item_identity[e].available_level,l.setPosition(cc.v2(0,_.height/3-_.height/2)),n.addChild(l)}t.addChild(n),this.node.addChild(t),t.setPosition(cc.v2(this.node.width*(7/8)*.5*-1+.125*(e+1)*this.node.width,0))}this.first_item_coord_x=this.node.children[1].x},get_prefab_by_name:function(e){switch(e){case"barn":return this.barn;case"silo":return this.silo;case"agricultural_aircraft":return this.agricultural_aircraft;default:return console.error("unknown object: "+e),0}},meadowOnDrag:function(){window.MeadowOnDrag&&this.item_selected_index&&this.node.children[this.item_selected_index].setPosition(cc.v2(this.node.parent.children[window.m_i].children[this.index_object_selected].x*this.node.parent.children[window.m_i].scaleX+this.node.parent.children[window.m_i].x-this.node.x,this.node.parent.children[window.m_i].children[this.index_object_selected].y*this.node.parent.children[window.m_i].scaleY+this.node.parent.children[window.m_i].y-this.node.y))},show_info:function(e,t){for(var n,o=0;o<window.object_identity.length;o++)if(window.object_identity[o].name==e.object_name){n=window.object_identity[o].plot_of_move_system;break}if(n){var i=cc.instantiate(this.info_box);i.children[0]._components[0].string=e.object_name.replace("_"," "),i.children[1]._components[0].string=n.cols+"x"+n.rows,i.children[3]._components[0].string="Lvl. "+e.available_level,e.price_gold?(i.children[6].destroy(),i.children[5]._components[0].string=e.price_gold):i.children[5]._components[0].string="Rp."+e.price,i.setPosition(cc.v2(t,140)),this.node.addChild(i),i.children[1].setPosition(cc.v2(65-i.children[1].width/2,32)),i.children[3].setPosition(cc.v2(65-i.children[3].width/2,-52)),i.children[5].setPosition(cc.v2(65-i.children[5].width/2,-10))}},destroy_info:function(){for(var e=0;e<this.node.children.length;e++)if(this.node.children[e].name==this.info_box.data.name){this.node.children[e].destroy();break}},itemOnDrag:function(){var e=this;this.mouseDownItem=!1,this.addItemOnMeadow=!1;for(var t=function(t){e.node.children[t].on("touchstart",function(n){e.mouseDownItem=!0,e.mouseDownItemLocation.x=n.getLocation().x,e.mouseDownItemLocation.y=n.getLocation().y,e.addItemOnMeadow||e.show_info(e.node.children[t].children[0]._components[1].import_data,e.node.children[t].x)},e),e.node.children[t].on("touchmove",function(n){if(e.destroy_info(),e.mouseDownItem){if("padlock"==e.node.children[t].children[0].children[0].name)return e.node.parent._components[2].show_alert("terkunci",e.node.x+e.node.children[t].x,e.node.y+e.node.children[t].y,new cc.Color(200,0,0)),e.mouseDownItem=!1,e.mouseDownItemLocation.x=0,void(e.mouseDownItemLocation.y=0);if(1==e.node.children[t].children[0]._components[1].import_data.max_label)return e.node.parent._components[2].show_alert("jumlah sudah maksimal",e.node.x+e.node.children[t].x,e.node.y+e.node.children[t].y,new cc.Color(200,0,0)),e.mouseDownItem=!1,e.mouseDownItemLocation.x=0,void(e.mouseDownItemLocation.y=0);if(!e.addItemOnMeadow){e.node.parent.children[window.m_i]._components[1].spawnNewObject_with_macros_and_pos(e.node.children[t].children[0]._components[1].import_data.object_name,(e.node.x+e.node.children[t].x-e.node.parent.children[window.m_i].x)/e.node.parent.children[window.m_i].scaleX,(e.node.y+e.node.children[t].y-e.node.parent.children[window.m_i].y)/e.node.parent.children[window.m_i].scaleY),e.index_object_selected=e.node.parent.children[window.m_i].children.length-1,e.item_selected_index=t,e.spawn_yes_and_no(t),e.last_index_of_meadow=e.node.parent.children[window.m_i].children.length-1,e.mouseX=(e.node.x+e.node.children[t].x-e.node.parent.children[window.m_i].x)/e.node.parent.children[window.m_i].scaleX,e.mouseY=(e.node.y+e.node.children[t].y-e.node.parent.children[window.m_i].y)/e.node.parent.children[window.m_i].scaleY;for(var o=0;o<window.object_identity.length;o++)if(window.object_identity[o].name==e.node.children[t].children[0]._components[1].import_data.object_name){e.node.parent.children[window.m_i]._components[1].spawn_many_square((e.node.x+e.node.children[t].x-e.node.parent.children[window.m_i].x)/e.node.parent.children[window.m_i].scaleX,(e.node.y+e.node.children[t].y-e.node.parent.children[window.m_i].y)/e.node.parent.children[window.m_i].scaleY,window.object_identity[o].plot_of_move_system.start_x,window.object_identity[o].plot_of_move_system.start_y,window.object_identity[o].plot_of_move_system.cols,window.object_identity[o].plot_of_move_system.rows,!1),e.num_of_move_plot=window.object_identity[o].plot_of_move_system.cols*window.object_identity[o].plot_of_move_system.rows,e.index_object_identity=o;break}e.addItemOnMeadow=!0}e.mouseDownItemLocation.x=n.getLocation().x,e.mouseDownItemLocation.y=n.getLocation().y,e.mouseX+=n.getDelta().x/e.node.parent.children[window.m_i].scaleX,e.mouseY+=n.getDelta().y/e.node.parent.children[window.m_i].scaleY;var i=e.node.parent.children[window.m_i]._components[1].ObjectOnMove(e.mouseX,e.mouseY);e.node.parent.children[window.m_i].children[e.index_object_selected].x=i.x,e.node.parent.children[window.m_i].children[e.index_object_selected].y=i.y,e.node.children[t].x=e.node.parent.children[window.m_i].children[e.index_object_selected].x*e.node.parent.children[window.m_i].scaleX+e.node.parent.children[window.m_i].x-e.node.x,e.node.children[t].y=e.node.parent.children[window.m_i].children[e.index_object_selected].y*e.node.parent.children[window.m_i].scaleY+e.node.parent.children[window.m_i].y-e.node.y,e.red_square=e.node.parent.children[window.m_i]._components[1].spawn_many_square(e.node.parent.children[window.m_i].children[e.last_index_of_meadow].x,e.node.parent.children[window.m_i].children[e.last_index_of_meadow].y,window.object_identity[e.index_object_identity].plot_of_move_system.start_x,window.object_identity[e.index_object_identity].plot_of_move_system.start_y,window.object_identity[e.index_object_identity].plot_of_move_system.cols,window.object_identity[e.index_object_identity].plot_of_move_system.rows,!1),e.addItemOnMeadow?e.node.opacity=1:e.node.opacity=255}},e),e.node.children[t].on("touchend",function(){e.destroy_info(),e.mouseDownItem=!1},e)},n=1;n<this.node.children.length;n++)t(n)},spawn_yes_and_no:function(e){var t=this;this.node.parent._components[2].spawn_move_object(function(){if(0!=t.red_square){if(window.default_data.identity.money<t.node.children[e].children[0]._components[1].import_data.price)return t.node.parent._components[2].show_alert("uang tidak cukup",t.node.x+t.node.children[e].x,t.node.y+t.node.children[e].y,new cc.Color(200,20,20)),t.node.opacity=255,t.node.children[e].setPosition(cc.v2(t.node.width*(7/8)*.5*-1+.125*e*t.node.width+t.node_delta_scroll_x,0)),t.node.parent.children[window.m_i]._components[1].destroy_many_square(),t.node.parent.children[window.m_i]._components[1].destroy_last_child(),t.addItemOnMeadow=!1,t.item_selected_index=!1,void t.node.parent._components[2].destroy_move_object();window.default_data.object.push({name:t.node.children[e].children[0]._components[1].import_data.object_name,level:1,coord:{x:(t.node.x+t.node.children[e].x-t.node.parent.children[window.m_i].x)/t.node.parent.children[window.m_i].scaleX,y:(t.node.y+t.node.children[e].y-t.node.parent.children[window.m_i].y)/t.node.parent.children[window.m_i].scaleY},square_data:[]}),t.node.parent._components[2].addMoney(-t.node.children[e].children[0]._components[1].import_data.price);var n="buy "+t.node.children[e].children[0]._components[1].import_data.object_name;t.node.parent._components[2].getActivity(n),t.node.opacity=255,t.node.children[e].setPosition(cc.v2(t.node.width*(7/8)*.5*-1+.125*e*t.node.width+t.node_delta_scroll_x,0)),t.node.parent.children[window.m_i]._components[1].show();for(var o=0,i=0,a=0;a<window.default_data.object.length;a++)window.default_data.object[a].name==t.node.children[e].children[0]._components[1].import_data.object_name&&i++;for(var d=0;d<t.node.children[e].children[0]._components[1].import_data.max.length&&window.our_level>=t.node.children[e].children[0]._components[1].import_data.max[d][0];d++)o=t.node.children[e].children[0]._components[1].import_data.max[d][1];i+1>o&&(t.node.children[e].children[0]._components[1].import_data.max_label=!0),console.log(t.node.children[e]),t.node.children[e].children[0].children[1].children[0]._components[0].string=i+"/"+o,t.addItemOnMeadow=!1,t.item_selected_index=!1,t.node.parent._components[2].destroy_move_object()}else t.node.parent._components[2].show_alert("tempatkan di tempat yang kosong",t.node.x+t.node.children[e].x,t.node.y+t.node.children[e].y,new cc.Color(200,20,20))},void 0,function(){t.node.opacity=255,t.node.children[e].setPosition(cc.v2(t.node.width*(7/8)*.5*-1+.125*e*t.node.width+t.node_delta_scroll_x,0)),t.node.parent.children[window.m_i]._components[1].destroy_many_square(),t.node.parent.children[window.m_i]._components[1].destroy_last_child(),t.addItemOnMeadow=!1,t.item_selected_index=!1,t.node.parent._components[2].destroy_move_object()})},autoMove:function(){var e=0,t=0,n=!1;if(this.mouseDownItemLocation.x>this.node.parent.width*(7/8)?(e=5,n=!0):this.mouseDownItemLocation.x<this.node.parent.width*(1/8)&&(e=-5,n=!0),this.mouseDownItemLocation.y>this.node.parent.height*(7/8)?(t=5,n=!0):this.mouseDownItemLocation.y<this.node.parent.height*(1/8)&&(t=-5,n=!0),n){var o=this.node.parent.children[window.m_i]._components[1].MoveMeadow(-e,-t);0==o.x&&(e=0),0==o.y&&(t=0),this.mouseX+=e/this.node.parent.children[window.m_i].scaleX,this.mouseY+=t/this.node.parent.children[window.m_i].scaleX;var i=this.node.parent.children[window.m_i]._components[1].ObjectOnMove(this.mouseX,this.mouseY);this.node.parent.children[window.m_i].children[this.index_object_selected].x=i.x,this.node.parent.children[window.m_i].children[this.index_object_selected].y=i.y,this.node.children[this.item_selected_index].x=this.node.parent.children[window.m_i].children[this.index_object_selected].x*this.node.parent.children[window.m_i].scaleX+this.node.parent.children[window.m_i].x-this.node.x,this.node.children[this.item_selected_index].y=this.node.parent.children[window.m_i].children[this.index_object_selected].y*this.node.parent.children[window.m_i].scaleY+this.node.parent.children[window.m_i].y-this.node.y,this.red_square=this.node.parent.children[window.m_i]._components[1].spawn_many_square(this.node.parent.children[window.m_i].children[this.last_index_of_meadow].x,this.node.parent.children[window.m_i].children[this.last_index_of_meadow].y,window.object_identity[this.index_object_identity].plot_of_move_system.start_x,window.object_identity[this.index_object_identity].plot_of_move_system.start_y,window.object_identity[this.index_object_identity].plot_of_move_system.cols,window.object_identity[this.index_object_identity].plot_of_move_system.rows,!1)}},onClose:function(){var e=this;this.node.children[0].on("touchend",function(){e.addItemOnMeadow&&(e.node.parent.children[window.m_i]._components[1].destroy_many_square(),e.node.parent.children[window.m_i]._components[1].destroy_last_child(),e.node.parent._components[2].destroy_move_object()),window.action_active=!1,e.node.parent._components[2].activate_bottom_icon(),e.node.destroy()},this)}}),cc._RF.pop()},{}],change_page:[function(e,t){"use strict";cc._RF.push(t,"e0aeed1hJdDdIBAccd+T1Zf","change_page"),cc.Class({extends:cc.Component,properties:{purpose:""},onLoad:function(){this.node.on(cc.Node.EventType.MOUSE_DOWN,function(){"right"==this.purpose&&this.node.parent.getComponent("storage_box").right_page_act(),"left"==this.purpose&&this.node.parent.getComponent("storage_box").left_page_act()},this)},start:function(){}}),cc._RF.pop()},{}],choose_type:[function(e,t){"use strict";cc._RF.push(t,"87b41IpehlAGLgHBurM77aO","choose_type"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){for(var e=this,t=0;t<this.node.children.length;t++)switch(this.node.children[t]._name){case"animal_type":this.node.children[t].on("touchend",function(){window.action_active||(e.node.parent._components[2].spawnNewObject("ground_animal"),e.node.parent._components[2].shop_open=!1,e.node.destroy())},this);break;case"decoration_type":this.node.children[t].on("touchend",function(){window.action_active||(e.node.parent._components[2].spawnNewObject("ground_decoration"),e.node.parent._components[2].shop_open=!1,e.node.destroy())},this);break;case"plant_type":this.node.children[t].on("touchend",function(){window.action_active||(e.node.parent._components[2].spawnNewObject("circle_seeds_choice"),e.node.parent._components[2].shop_open=!1,e.node.destroy())},this);break;case"building_type":this.node.children[t].on("touchend",function(){window.action_active||(e.node.parent._components[2].spawnNewObject("ground_building"),e.node.parent._components[2].shop_open=!1,e.node.destroy())},this);break;case"machine_type":this.node.children[t].on("touchend",function(){window.action_active||(e.node.parent._components[2].spawnNewObject("ground_machine"),e.node.parent._components[2].shop_open=!1,e.node.destroy())},this);break;case"tree_type":this.node.children[t].on("touchend",function(){window.action_active||(e.node.parent._components[2].spawnNewObject("ground_tree"),e.node.parent._components[2].shop_open=!1,e.node.destroy())},this)}},start:function(){}}),cc._RF.pop()},{}],decoration_shop:[function(e,t){"use strict";cc._RF.push(t,"e34b8s1iQhNr5/SDaiguBEE","decoration_shop"),cc.Class({extends:cc.Component,properties:{type:cc.String,close:{default:null,type:cc.Node},circle:{default:null,type:cc.Prefab},limit_box:{default:null,type:cc.Prefab},padlock:{default:null,type:cc.Prefab},info_box:{default:null,type:cc.Prefab},wall_a:{default:null,type:cc.Prefab},wall_b:{default:null,type:cc.Prefab},wall_c:{default:null,type:cc.Prefab},footpath_a:{default:null,type:cc.Prefab}},onLoad:function(){this.node.setPosition(cc.v2(0,-this.node.parent.height/2+this.node.height/2)),this.node.parent._components[2].deactivate_bottom_icon(),this.type_of_item,this.node.width=this.node.parent.width,this.mouseDownItemLocation={x:0,y:0},this.node_delta_scroll_x=0,this.all_item_identity=[],this.first_item_coord_x,window.action_active=!0,this.close.setPosition(cc.v2(this.node.width/2-this.close.width,this.node.height/2));for(var e=0;e<window.stuff_identity.length;e++)window.stuff_identity[e].type==this.type&&this.all_item_identity.push(window.stuff_identity[e]);this.show_all_items(),this.on_scroll_horizontal(),this.itemOnDrag(),this.onClose()},start:function(){},update:function(){this.meadowOnDrag(),this.mouseDownItem&&this.addItemOnMeadow&&this.autoMove()},on_scroll_horizontal:function(){var e=this;this.node.on("touchstart",function(){e.mouseDown=!0},this),this.node.on("touchmove",function(t){if(e.mouseDown&&!e.mouseDownItem){var n=t.getDelta().x;if(!(e.node.children[1].x+n>e.first_item_coord_x||e.node.children[e.node.children.length-1].x+n<e.first_item_coord_x)){e.node_delta_scroll_x+=n;for(var o=1;o<e.node.children.length;o++)(!e.item_selected_index||o!=e.item_selected_index&&o!=e.node.children.length-1&&o!=e.node.children.length-2)&&(e.node.children[o].x+=n)}}},this),this.node.on("touchend",function(){e.mouseDown=!1},this)},show_all_items:function(){for(var e=0;e<this.all_item_identity.length;e++){var t=cc.instantiate(this.circle),n=cc.instantiate(this.get_prefab_by_name(this.all_item_identity[e].name));if(n._components[1].import_data=this.all_item_identity[e],this.all_item_identity[e].available_level<=window.our_level){var o=cc.instantiate(this.node.parent._components[2].get_object_by_macros("text_global"));o._components[0].string="$"+this.all_item_identity[e].price,o.setPosition(cc.v2(0,-o.height/3)),n.addChild(o)}else{n.color=new cc.Color(100,100,100);var i=cc.instantiate(this.padlock);i.setPosition(cc.v2(0,i.height/3)),n.addChild(i);var a=cc.instantiate(this.node.parent._components[2].get_object_by_macros("text_global"));a._components[0].string="Lv."+this.all_item_identity[e].available_level,a.setPosition(cc.v2(0,i.height/3-i.height/2)),n.addChild(a)}t.addChild(n),this.node.addChild(t),t.setPosition(cc.v2(this.node.width*(7/8)*.5*-1+.125*(e+1)*this.node.width,0))}this.first_item_coord_x=this.node.children[1].x},get_prefab_by_name:function(e){var t;switch(e){case"wall_a":t=this.wall_a;break;case"wall_b":t=this.wall_b;break;case"wall_c":t=this.wall_c;break;case"footpath_a":t=this.footpath_a}return t},meadowOnDrag:function(){window.MeadowOnDrag&&this.item_selected_index&&this.node.children[this.item_selected_index].setPosition(cc.v2(this.node.parent.children[window.m_i].children[this.index_object_selected].x*this.node.parent.children[window.m_i].scaleX+this.node.parent.children[window.m_i].x-this.node.x,this.node.parent.children[window.m_i].children[this.index_object_selected].y*this.node.parent.children[window.m_i].scaleY+this.node.parent.children[window.m_i].y-this.node.y))},show_info:function(e,t){for(var n,o=0;o<window.object_identity.length;o++)if(window.object_identity[o].name==e.object_name){n=window.object_identity[o].plot_of_move_system;break}if(n){var i=cc.instantiate(this.info_box);i.children[0]._components[0].string=e.object_name.replace("_"," "),i.children[1]._components[0].string=n.cols+"x"+n.rows,i.children[3]._components[0].string="Lvl. "+e.available_level,e.price_gold?(i.children[6].destroy(),i.children[5]._components[0].string=e.price_gold):i.children[5]._components[0].string="Rp."+e.price,i.setPosition(cc.v2(t,140)),this.node.addChild(i),i.children[1].setPosition(cc.v2(65-i.children[1].width/2,32)),i.children[3].setPosition(cc.v2(65-i.children[3].width/2,-52)),i.children[5].setPosition(cc.v2(65-i.children[5].width/2,-10))}},destroy_info:function(){for(var e=0;e<this.node.children.length;e++)if(this.node.children[e].name==this.info_box.data.name){this.node.children[e].destroy();break}},itemOnDrag:function(){var e=this;this.mouseDownItem=!1,this.addItemOnMeadow=!1;for(var t=function(t){e.node.children[t].on("touchstart",function(n){e.mouseDownItem=!0,e.mouseDownItemLocation.x=n.getLocation().x,e.mouseDownItemLocation.y=n.getLocation().y,e.addItemOnMeadow||e.show_info(e.node.children[t].children[0]._components[1].import_data,e.node.children[t].x)},e),e.node.children[t].on("touchmove",function(n){if(e.destroy_info(),e.mouseDownItem){if("padock"==e.node.children[t].children[0].children[0].name)return e.node.parent._components[2].show_alert("terkunci",e.node.x+e.node.children[t].x,e.node.y+e.node.children[t].y,new cc.Color(200,0,0)),e.mouseDownItem=!1,e.mouseDownItemLocation.x=0,void(e.mouseDownItemLocation.y=0);if(1==e.node.children[t].children[0]._components[1].import_data.max_label)return e.node.parent._components[2].show_alert("jumlah sudah maksimal",e.node.x+e.node.children[t].x,e.node.y+e.node.children[t].y,new cc.Color(200,0,0)),e.mouseDownItem=!1,e.mouseDownItemLocation.x=0,void(e.mouseDownItemLocation.y=0);if(!e.addItemOnMeadow){var o=(e.node.x+e.node.children[t].x-e.node.parent.children[window.m_i].x)/e.node.parent.children[window.m_i].scaleX,i=(e.node.y+e.node.children[t].y-e.node.parent.children[window.m_i].y)/e.node.parent.children[window.m_i].scaleY,a=e.node.children[t].children[0]._name;e.node.parent.children[window.m_i]._components[1].spawnNewObject({name:a,coord:{x:o,y:i},ID:10,shop:!0,already_fed:!1,time_start:0,square_data:[]}),e.index_object_selected=e.node.parent.children[window.m_i].children.length-1,e.item_selected_index=t,e.spawn_yes_and_no(t),e.last_index_of_meadow=e.node.parent.children[window.m_i].children.length-1,e.mouseX=(e.node.x+e.node.children[t].x-e.node.parent.children[window.m_i].x)/e.node.parent.children[window.m_i].scaleX,e.mouseY=(e.node.y+e.node.children[t].y-e.node.parent.children[window.m_i].y)/e.node.parent.children[window.m_i].scaleY;for(var d=0;d<window.object_identity.length;d++)if(window.object_identity[d].name==e.node.children[t].children[0]._components[1].import_data.object_name){e.node.parent.children[window.m_i]._components[1].spawn_many_square((e.node.x+e.node.children[t].x-e.node.parent.children[window.m_i].x)/e.node.parent.children[window.m_i].scaleX,(e.node.y+e.node.children[t].y-e.node.parent.children[window.m_i].y)/e.node.parent.children[window.m_i].scaleY,window.object_identity[d].plot_of_move_system.start_x,window.object_identity[d].plot_of_move_system.start_y,window.object_identity[d].plot_of_move_system.cols,window.object_identity[d].plot_of_move_system.rows,!1),e.num_of_move_plot=window.object_identity[d].plot_of_move_system.cols*window.object_identity[d].plot_of_move_system.rows,e.index_object_identity=d;break}e.addItemOnMeadow=!0}e.mouseDownItemLocation.x=n.getLocation().x,e.mouseDownItemLocation.y=n.getLocation().y,e.mouseX+=n.getDelta().x/e.node.parent.children[window.m_i].scaleX,e.mouseY+=n.getDelta().y/e.node.parent.children[window.m_i].scaleY;var c=e.node.parent.children[window.m_i]._components[1].ObjectOnMove(e.mouseX,e.mouseY);e.node.parent.children[window.m_i].children[e.index_object_selected].x=c.x,e.node.parent.children[window.m_i].children[e.index_object_selected].y=c.y,e.node.children[t].x=e.node.parent.children[window.m_i].children[e.index_object_selected].x*e.node.parent.children[window.m_i].scaleX+e.node.parent.children[window.m_i].x-e.node.x,e.node.children[t].y=e.node.parent.children[window.m_i].children[e.index_object_selected].y*e.node.parent.children[window.m_i].scaleY+e.node.parent.children[window.m_i].y-e.node.y,e.red_square=e.node.parent.children[window.m_i]._components[1].spawn_many_square(e.node.parent.children[window.m_i].children[e.last_index_of_meadow].x,e.node.parent.children[window.m_i].children[e.last_index_of_meadow].y,window.object_identity[e.index_object_identity].plot_of_move_system.start_x,window.object_identity[e.index_object_identity].plot_of_move_system.start_y,window.object_identity[e.index_object_identity].plot_of_move_system.cols,window.object_identity[e.index_object_identity].plot_of_move_system.rows,!1),e.addItemOnMeadow?e.node.opacity=1:e.node.opacity=255}},e),e.node.children[t].on("touchend",function(){e.destroy_info(),e.mouseDownItem=!1},e)},n=1;n<this.node.children.length;n++)t(n)},spawn_yes_and_no:function(e){var t=this;this.node.parent._components[2].spawn_move_object(function(){if(0!=t.red_square){if(window.default_data.identity.money<t.node.children[e].children[0]._components[1].import_data.price)return t.node.parent._components[2].show_alert("uang tidak cukup",t.node.x+t.node.children[e].x,t.node.y+t.node.children[e].y,new cc.Color(200,20,20)),t.node.opacity=255,t.node.children[e].setPosition(cc.v2(t.node.width*(7/8)*.5*-1+.125*e*t.node.width+t.node_delta_scroll_x,0)),t.node.parent.children[window.m_i]._components[1].destroy_many_square(),t.node.parent.children[window.m_i]._components[1].destroy_last_child(),t.addItemOnMeadow=!1,void(t.item_selected_index=!1);window.default_data.object.push({name:t.node.children[e].children[0]._components[1].import_data.object_name,coord:{x:(t.node.x+t.node.children[e].x-t.node.parent.children[window.m_i].x)/t.node.parent.children[window.m_i].scaleX,y:(t.node.y+t.node.children[e].y-t.node.parent.children[window.m_i].y)/t.node.parent.children[window.m_i].scaleY},square_data:[]}),t.node.parent._components[2].addMoney(-t.node.children[e].children[0]._components[1].import_data.price);var n="buy "+t.node.children[e].children[0]._components[1].import_data.object_name;t.node.parent._components[2].getActivity(n),t.node.opacity=255,t.node.children[e].setPosition(cc.v2(t.node.width*(7/8)*.5*-1+.125*e*t.node.width+t.node_delta_scroll_x,0)),t.node.parent.children[window.m_i]._components[1].show(),t.addItemOnMeadow=!1,t.item_selected_index=!1,t.node.parent._components[2].destroy_move_object()}else t.node.parent._components[2].show_alert("tempatkan di tempat yang kosong",t.node.x+t.node.children[e].x,t.node.y+t.node.children[e].y,new cc.Color(200,20,20))},void 0,function(){t.node.opacity=255,t.node.children[e].setPosition(cc.v2(t.node.width*(7/8)*.5*-1+.125*e*t.node.width+t.node_delta_scroll_x,0)),t.node.parent.children[window.m_i]._components[1].destroy_many_square(),t.node.parent.children[window.m_i]._components[1].destroy_last_child(),t.addItemOnMeadow=!1,t.item_selected_index=!1,t.node.parent._components[2].destroy_move_object()})},autoMove:function(){var e=0,t=0,n=!1;if(this.mouseDownItemLocation.x>this.node.parent.width*(7/8)?(e=5,n=!0):this.mouseDownItemLocation.x<this.node.parent.width*(1/8)&&(e=-5,n=!0),this.mouseDownItemLocation.y>this.node.parent.height*(7/8)?(t=5,n=!0):this.mouseDownItemLocation.y<this.node.parent.height*(1/8)&&(t=-5,n=!0),n){var o=this.node.parent.children[window.m_i]._components[1].MoveMeadow(-e,-t);0==o.x&&(e=0),0==o.y&&(t=0),this.mouseX+=e/this.node.parent.children[window.m_i].scaleX,this.mouseY+=t/this.node.parent.children[window.m_i].scaleX;var i=this.node.parent.children[window.m_i]._components[1].ObjectOnMove(this.mouseX,this.mouseY);this.node.parent.children[window.m_i].children[this.node.parent.children[window.m_i].children.length-(this.num_of_move_plot+1)].x=i.x,this.node.parent.children[window.m_i].children[this.node.parent.children[window.m_i].children.length-(this.num_of_move_plot+1)].y=i.y,this.node.children[this.item_selected_index].x=this.node.parent.children[window.m_i].children[this.node.parent.children[window.m_i].children.length-(this.num_of_move_plot+1)].x*this.node.parent.children[window.m_i].scaleX+this.node.parent.children[window.m_i].x-this.node.x,this.node.children[this.item_selected_index].y=this.node.parent.children[window.m_i].children[this.node.parent.children[window.m_i].children.length-(this.num_of_move_plot+1)].y*this.node.parent.children[window.m_i].scaleY+this.node.parent.children[window.m_i].y-this.node.y,this.red_square=this.node.parent.children[window.m_i]._components[1].spawn_many_square(this.node.parent.children[window.m_i].children[this.last_index_of_meadow].x,this.node.parent.children[window.m_i].children[this.last_index_of_meadow].y,window.object_identity[this.index_object_identity].plot_of_move_system.start_x,window.object_identity[this.index_object_identity].plot_of_move_system.start_y,window.object_identity[this.index_object_identity].plot_of_move_system.cols,window.object_identity[this.index_object_identity].plot_of_move_system.rows,!1)}},onClose:function(){var e=this;this.node.children[0].on("touchend",function(){e.addItemOnMeadow&&(e.node.parent.children[window.m_i]._components[1].destroy_many_square(),e.node.parent.children[window.m_i]._components[1].destroy_last_child(),e.node.parent._components[2].destroy_move_object()),window.action_active=!1,e.node.parent._components[2].activate_bottom_icon(),e.node.destroy()},this)}}),cc._RF.pop()},{}],deliver:[function(e,t){"use strict";cc._RF.push(t,"01a3e301AJIWodNprEXy/z/","deliver"),cc.Class({extends:cc.Component,properties:{check_done:{default:null,type:cc.Prefab},money:{default:null,type:cc.Prefab},exp:{default:null,type:cc.Prefab},delete:{default:null,type:cc.Prefab},time_clock:{default:null,type:cc.Prefab}},onLoad:function(){var e=this;this.node.on("touchend",function(){if(0==e.our_data.time_start){var t=!1;(e.our_data2+1)%3==0&&(t=!0),e.node.parent._components[1].show_info_box(e.our_data,e.node.x,e.node.y,t,e.our_data2),e.node.parent._components[1].list_item_box_on=!0}},this),this.count_label=this.node.parent.parent._components[2].get_object_by_macros("text_global"),this.sufficient=!0,this.our_data.time_start>0?this.show_time():this.show_all()},start:function(){},show_all:function(){this.show_item(),this.show_reward(),0!=this.sufficient&&this.spawnNewNode(this.check_done,50,-45),this.show_delete()},destroy_all_child_except_first_child:function(){for(var e=this.node.children.length-1;e>0;--e)this.node.children[e].destroy()},show_time:function(){var e=new Date,t=this.our_data.time_start+1e3-this.our_data.time_start-(e.getTime()-this.our_data.time_start),n=(t-t%6e4)/6e4,o=Math.floor(t%6e4/1e3);this.spawnNewObject(this.time_clock,0,this.node.height/4),this.spawnNewObject(this.count_label,0,-this.node.height/4,{color:new cc.Color(255,255,255),string:n+":"+o}),this.waiting_time=!0;for(var i=0;i<this.node.children.length;i++)if(this.node.children[i]._name==this.count_label.name){this.time_child_index=i;break}},show_item:function(){for(var e=0;e<this.our_data.needed.length;e++)this.get_total_we_have(this.our_data.needed[e].name)>=this.our_data.needed[e].total?new cc.Color(20,200,20):(new cc.Color(200,20,20),this.sufficient=!1)},get_total_we_have:function(e){for(var t=0,n=0;n<window.default_data.storage[0].length;n++)if(window.default_data.storage[0][n].name==e){t=window.default_data.storage[0][n].total;break}for(var o=0;o<window.default_data.storage[1].length;o++)if(window.default_data.storage[1][o].name==e){t=window.default_data.storage[1][o].total;break}return t},spawnNewObject:function(e,t,n,o){void 0===o&&(o=void 0);var i=cc.instantiate(e);this.node.addChild(i),null!=o&&(null!=o.color&&(i.color=o.color),o.string&&(i._components[0].string=o.string)),i.setPosition(cc.v2(t,n)),this.node.children[this.node.children.length-1].width=30/this.node.children[this.node.children.length-1].height*this.node.children[this.node.children.length-1].width,this.node.children[this.node.children.length-1].height=30},spawnNewNode:function(e,t,n,o,i){void 0===o&&(o=void 0),void 0===i&&(i=void 0);var a=cc.instantiate(e);this.node.addChild(a),a.setPosition(cc.v2(t,n)),o&&i&&(this.node.children[this.node.children.length-1].width=o,this.node.children[this.node.children.length-1].height=i)},show_delete:function(){var e=this;this.spawnNewNode(this.delete,-this.node.width/2,this.node.height/2,30,30);for(var t=0;t<this.node.children.length;t++)if(this.node.children[t]._name==this.delete.name){this.node.children[t].on("touchend",function(){window.default_data.order[e.our_data2]=e.node.parent._components[1].newOrder(!1),e.node.parent._components[1].show_all(),1==e.node.parent._components[1].list_item_box_on&&(e.node.parent._components[1].list_item_box_on=!1,e.node.parent.children[1].opacity=1)},this);break}},show_deliver:function(){},show_reward:function(){this.destroy_all_child_except_first_child(),this.spawnNewNode(this.money,-30,15),this.spawnNewNode(this.exp,-30,-30),this.spawnNewNode(this.count_label,25,15),this.node.children[3]._components[0].fontSize=18,this.node.children[3]._components[0].string=this.our_data.price,this.node.children[3].color=new cc.Color(0,0,0),this.spawnNewNode(this.count_label,25,-30),this.node.children[4]._components[0].fontSize=18,this.node.children[4]._components[0].string=this.our_data.exp,this.node.children[4].color=new cc.Color(0,0,0)},update:function(){if(1==this.waiting_time){var e=new Date,t=this.our_data.time_start+1e3-this.our_data.time_start-(e.getTime()-this.our_data.time_start);if(t<=0)return void this.change_to_show_item();var n=(t-t%6e4)/6e4,o=Math.floor(t%6e4/1e3);this.node.children[this.time_child_index]._components[0].string=n+":"+o}},change_to_show_item:function(){window.default_data.order[this.our_data2].time_start=0,this.node.parent._components[1].show_all()}}),cc._RF.pop()},{}],f_animal_area:[function(e,t){"use strict";cc._RF.push(t,"175adoJmkNH5LZoE9tRdEuY","f_animal_area"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){window.friend_meadow_load&&(this.time_produce=0,this.time_start=this.node._components[1].ownData.time_start,this.time_end=this.time_start+1e3*this.time_produce,this.produce=!1,this.already_fed=!1,this.stuff_identity,this.stuff_identity_index,this.TimeShowDuration=0,this.item_data_i_need=[],this.current_prefab=this.before_fed_prefab,this.showPrefab(this.get_prefab()))},start:function(){},update:function(){if(window.friend_meadow_load){for(var e=0;e<window.friend_meadow_load.object.length;e++){for(var t=0;t<window.stuff_identity.length;t++)if(window.stuff_identity[t].name==this.node._components[1].animal_name){this.time_produce=window.stuff_identity[t].produce_time,this.stuff_identity=window.stuff_identity[t],this.stuff_identity_index=t;break}if(this.node._components[1].ownData.shop)return this.already_fed=!1,this.time_start=0,void(this.time_end=this.time_start+1e3*this.time_produce);if(window.friend_meadow_load.object[e].ID==this.node._components[1].ownData.ID){this.index_of_data_object=e,this.already_fed=window.friend_meadow_load.object[e].already_fed,this.time_start=window.friend_meadow_load.object[e].time_start,this.time_end=this.time_start+1e3*this.time_produce;break}}this.get_prefab()!=this.current_prefab&&this.showPrefab(this.get_prefab())}},onTouch:function(){window.action_active||this.current_prefab==this.node._components[1].time_produce_prefab&&this.produce_time()},showPrefab:function(e){this.node._children=[];var t=cc.instantiate(e);this.node.addChild(t),t.setPosition(cc.v2(0,0)),this.current_prefab=e},get_prefab:function(){var e,t=((new Date).getTime()-this.time_start)/(this.time_end-this.time_start);return 0==this.already_fed?e=this.node._components[1].before_fed_prefab:t<1&&t>=0?e=this.node._components[1].after_fed_prefab:t>=1&&(e=this.node._components[1].time_produce_prefab),e},produce_time:function(){for(var e=0;e<window.friend_meadow_load.object.length;e++)if(window.friend_meadow_load.object[e].ID==this.node._components[1].ownData.ID){if(0==this.node.parent.parent._components[2].doActivity(e))return;this.node.parent.parent._components[2].achievement_request("help friends farm"),this.node.parent.parent._components[2].addLevelPoint(this.stuff_identity.add_exp),window.friend_meadow_load.object[e].already_fed=!1,window.friend_meadow_load.object[e].time_start=0;break}}}),cc._RF.pop()},{}],f_machine:[function(e,t){"use strict";cc._RF.push(t,"e80b06C1ohGz5Jbh1GS1Xm/","f_machine"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){window.friend_meadow_load},start:function(){}}),cc._RF.pop()},{}],f_planting_slot:[function(e,t){"use strict";cc._RF.push(t,"9e3f0nNhApKM4ekDeDnI8ZD","f_planting_slot"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){window.friend_meadow_load&&(this.pickRadius=this.node.height/2,this.plant_name="none",this.time_planting=0,this.time_start=this.node._components[1].ownData.time_start,this.time_end=this.time_start+1e3*this.time_planting,this.harvest=!1,this.TimeShowDuration=0)},update:function(){if(window.friend_meadow_load){for(var e=0;e<window.friend_meadow_load.object.length;e++)if(window.friend_meadow_load.object[e].ID==this.node._components[1].ownData.ID){this.plant_name=window.friend_meadow_load.object[e].plant;for(var t=0;t<window.planting_data.length;t++)window.planting_data[t].name==this.plant_name&&(this.time_planting=window.planting_data[t].harvest_time,this.stuff_identity=window.planting_data[t]);this.time_start=window.friend_meadow_load.object[e].time_start,this.time_end=this.time_start+1e3*this.time_planting}"none"!=this.plant_name&&0==this.harvest&&this.showPlant(this.get_prefab_by_name(this.plant_name))}},showPlant:function(e){this.node._children=[];var t=cc.instantiate(e);this.node.addChild(t),((new Date).getTime()-this.time_start)/(this.time_end-this.time_start)>1&&(this.harvest=!0)},get_prefab_by_name:function(e){var t,n=((new Date).getTime()-this.time_start)/(this.time_end-this.time_start);switch(e){case"wheat":return n<=1&&n>.5?t=this.node._components[1].wheat_1_prefab:n>1?t=this.node._components[1].wheat_2_prefab:n<=.5&&n>=0&&(t=this.node._components[1].seed_prefab),t;case"tomato":return n<=1&&n>.5?t=this.node._components[1].tomato_1_prefab:n>1?t=this.node._components[1].tomato_2_prefab:n<=.5&&n>=0&&(t=this.node._components[1].seed_prefab),t}},destroySickle:function(){for(var e=0;e<this.node.parent.children.length;e++)this.node.parent.children[e]._name==this.node._components[1].sickle_prefab.data.name&&this.node.parent.children[e].destroy()},onTouch:function(){var e=this;if(((new Date).getTime()-this.time_start)/(this.time_end-this.time_start)>1){if(this.destroySickle(),this.sickle_active||window.action_active)return;window.action_active=!0,this.sickle_active=!0;var t=cc.instantiate(this.node._components[1].sickle_prefab);this.node.parent.addChild(t),t.setPosition(cc.v2(this.node.x,this.node.y+40)),t.on("touchstart",function(){e.mouseSickleDown=!0},this),t.on("touchmove",function(n){if(e.mouseSickleDown){e.node.parent._components[1].MeadowMouseDown=!1,t.x+=n.getDelta().x/e.node.parent.scaleX,t.y+=n.getDelta().y/e.node.parent.scaleY;for(var o=0;o<e.node.parent.children.length;o++)"planting_slot"==e.node.parent.children[o]._name&&e.node.parent.children[o]._components[2].harvest&&cc.v3(e.node.parent.children[o].x,e.node.parent.children[o].y).sub(cc.v3(t.x,t.y)).mag()<=10&&e.node.parent.children[o]._components[2].harvest_time()}},this),t.on("touchend",function(){e.sickle_active&&(e.mouseSickleDown=!1,e.sickle_active=!1,window.action_active=!1,e.destroySickle())},this),this.node.parent.parent.on("touchstart",function(t){if(e.sickle_active){var n=t.getLocation().x-e.node.parent.parent.width/2,o=t.getLocation().y-e.node.parent.parent.height/2;cc.v3(n,o).sub(cc.v3(e.node.parent.x+e.node.parent.children[e.node.parent.children.length-1].x*e.node.parent.scaleX,e.node.parent.y+e.node.parent.children[e.node.parent.children.length-1].y*e.node.parent.scaleY)).mag()>50&&e.sickle_active&&(window.action_active=!1,e.sickle_active=!1,e.destroySickle())}},this)}},harvest_time:function(){for(var e=0;e<window.friend_meadow_load.object.length;e++)if(window.friend_meadow_load.object[e].ID==this.node._components[1].ownData.ID){if(0==this.node.parent.parent._components[2].doActivity(e))return;this.node.parent.parent._components[2].achievement_request("help friends farm"),this.node.parent.parent._components[2].addLevelPoint(this.stuff_identity.add_exp),window.friend_meadow_load.object[e].plant="none",window.friend_meadow_load.object[e].time_start=0;break}this.node.children[0].destroy(),this.plant_name="none",this.harvest=!1},showTime:function(){var e=new Date,t=this.time_end-this.time_start-(e.getTime()-this.time_start);if(t>0){var n=cc.instantiate(this.node.parent._components[2].time_showing);this.node.addChild(n);var o=cc.instantiate(this.node.parent._components[2].time_label),i=(t-t%6e4)/6e4,a=Math.floor(t%6e4/1e3);o._components[0].string=i+":"+a,this.node.addChild(o)}}}),cc._RF.pop()},{}],f_tree:[function(e,t){"use strict";cc._RF.push(t,"ad170HheoxBQ6TvEIo8pNdJ","f_tree"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){window.friend_meadow_load&&(this.pickRadius=this.node.width/2,this.time_planting=0,this.time_start=this.node._components[1].ownData.time_start,this.time_end=this.time_start+1e3*this.time_planting,this.harvest=!1,this.already_watered=!1,this.stuff_identity)},start:function(){},update:function(){if(window.friend_meadow_load){for(var e=0;e<window.friend_meadow_load.object.length;e++)if(window.friend_meadow_load.object[e].ID==this.node._components[1].ownData.ID){for(var t=0;t<window.stuff_identity.length;t++)if(window.stuff_identity[t].name==this.node._components[1].type_of_tree){this.time_planting=window.stuff_identity[t].harvest_time,this.stuff_identity=window.stuff_identity[t];break}this.index_of_data_object=e,this.already_watered=window.friend_meadow_load.object[e].already_watered,this.time_start=window.friend_meadow_load.object[e].time_start,this.time_end=this.time_start+1e3*this.time_planting;break}0==this.harvest&&this.already_watered&&this.showFruit(this.get_prefab())}},showFruit:function(e){this.node._children=[];var t=cc.instantiate(e);this.node.addChild(t),((new Date).getTime()-this.time_start)/(this.time_end-this.time_start)>1&&(this.harvest=!0)},get_prefab:function(){var e,t=((new Date).getTime()-this.time_start)/(this.time_end-this.time_start);return t<1&&t>=0?e=this.node._components[1].tree_1:t>=1&&(e=this.node._components[1].tree_2),e},onTouch:function(){((new Date).getTime()-this.time_start)/(this.time_end-this.time_start)>1&&this.already_watered&&this.harvest_time()},harvest_time:function(){0!=this.node.parent.parent._components[2].doActivity(this.index_of_data_object)&&(window.friend_meadow_load.object[this.index_of_data_object].already_watered=!1,window.friend_meadow_load.object[this.index_of_data_object].time_start=0,this.node.parent.parent._components[2].achievement_request("help friends farm"),this.node.parent.parent._components[2].addLevelPoint(this.stuff_identity.add_exp),this.node.children[0].destroy(),this.harvest=!1)}}),cc._RF.pop()},{}],f_wild_object:[function(e,t){"use strict";cc._RF.push(t,"bbca1tY/nZP36SEDDjilRIg","f_wild_object"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],fertilizer_box:[function(e,t){"use strict";cc._RF.push(t,"20935KTiitLGKOc2/lZVAk4","fertilizer_box"),cc.Class({extends:cc.Component,properties:{close_box:{default:null,type:cc.Node},run_button:{default:null,type:cc.Prefab},volume:{default:null,type:cc.Prefab}},onLoad:function(){var e=this;this.node.setPosition(cc.v2(0,-this.node.parent.height/2+this.node.height/2)),this.spawnButtonOrVolume(),this.close_box.on("touchend",function(){window.action_active=!1,e.node.destroy()},this)},start:function(){},spawnButtonOrVolume:function(){if(1==window.default_data.fertilizer_data.x2)this.spawnNewObject(this.run_button,-100,-25,"x2");else if(window.default_data.fertilizer_data.x2<1){var e=this.spawnNewObject(this.volume,-100,-25);this.node.children[e].children[0].width=window.default_data.fertilizer_data.x2*this.node.children[e].width,this.node.children[e].children[0].setPosition(cc.v2(-this.node.children[e].width/2+this.node.children[e].children[0].width/2,0))}if(1==window.default_data.fertilizer_data.x4)this.spawnNewObject(this.run_button,0,-25,"x4");else if(window.default_data.fertilizer_data.x4<1){var t=this.spawnNewObject(this.volume,0,-25);this.node.children[t].children[0].width=window.default_data.fertilizer_data.x4*this.node.children[t].width,this.node.children[t].children[0].setPosition(cc.v2(-this.node.children[t].width/2+this.node.children[t].children[0].width/2,0))}if(1==window.default_data.fertilizer_data.x8)this.spawnNewObject(this.run_button,100,-25,"x8");else if(window.default_data.fertilizer_data.x8<1){var n=this.spawnNewObject(this.volume,100,-25);this.node.children[n].children[0].width=window.default_data.fertilizer_data.x8*this.node.children[n].width,this.node.children[n].children[0].setPosition(cc.v2(-this.node.children[n].width/2+this.node.children[n].children[0].width/2,0))}},spawnNewObject:function(e,t,n,o){var i=this;void 0===o&&(o=!1);var a,d=cc.instantiate(e);d.setPosition(cc.v2(t,n)),this.node.addChild(d);for(var c=0;c<this.node.children.length;c++)if(this.node.children[c].uuid==d.uuid){a=c;break}if(!o)return a;d.on("touchend",function(){i.doAction(o)},this)},setAction:function(e){var t=new Date;switch(e){case"x2":window.default_data.fertilizer_data.x2=0;break;case"x4":window.default_data.fertilizer_data.x4=0;break;case"x8":window.default_data.fertilizer_data.x8=0;break;default:console.error("unknown : "+e)}for(var n=0;n<this.node.parent.children[window.m_i].children.length;n++)if(this.node.parent.children[window.m_i].children[n].name==this.node.parent.children[window.m_i]._components[1].get_object_by_macros("agricultural_aircraft").data.name){this.node.parent.children[window.m_i].children[n]._components[1].launch_aircraft();break}window.default_data.fertilizer_data.now.type=e,window.default_data.fertilizer_data.now.times_start=t.getTime(),window.default_data.fertilizer_data.now.times_end=window.default_data.fertilizer_data.now.times_start+3e4,window.action_active=!1,this.node.destroy()},doAction:function(e){"x2"==e?this.setAction("x2"):"x4"==e?this.setAction("x4"):"x8"==e?this.setAction("x8"):console.error("unknown fertilizer")}}),cc._RF.pop()},{}],friend_data:[function(e,t){"use strict";cc._RF.push(t,"f2bbdVqVTVOcbMvhkalM6zE","friend_data"),cc.Class({extends:cc.Component,properties:{friend_name:cc.Label,visit_button:{default:null,type:cc.Node},profile_friend_box:{default:null,type:cc.Node},first_request:{default:null,type:cc.Node},second_request:{default:null,type:cc.Node},friendship_level:{default:null,type:cc.Node},next_friend:{default:null,type:cc.Node},prev_friend:{default:null,type:cc.Node},close_button:{default:null,type:cc.Node},request_box:{default:null,type:cc.Prefab},face_raden:{default:null,type:cc.Prefab},face_rama:{default:null,type:cc.Prefab},face_yi:{default:null,type:cc.Prefab}},onLoad:function(){this.node.on("touchstart",function(){},this),this.friend_show_index=0,this.visit=!0,this.setFriend(),this.Next_or_prev_on_touch(),this.visit_button_onClick(),this.request_on_click(),this.close_onClick(),this.onDrag()},Next_or_prev_on_touch:function(){var e=this;this.next_friend.on("touchend",function(){e.friend_show_index+=1,e.friend_show_index>=window.friend_data.length&&(e.friend_show_index=0),e.setFriend()},this),this.prev_friend.on("touchend",function(){e.friend_show_index-=1,e.friend_show_index<0&&(e.friend_show_index=window.friend_data.length-1),e.setFriend()},this)},setFriend:function(){this.data_friend=void 0;for(var e=0;e<window.default_data.friend_data.length;e++)window.default_data.friend_data[e].farm_name==window.friend_data[this.friend_show_index].identity.farm_name&&(this.data_friend=window.default_data.friend_data[e],window.friend_data[this.friend_show_index].index=e);if(this.first_request.children[0]&&this.first_request.children[0].destroy(),this.second_request.children[0]&&this.second_request.children[0].destroy(),null!=this.data_friend.request[0]){var t=cc.instantiate(this.node.parent._components[3].get_prefab(this.data_friend.request[0]));this.first_request.addChild(t),t.setPosition(cc.v2(0,12.5))}if(null!=this.data_friend.request[1]){var n=cc.instantiate(this.node.parent._components[3].get_prefab(this.data_friend.request[1]));this.second_request.addChild(n),n.setPosition(cc.v2(0,12.5))}if(this.friend_name.string=window.friend_data[this.friend_show_index].identity.farm_name,this.friendship_level.children[0]._components[0].string=Math.round(100*this.data_friend.friendship_level)+"%",this.data_friend.friendship_level<=.25?(this.friendship_level.children[1]._components[0].string="Acquaintances",this.friendship_level.children[1].color=new cc.Color(0,0,0)):this.data_friend.friendship_level>.25&&this.data_friend.friendship_level<=.75?(this.friendship_level.children[1]._components[0].string="Friend",this.friendship_level.children[1].color=new cc.Color(180,180,0)):this.data_friend.friendship_level>.75&&this.data_friend.friendship_level<=1&&(this.friendship_level.children[1]._components[0].string="Best Friend",this.friendship_level.children[1].color=new cc.Color(0,200,0)),this.profile_friend_box.children.length>=1)for(var o=this.profile_friend_box.children.length-1;o>=0;o--)this.profile_friend_box.children[o].destroy();this.data_friend.available_level<=window.our_level?(this.visit=!0,this.visit_button.color=new cc.Color(255,255,255),this.visit_button.children[0]._components[0].string="Visit"):(this.visit=!1,this.visit_button.color=new cc.Color(128,128,128),this.visit_button.children[0]._components[0].string="Lv."+this.data_friend.available_level);var i=this.get_face_prefab(window.friend_data[this.friend_show_index].identity.farm_name),a=cc.instantiate(i);this.profile_friend_box.addChild(a),a.setPosition(cc.v2(0,0))},get_face_prefab:function(e){switch(e){case"raden":return this.face_raden;case"rama":return this.face_rama;case"yishen":return this.face_yi}},request_on_click:function(){var e=this;this.first_request.on("touchend",function(){e.spawnNewObject(e.request_box,0,0,function(t){t._components[1].import_data=window.friend_data[e.friend_show_index],t._components[1].data_friend=e.data_friend,t._components[1].num_request=1})},this),this.second_request.on("touchend",function(){e.spawnNewObject(e.request_box,0,0,function(t){t._components[1].import_data=window.friend_data[e.friend_show_index],t._components[1].data_friend=e.data_friend,t._components[1].num_request=2})},this)},spawnNewObject:function(e,t,n,o){void 0===o&&(o=void 0);var i=cc.instantiate(e);null!=o&&o(i),this.node.addChild(i),i.setPosition(cc.v2(t,n))},visit_button_onClick:function(){var e=this;this.visit_button.on("touchend",function(){e.visit&&(window.friend_meadow_load=window.friend_data[e.friend_show_index],window.action_active=!1,e.node.parent._components[2].achievement_request("visit a friends farm"),cc.director.loadScene("load_friend"))},this)},close_onClick:function(){var e=this;this.close_button.on("touchend",function(){e.node.destroy(),window.action_active=!1},this)},onDrag:function(){var e=this;this.node.on(cc.Node.EventType.MOUSE_DOWN,function(){e.mouseDown=!0,window.MeadowMouseDown=!1}),this.node.on(cc.Node.EventType.MOUSE_MOVE,function(){window.MeadowMouseDown=!1}),this.node.on(cc.Node.EventType.MOUSE_UP,function(){e.mouseDown=!1})},start:function(){}}),cc._RF.pop()},{}],friend_object:[function(e,t){"use strict";cc._RF.push(t,"640f6gX3CVBwaB7QUPDtTu7","friend_object"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},onTouch:function(){if(this.node.children[0]&&this.node.children[0].name==this.node.parent._components[1].gift_alert.data.name){var e=window.default_data.friend_data[window.friend_meadow_load.index].take_request;if(null==window.default_data.friend_data[window.friend_meadow_load.index].request[0])e[0][0]=!0;else if(0==e[0][0])if(Math.random()<=window.default_data.friend_data[window.friend_meadow_load.index].friendship_level||e[0][1]){var t=this.addItemOnStorage(window.default_data.friend_data[window.friend_meadow_load.index].request[0]);null==t[4]&&(e[0][0]=!0),0==t[1]?(e[0][0]=!0,this.node.parent.parent._components[2].getItemAction(window.default_data.friend_data[window.friend_meadow_load.index].request[0],this.node.x,this.node.y)):e[0][1]=!0}else e[0][0]=!0;if(0==e[1][0])if(Math.random()<=window.default_data.friend_data[window.friend_meadow_load.index].friendship_level||e[1][1])if(null==window.default_data.friend_data[window.friend_meadow_load.index].request[1])e[1][0]=!0;else{var n=this.addItemOnStorage(window.default_data.friend_data[window.friend_meadow_load.index].request[1]);null==n[4]&&(e[1][0]=!0),0==n[1]?(console.log("dapat"),e[1][0]=!0,this.node.parent.parent._components[2].getItemAction(window.default_data.friend_data[window.friend_meadow_load.index].request[1],this.node.x,this.node.y)):e[1][1]=!0}else e[1][0]=!0;e[0][0]&&e[1][0]?this.node.children[0].destroy():window.default_data.friend_data[window.friend_meadow_load.index].take_request=e}},addItemOnStorage:function(e,t){var n;void 0===t&&(t=1);for(var o=0;o<window.item_selling_price.length;o++)if(window.item_selling_price[o].name==e){"barn"==window.item_selling_price[o].placement?n=0:"silo"==window.item_selling_price[o].placement?n=1:console.error(window.item_selling_price[o].placement);break}for(var i=!0,a=0,d=!0,c=0;c<window.default_data.storage[n].length;c++)a+=window.default_data.storage[n][c].total;if(a+t<=window.our_capacity[n]){d=!1;for(var s=0;s<window.default_data.storage[n].length;s++)if(window.default_data.storage[n][s].name==e){if(window.default_data.storage[n][s].total+t<0)return void(i=!1);window.default_data.storage[n][s].total+=t;break}}else this.show_alert("kapasitas terbatas",0,0,new cc.Color(200,0,0));return[i,d,a,t]},start:function(){}}),cc._RF.pop()},{}],friend_request:[function(e,t){"use strict";cc._RF.push(t,"cef40pS03ZLFqcJYkP6ErK4","friend_request"),cc.Class({extends:cc.Component,properties:{close:{default:null,type:cc.Node},title_request:cc.Label,num_of_page:cc.Label,next_button:{default:null,type:cc.Node},prev_button:{default:null,type:cc.Node},item_box:{default:null,type:cc.Prefab}},onLoad:function(){var e=this;this.index_now=0,this.close.on("touchend",function(){e.node.destroy()},this),this.node.on("touchstart",function(){},this),1==this.num_request&&(this.title_request.string="First Request"),2==this.num_request&&(this.title_request.string="Second Request"),this.page_length=this.organize_item().length-1,this.num_of_page.string=this.index_now+1,this.spawnManyObject(),this.next_and_prev_page()},array_to_matrix:function(e){for(var t=[],n=8,o=[],i=0;i<e.length;i++)o.push(e[i]),0==(n-=1)&&(t.push(o),o=[],n=8),i==e.length-1&&t.push(o);return t},organize_item:function(){for(var e=[],t=0;t<window.item_selling_price.length;t++)"products"==window.item_selling_price[t].type&&e.push(window.item_selling_price[t]);return this.array_to_matrix(e)},spawnManyObject:function(){for(var e=this,t=this.node.children.length-1;t>4;t--)this.node.children[t].destroy();for(var n=this.organize_item()[this.index_now],o=-180,i=60,a=4,d=function(t){var d=cc.instantiate(e.item_box);e.node.addChild(d);var c=e.node.parent.parent._components[3].get_prefab(n[t].name),s=cc.instantiate(c);n[t].name==e.data_friend.request[e.num_request-1]&&(d.color=new cc.Color(0,173,0)),d.setPosition(cc.v2(o,i)),d.addChild(s),d.on("touchend",function(){e.item_box_onClick(n[t].name)},e),0==--a?(a=4,i=-60,o=-180):o+=120},c=0;c<n.length;c++)d(c)},next_and_prev_page:function(){var e=this;this.next_button.on("touchend",function(){e.index_now+1<=e.page_length?e.index_now+=1:e.index_now=0,e.num_of_page.string=e.index_now+1,e.spawnManyObject()},this),this.prev_button.on("touchend",function(){e.index_now-1>=0?e.index_now-=1:e.index_now=e.page_length,e.num_of_page.string=e.index_now+1,e.spawnManyObject()},this)},start:function(){},item_box_onClick:function(e){window.default_data.friend_data[this.import_data.index].request[this.num_request-1]=e,this.node.parent._components[1].setFriend(),this.node.destroy()}}),cc._RF.pop()},{}],game_get_meadow_object_texture:[function(e,t){"use strict";cc._RF.push(t,"f0a54OWJWFOLoDYzhL9GYSD","game_get_meadow_object_texture"),cc.Class({extends:cc.Component,properties:{chicken_area:{default:null,type:cc.Prefab},cow_area:{default:null,type:cc.Prefab},sheep_area:{default:null,type:cc.Prefab},goat_area:{default:null,type:cc.Prefab},barn:{default:null,type:cc.Prefab},agricultural_aircraft:{default:null,type:cc.Prefab},silo:{default:null,type:cc.Prefab},wall_a:{default:null,type:cc.Prefab},wall_b:{default:null,type:cc.Prefab},wall_c:{default:null,type:cc.Prefab},footpath_a:{default:null,type:cc.Prefab},grinding_machine:{default:null,type:cc.Prefab},orange_tree:{default:null,type:cc.Prefab},mango_tree:{default:null,type:cc.Prefab},raden:{default:null,type:cc.Prefab},yishen:{default:null,type:cc.Prefab},rama:{default:null,type:cc.Prefab}},start:function(){},get_object_by_macros:function(e){switch(e){case"chicken_area":return this.chicken_area;case"cow_area":return this.cow_area;case"sheep_area":return this.sheep_area;case"goat_area":return this.goat_area;case"barn":return this.barn;case"silo":return this.silo;case"agricultural_aircraft":return this.agricultural_aircraft;case"wall_a":return this.wall_a;case"wall_b":return this.wall_b;case"wall_c":return this.wall_c;case"footpath_a":return this.footpath_a;case"grinding_machine":return this.grinding_machine;case"mango_tree":return this.mango_tree;case"orange_tree":return this.orange_tree;case"raden":return this.raden;case"yishen":return this.yishen;case"rama":return this.rama;default:console.error("unknown object : "+e)}}}),cc._RF.pop()},{}],global_function:[function(e,t){"use strict";cc._RF.push(t,"a7e6ePhnoRACLU5JyRLs+Bu","global_function"),window.myFunc={map:function(e,t,n,o,i){return o+(e-t)/(n-t)*(i-o)},get_item_index_by_uuid:function(e,t){for(var n={item:void 0,index:void 0},o=0;o<t.children.length;o++)if(t.children[o].uuid==e){n.item=t.children[o],n.index=o;break}return n},insertAndShift:function(e,t,n){var o=e.splice(t,1)[0];e.splice(n,0,o)}},cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],grain_bag:[function(e,t){"use strict";cc._RF.push(t,"8a9e80rElxOKJUv5n8j0D5t","grain_bag"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.stuff_prefab,this.initial_x,this.initial_y,this.degree_by_index_per_length,this.spawnNewObject(this.stuff_prefab,cc.v2(4,-8)),this.onDrag()},onDrag:function(){var e=this,t=!1;this.node.on("touchstart",function(){e.plant.available_level>window.our_level||(t=!0)}),this.node.on("touchmove",function(n){if(t){window.MeadowMouseDown=!1;for(var o=n.getDelta(),i=0;i<window.default_data.object.length;i++)if("planting_slot"==window.default_data.object[i].name){var a=window.default_data.object[i].coord.x*e.node.parent.parent.children[window.m_i].scaleX+e.node.parent.parent.children[window.m_i].getPosition().x,d=window.default_data.object[i].coord.y*e.node.parent.parent.children[window.m_i].scaleY+e.node.parent.parent.children[window.m_i].getPosition().y,c=e.node.x*e.node.parent.scaleX+e.node.parent.getPosition().x,s=e.node.y*e.node.parent.scaleY+e.node.parent.getPosition().y;if(cc.v2(c,s).sub(cc.v2(a,d)).mag()<e.node.width/2&&"none"==window.default_data.object[i].plant&&window.default_data.identity.money>e.plant.price){window.default_data.identity.money-=e.plant.price,window.default_data.object[i].plant=e.plant.name;var r="plant "+e.plant.name;e.node.parent.parent._components[2].getActivity(r);var _=new Date;window.default_data.object[i].time_start=_.getTime();var l=window.default_data.object[i].time_start,h=void 0;if("none"!=window.default_data.fertilizer_data.now.type){var w=e.fertilizer_result(window.default_data.fertilizer_data.now.type),p=window.default_data.fertilizer_data.now.times_end-l,u=1e3*e.plant.harvest_time-p*(w-1);h=l+(1e3*e.plant.harvest_time-p*w<=0?1e3*e.plant.harvest_time/w:u)}else h=l+1e3*e.plant.harvest_time;window.default_data.object[i].time_end=h,window.default_data.object[i].fertilizer=window.default_data.fertilizer_data.now.type,e.node.parent.parent._components[2].organize_data()}}e.node.x+=o.x/e.node.parent.scaleX,e.node.y+=o.y/e.node.parent.scaleY}}),this.node.on("touchend",function(){t=!1,e.node.x=e.initial_x,e.node.y=e.initial_y})},start:function(){},spawnNewObject:function(e,t){var n;if(n=this.plant.available_level<=window.our_level?cc.instantiate(e):cc.instantiate(this.node.parent.parent._components[2].get_object_by_macros("padlock")),this.node.addChild(n),n.setPosition(t),this.plant.available_level<=window.our_level){var o=cc.instantiate(this.label_price);o._components[0].string="$"+this.plant.price,this.node.addChild(o),o.setPosition(cc.v2(0,-this.node.height/2))}else{var i=cc.instantiate(this.label_price);i._components[0].string="Lv."+this.plant.available_level,this.node.addChild(i),i.setPosition(cc.v2(0,-this.node.height/2))}},rotate:function(e){var t,n;"right"==e?n=-2.5:"left"==e&&(n=2.5),this.degree_by_index_per_length=this.degree_by_index_per_length+n,t=this.rotation_transform_formula(0,this.node.parent.height/2,this.degree_by_index_per_length,360),this.node.x=t.x,this.node.y=t.y,this.initial_x=t.x,this.initial_y=t.y},rotation_transform_formula:function(e,t,n,o){var i=2*Math.PI*(n/o);return{x:Math.cos(i)*e+-Math.sin(i)*t,y:Math.sin(i)*e+Math.cos(i)*t}},fertilizer_result:function(e){switch(e){case"none":return 1;case"x2":return 2;case"x4":return 4;case"x8":return 8;default:console.error("unknown fertilizer: "+e)}}}),cc._RF.pop()},{}],home:[function(e,t){"use strict";cc._RF.push(t,"e12baksmndGmIJjY+eFJG7p","home"),cc.Class({extends:cc.Component,properties:{},onTouch:function(){window.action_active||(window.action_active=!0,this.node.parent.parent._components[2].spawnNewObject("achievement_box",0,0))},start:function(){}}),cc._RF.pop()},{}],info_item_box:[function(e,t){"use strict";cc._RF.push(t,"c7615DVbxZJQY9IWzqS7IrC","info_item_box"),cc.Class({extends:cc.Component,properties:{item_name_label:{default:null,type:cc.Label},production_time:{default:null,type:cc.Label},count:{default:null,type:cc.Prefab}},onLoad:function(){this.item_name_label.string=this.item_data_info.name;var e=(this.item_data_info.time_production-this.item_data_info.time_production%60)/60,t=Math.floor(this.item_data_info.time_production%60);this.production_time.string=e+"m "+t+"s",this.show_item_needed()},start:function(){},show_item_needed:function(){for(var e=.6*this.node.width/2,t=-e*(this.item_data_info.needed.length-1)/2,n=0;n<this.item_data_info.needed.length;n++){var o=t+n*e;this.spawnNewObject(this.node.parent._components[3].get_prefab(this.item_data_info.needed[n].name),o,21);for(var i=new cc.Color(20,200,20),a=!0,d="",c=0;c<window.default_data.storage[0].length;c++)if(window.default_data.storage[0][c].name==this.item_data_info.needed[n].name){i=window.default_data.storage[0][c].total>=this.item_data_info.needed[n].total?new cc.Color(20,200,20):new cc.Color(200,20,20),a=!1,d=window.default_data.storage[0][c].total+"/"+this.item_data_info.needed[n].total;break}for(var s=0;s<window.default_data.storage[1].length;s++)if(window.default_data.storage[1][s].name==this.item_data_info.needed[n].name){i=window.default_data.storage[1][s].total>=this.item_data_info.needed[n].total?new cc.Color(20,200,20):new cc.Color(200,20,20),a=!1,d=window.default_data.storage[1][s].total+"/"+this.item_data_info.needed[n].total;break}1==a&&(d="0/"+this.item_data_info.needed[n].total,i=new cc.Color(200,20,20)),this.spawnNewObject(this.count,o,-15,{color:i,string:d,fontSize:18})}},spawnNewObject:function(e,t,n,o){void 0===o&&(o=void 0);var i=cc.instantiate(e);this.node.addChild(i),null!=o&&(o.string&&(i._components[0].string=o.string),o.color&&(i.color=o.color),o.fontSize&&(i._components[0].fontSize=o.fontSize)),i.height=42,i.width=42,i.setPosition(cc.v2(t,n))}}),cc._RF.pop()},{}],item_box:[function(e,t){"use strict";cc._RF.push(t,"982ddm+pqFKcoml0+TlfJPD","item_box"),cc.Class({extends:cc.Component,properties:{item_name:"unknown",total:0},onLoad:function(){var e=this.node.parent._components[1].get_object_by_macros(this.item_name);this.spawnNewObject(e,cc.v2(0,0),{item:!0}),this.spawnNewObject(this.node.parent._components[1].total_label,cc.v2(42,-36),{string:this.total})},update:function(){},start:function(){},spawnNewObject:function(e,t,n){var o=cc.instantiate(e);this.node.addChild(o),n&&(n.string&&(o._components[0].string=""+n.string),n.item&&(o.width*=2,o.height*=2)),o.setPosition(t)}}),cc._RF.pop()},{}],item_fed_box:[function(e,t){"use strict";cc._RF.push(t,"023e6Kk+T1E1r/eo4GXZQZL","item_fed_box"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Node}},onLoad:function(){this.show_item(this.get_item_prefab(this.our_prefab.data.name)),this.label.x=this.node.width/4,this.insufficient=!0;for(var e=0,t=0;t<window.default_data.storage[0].length;t++)if(window.default_data.storage[0][t].name==this.our_prefab.data.name){e=window.default_data.storage[0][t].total;break}for(var n=0;n<window.default_data.storage[1].length;n++)if(window.default_data.storage[1][n].name==this.our_prefab.data.name){e=window.default_data.storage[1][n].total;break}e<this.our_prefab.data.count&&(this.insufficient=!1,this.label.color=new cc.Color(200,20,20)),this.label._components[0].string=e+"/"+this.our_prefab.data.count},show_item:function(e){var t=cc.instantiate(e);this.node.addChild(t),t.setPosition(cc.v2(-this.node.width/2,0)),this.node.children[this.node.children.length-1].width=60,this.node.children[this.node.children.length-1].height=60},get_item_prefab:function(e){switch(e){case"wheat":return this.node.parent._components[3].wheat_prefab;case"tomato":return this.node.parent._components[3].tomato_prefab;case"lemon":return this.node.parent._components[3].lemon_prefab;case"apple":return this.node.parent._components[3].apple_prefab}},start:function(){}}),cc._RF.pop()},{}],land_identity_box:[function(e,t){"use strict";cc._RF.push(t,"147bdTginxF2KaQAkNBG2Ut","land_identity_box"),cc.Class({extends:cc.Component,properties:{close:{default:null,type:cc.Node},text:cc.Label,money_label:cc.Label,level_label:cc.Label,money_check_box:{default:null,type:cc.Node},level_check_box:{default:null,type:cc.Node},button:{default:null,type:cc.Node},yes:{default:null,type:cc.Prefab}},onLoad:function(){var e=this;if(window.action_active=!0,this.text.string=this.land_object_data.text,this.money_label.string=this.land_object_data.price,this.level_label.string=this.land_object_data.available_level,this.money_label.node.x=this.money_label.node.width/2-180,this.level_label.node.x=this.level_label.node.width/2-180,window.default_data.identity.money>=this.land_object_data.price){var t=cc.instantiate(this.yes);this.money_check_box.addChild(t)}if(window.our_level>=this.land_object_data.available_level){var n=cc.instantiate(this.yes);this.level_check_box.addChild(n)}this.node.on("touchend",function(){},this),this.close.on("touchend",function(){for(var t=0;t<e.node.parent.children[window.m_i].children.length;t++)e.node.parent.children[window.m_i].children[t].name==e.redSquare_name&&e.node.parent.children[window.m_i].children[t].destroy();window.action_active=!1,e.node.destroy()},this),this.button.on("touchstart",function(){e.button.color=new cc.Color(100,100,100)},this),this.button.on("touchend",function(){e.button.color=new cc.Color(255,255,255),window.default_data.identity.money>=e.land_object_data.price&&window.our_level>=e.land_object_data.available_level?(window.action_active=!1,window.default_data.land.push(e.index_land),e.node.parent._components[2].addMoney(-e.land_object_data.price),e.node.destroy(),e.node.parent.children[window.m_i]._components[1].show()):e.node.parent._components[2].show_alert("syarat tidak terpenuhi!",0,0,new cc.Color(200,50,50))},this)},start:function(){},update:function(){if(window.MeadowOnDrag){for(var e=0;e<this.node.parent.children[window.m_i].children.length;e++)this.node.parent.children[window.m_i].children[e].name==this.redSquare_name&&this.node.parent.children[window.m_i].children[e].destroy();window.action_active=!1,this.node.destroy()}}}),cc._RF.pop()},{}],land_touch:[function(e,t){"use strict";cc._RF.push(t,"5185fGcc35Co4fhThKUGyQ8","land_touch"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],level:[function(e,t){"use strict";cc._RF.push(t,"22432FtLIJNHKtwtSspKVrO","level"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],load_all_data_needed:[function(e,t){"use strict";cc._RF.push(t,"8896fJ1GXRA6aWuemOGlMDG","load_all_data_needed"),cc.Class({extends:cc.Component,properties:{all_machine_data:{default:null,type:cc.JsonAsset},all_project:{default:null,type:cc.JsonAsset},default_data:{default:null,type:cc.JsonAsset},item_selling_price:{default:null,type:cc.JsonAsset},object_identity:{default:null,type:cc.JsonAsset},planting_data:{default:null,type:cc.JsonAsset},stuff_identity:{default:null,type:cc.JsonAsset},achievement_data:{default:null,type:cc.JsonAsset},friend_data:{default:null,type:cc.JsonAsset}},onLoad:function(){},start:function(){}}),cc._RF.pop()},{}],load_friend:[function(e,t){"use strict";cc._RF.push(t,"53b4bLKnlxCxYbUqq1dx5ln","load_friend"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.director.loadScene("Friend")}}),cc._RF.pop()},{}],load_main_back:[function(e,t){"use strict";cc._RF.push(t,"df620qRpI1KvbJuXYX3FB3J","load_main_back"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.director.loadScene("Game")}}),cc._RF.pop()},{}],load_main:[function(e,t){"use strict";cc._RF.push(t,"5f83e7ZLJtMb7eJzAntMSL2","load_main"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.director.loadScene("Game")}}),cc._RF.pop()},{}],machine_item_box:[function(e,t){"use strict";cc._RF.push(t,"18ed6SnhmFIdI+/59+JZlAo","machine_item_box"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.show_item(),this.onTouch()},start:function(){},show_item:function(){var e;e=this.item_data.available_level<=window.our_level?cc.instantiate(this.node.parent._components[3].get_prefab(this.item_data.name)):cc.instantiate(this.node.parent._components[2].get_object_by_macros("padlock")),this.node.addChild(e),e.setPosition(cc.v2(0,0))},show_info:function(){var e=this.node.parent._components[2].get_object_by_macros("info_item_box"),t=cc.instantiate(e);t._components[1].item_data_info=this.item_data,this.node.parent.addChild(t);var n=1;this.first_x<0&&(n=-1),t.setPosition(cc.v2(this.first_x+(this.node.width+e.data.width/2)*n,this.first_y))},destroy_info:function(){for(var e=0;e<this.node.parent.children.length;e++)this.node.parent.children[e].name==this.node.parent._components[2].get_object_by_macros("info_item_box").name&&this.node.parent.children[e].destroy()},onTouch:function(){var e,t=this,n=this.node.parent.children[window.m_i].x+this.machine_data.coord.x*this.node.parent.children[window.m_i].scaleX,o=this.node.parent.children[window.m_i].y+this.machine_data.coord.y*this.node.parent.children[window.m_i].scaleY;this.node.on("touchstart",function(i){if(!(t.item_data.available_level>window.our_level)){var a=t.node.parent.width,d=t.node.parent.height;e=cc.v2(t.node.x,t.node.y).sub(cc.v2(n,o)).mag(),t.node.x=window.myFunc.map(i.touch._point.x,0,a,-a/2,a/2),t.node.y=window.myFunc.map(i.touch._point.y,0,d,-d/2,d/2),t.mouseDown=!0,t.show_info()}},this),this.node.on("touchmove",function(i){if(t.destroy_info(),t.mouseDown){t.node.x+=i.getDelta().x,t.node.y+=i.getDelta().y,dist_on_move=cc.v2(t.node.x,t.node.y).sub(cc.v2(n,o)).mag(),dist_on_move>e&&(dist_on_move=e);var a=dist_on_move/e;t.node.scaleX=window.myFunc.map(a,0,1,.4,1),t.node.scaleY=window.myFunc.map(a,0,1,.4,1)}},this),this.node.on("touchend",function(){t.mouseDown=!1,t.destroy_info(),cc.v3(t.node.x,t.node.y).sub(cc.v3(n,o)).mag()<t.node.parent.children[window.m_i].children[t.machine_data.ID].height?t.produce():(t.node.scaleX=1,t.node.scaleY=1,t.node.x=t.first_x,t.node.y=t.first_y)},this)},produce:function(){for(var e=!0,t=0;t<this.item_data.needed.length;t++){for(var n=!1,o=0;o<window.default_data.storage[0].length;o++)if(this.item_data.needed[t].name==window.default_data.storage[0][o].name){window.default_data.storage[0][o].total>=this.item_data.needed[t].total&&(n=!0);break}for(var i=0;i<window.default_data.storage[1].length;i++)if(this.item_data.needed[t].name==window.default_data.storage[1][i].name){window.default_data.storage[1][i].total>=this.item_data.needed[t].total&&(n=!0);break}if(0==n){e=!1;break}}if(e){for(var a=!1,d=0;d<window.default_data.object[this.machine_data.ID].process_data.queue.length;d++)if(null==window.default_data.object[this.machine_data.ID].process_data.queue[d]){window.default_data.object[this.machine_data.ID].process_data.queue[d]=this.item_data.name,a=!0;break}if(1==a)for(var c=0;c<this.item_data.needed.length;c++){for(var s=0;s<window.default_data.storage[0].length;s++)if(this.item_data.needed[c].name==window.default_data.storage[0][s].name){window.default_data.storage[0][s].total-=this.item_data.needed[c].total,this.node.parent.children[window.m_i].children[this.machine_data.ID]._components[1].spawn_queue_box(),this.node.parent._components[2].organize_data();break}for(var r=0;r<window.default_data.storage[1].length;r++)if(this.item_data.needed[c].name==window.default_data.storage[1][r].name){window.default_data.storage[1][r].total-=this.item_data.needed[c].total,this.node.parent.children[window.m_i].children[this.machine_data.ID]._components[1].spawn_queue_box(),this.node.parent._components[2].organize_data();break}}else this.node.parent._components[2].show_alert("slot penuh",0,0,new cc.Color(200,20,20))}else this.node.parent._components[2].show_alert("kebutuhan tidak terpenuhi",0,0,new cc.Color(200,20,20));this.node.x=this.first_x,this.node.y=this.first_y,this.node.scaleX=1,this.node.scaleY=1},destroy_machine_item_box:function(){for(var e=this.node.parent.children.length-1;e>=0;e--)this.node.parent.children[e]._name==this.node.parent._components[2].machine_item_box.data.name&&this.node.parent.children[e].destroy()}}),cc._RF.pop()},{}],machine_shop:[function(e,t){"use strict";cc._RF.push(t,"1d91brntklDa41A8BEDTt3/","machine_shop"),cc.Class({extends:cc.Component,properties:{type:cc.String,close:{default:null,type:cc.Node},circle:{default:null,type:cc.Prefab},limit_box:{default:null,type:cc.Prefab},padlock:{default:null,type:cc.Prefab},info_box:{default:null,type:cc.Prefab},grinding_machine:{default:null,type:cc.Prefab}},onLoad:function(){this.node.setPosition(cc.v2(0,-this.node.parent.height/2+this.node.height/2)),this.node.parent._components[2].deactivate_bottom_icon(),this.type_of_item,this.node.width=this.node.parent.width,this.mouseDownItemLocation={x:0,y:0},this.node_delta_scroll_x=0,this.all_item_identity=[],this.first_item_coord_x,window.action_active=!0,this.close.setPosition(cc.v2(this.node.width/2-this.close.width,this.node.height/2));for(var e=0;e<window.stuff_identity.length;e++)window.stuff_identity[e].type==this.type&&this.all_item_identity.push(window.stuff_identity[e]);this.show_all_items(),this.on_scroll_horizontal(),this.itemOnDrag(),this.onClose()},start:function(){},update:function(){this.meadowOnDrag(),this.mouseDownItem&&this.addItemOnMeadow&&this.autoMove()},on_scroll_horizontal:function(){var e=this;this.node.on("touchstart",function(){e.mouseDown=!0},this),this.node.on("touchmove",function(t){if(e.mouseDown&&!e.mouseDownItem){var n=t.getDelta().x;if(!(e.node.children[1].x+n>e.first_item_coord_x||e.node.children[e.node.children.length-1].x+n<e.first_item_coord_x)){e.node_delta_scroll_x+=n;for(var o=1;o<e.node.children.length;o++)(!e.item_selected_index||o!=e.item_selected_index&&o!=e.node.children.length-1&&o!=e.node.children.length-2)&&(e.node.children[o].x+=n)}}},this),this.node.on("touchend",function(){e.mouseDown=!1},this)},show_all_items:function(){for(var e=0;e<this.all_item_identity.length;e++){var t=cc.instantiate(this.circle),n=cc.instantiate(this.get_prefab_by_name(this.all_item_identity[e].name)),o=cc.instantiate(this.limit_box);if(n._components[1].import_data=this.all_item_identity[e],this.all_item_identity[e].available_level<=window.our_level){var i=cc.instantiate(this.node.parent._components[2].get_object_by_macros("text_global"));if(i._components[0].string="$"+this.all_item_identity[e].price,i.setPosition(cc.v2(0,-i.height/3)),n.addChild(i),this.all_item_identity[e].max){for(var a=cc.instantiate(this.node.parent._components[2].get_object_by_macros("text_global")),d=0,c=0,s=0;s<window.default_data.object.length;s++)window.default_data.object[s].name==this.all_item_identity[e].object_name&&c++;for(var r=0;r<this.all_item_identity[e].max.length&&window.our_level>=this.all_item_identity[e].max[r][0];r++)d=this.all_item_identity[e].max[r][1];n._components[1].import_data.max_label=c+1>d,a._components[0].string=c+"/"+d,a._components[0].fontSize=18,a.color=new cc.Color(0,0,0),o.addChild(a)}}else{n.color=new cc.Color(100,100,100);var _=cc.instantiate(this.padlock);_.setPosition(cc.v2(0,_.height/3)),n.addChild(_);var l=cc.instantiate(this.node.parent._components[2].get_object_by_macros("text_global"));l._components[0].string="Lv."+this.all_item_identity[e].available_level,l.setPosition(cc.v2(0,_.height/3-_.height/2)),n.addChild(l)}t.addChild(n),this.all_item_identity[e].max&&(t.addChild(o),o.setPosition(cc.v2(n.width/2,n.height/2))),this.node.addChild(t),t.setPosition(cc.v2(this.node.width*(7/8)*.5*-1+.125*(e+1)*this.node.width,0))}this.first_item_coord_x=this.node.children[1].x},get_prefab_by_name:function(e){var t;switch(e){case"grinding_machine":t=this.grinding_machine}return t},meadowOnDrag:function(){window.MeadowOnDrag&&this.item_selected_index&&this.node.children[this.item_selected_index].setPosition(cc.v2(this.node.parent.children[window.m_i].children[this.index_object_selected].x*this.node.parent.children[window.m_i].scaleX+this.node.parent.children[window.m_i].x-this.node.x,this.node.parent.children[window.m_i].children[this.index_object_selected].y*this.node.parent.children[window.m_i].scaleY+this.node.parent.children[window.m_i].y-this.node.y))},show_info:function(e,t){for(var n,o=0;o<window.object_identity.length;o++)if(window.object_identity[o].name==e.object_name){n=window.object_identity[o].plot_of_move_system;break}if(n){var i=cc.instantiate(this.info_box);i.children[0]._components[0].string=e.object_name.replace("_"," "),i.children[1]._components[0].string=n.cols+"x"+n.rows,i.children[3]._components[0].string="Lvl. "+e.available_level,e.price_gold?(i.children[6].destroy(),i.children[5]._components[0].string=e.price_gold):i.children[5]._components[0].string="Rp."+e.price,i.setPosition(cc.v2(t,140)),this.node.addChild(i),i.children[1].setPosition(cc.v2(65-i.children[1].width/2,32)),i.children[3].setPosition(cc.v2(65-i.children[3].width/2,-52)),i.children[5].setPosition(cc.v2(65-i.children[5].width/2,-10))}},destroy_info:function(){for(var e=0;e<this.node.children.length;e++)if(this.node.children[e].name==this.info_box.data.name){this.node.children[e].destroy();break}},itemOnDrag:function(){var e=this;this.mouseDownItem=!1,this.addItemOnMeadow=!1;for(var t=function(t){e.node.children[t].on("touchstart",function(n){e.mouseDownItem=!0,e.mouseDownItemLocation.x=n.getLocation().x,e.mouseDownItemLocation.y=n.getLocation().y,e.addItemOnMeadow||e.show_info(e.node.children[t].children[0]._components[1].import_data,e.node.children[t].x)},e),e.node.children[t].on("touchmove",function(n){if(e.destroy_info(),e.mouseDownItem){if("padock"==e.node.children[t].children[0].children[0].name)return e.node.parent._components[2].show_alert("terkunci",e.node.x+e.node.children[t].x,e.node.y+e.node.children[t].y,new cc.Color(200,0,0)),e.mouseDownItem=!1,e.mouseDownItemLocation.x=0,void(e.mouseDownItemLocation.y=0);if(1==e.node.children[t].children[0]._components[1].import_data.max_label)return e.node.parent._components[2].show_alert("jumlah sudah maksimal",e.node.x+e.node.children[t].x,e.node.y+e.node.children[t].y,new cc.Color(200,0,0)),e.mouseDownItem=!1,e.mouseDownItemLocation.x=0,void(e.mouseDownItemLocation.y=0);if(!e.addItemOnMeadow){e.node.parent.children[window.m_i]._components[1].spawnNewObject_with_macros_and_pos(e.node.children[t].children[0]._components[1].import_data.object_name,(e.node.x+e.node.children[t].x-e.node.parent.children[window.m_i].x)/e.node.parent.children[window.m_i].scaleX,(e.node.y+e.node.children[t].y-e.node.parent.children[window.m_i].y)/e.node.parent.children[window.m_i].scaleY),e.index_object_selected=e.node.parent.children[window.m_i].children.length-1,e.item_selected_index=t,e.spawn_yes_and_no(t),e.last_index_of_meadow=e.node.parent.children[window.m_i].children.length-1,e.mouseX=(e.node.x+e.node.children[t].x-e.node.parent.children[window.m_i].x)/e.node.parent.children[window.m_i].scaleX,e.mouseY=(e.node.y+e.node.children[t].y-e.node.parent.children[window.m_i].y)/e.node.parent.children[window.m_i].scaleY;for(var o=0;o<window.object_identity.length;o++)if(window.object_identity[o].name==e.node.children[t].children[0]._components[1].import_data.object_name){e.node.parent.children[window.m_i]._components[1].spawn_many_square((e.node.x+e.node.children[t].x-e.node.parent.children[window.m_i].x)/e.node.parent.children[window.m_i].scaleX,(e.node.y+e.node.children[t].y-e.node.parent.children[window.m_i].y)/e.node.parent.children[window.m_i].scaleY,window.object_identity[o].plot_of_move_system.start_x,window.object_identity[o].plot_of_move_system.start_y,window.object_identity[o].plot_of_move_system.cols,window.object_identity[o].plot_of_move_system.rows,!1),e.num_of_move_plot=window.object_identity[o].plot_of_move_system.cols*window.object_identity[o].plot_of_move_system.rows,e.index_object_identity=o;break}e.addItemOnMeadow=!0}e.mouseDownItemLocation.x=n.getLocation().x,e.mouseDownItemLocation.y=n.getLocation().y,e.mouseX+=n.getDelta().x/e.node.parent.children[window.m_i].scaleX,e.mouseY+=n.getDelta().y/e.node.parent.children[window.m_i].scaleY;var i=e.node.parent.children[window.m_i]._components[1].ObjectOnMove(e.mouseX,e.mouseY);e.node.parent.children[window.m_i].children[e.node.parent.children[window.m_i].children.length-(e.num_of_move_plot+1)].x=i.x,e.node.parent.children[window.m_i].children[e.node.parent.children[window.m_i].children.length-(e.num_of_move_plot+1)].y=i.y,e.node.children[t].x=e.node.parent.children[window.m_i].children[e.node.parent.children[window.m_i].children.length-(e.num_of_move_plot+1)].x*e.node.parent.children[window.m_i].scaleX+e.node.parent.children[window.m_i].x-e.node.x,e.node.children[t].y=e.node.parent.children[window.m_i].children[e.node.parent.children[window.m_i].children.length-(e.num_of_move_plot+1)].y*e.node.parent.children[window.m_i].scaleY+e.node.parent.children[window.m_i].y-e.node.y,e.red_square=e.node.parent.children[window.m_i]._components[1].spawn_many_square(e.node.parent.children[window.m_i].children[e.last_index_of_meadow].x,e.node.parent.children[window.m_i].children[e.last_index_of_meadow].y,window.object_identity[e.index_object_identity].plot_of_move_system.start_x,window.object_identity[e.index_object_identity].plot_of_move_system.start_y,window.object_identity[e.index_object_identity].plot_of_move_system.cols,window.object_identity[e.index_object_identity].plot_of_move_system.rows,!1),e.addItemOnMeadow?e.node.opacity=1:e.node.opacity=255}},e),e.node.children[t].on("touchend",function(){e.destroy_info(),e.mouseDownItem=!1},e)},n=1;n<this.node.children.length;n++)t(n)},spawn_yes_and_no:function(e){var t=this;this.node.parent._components[2].spawn_move_object(function(){if(0!=t.red_square){if(window.default_data.identity.money<t.node.children[e].children[0]._components[1].import_data.price)return t.node.parent._components[2].show_alert("uang tidak cukup",t.node.x+t.node.children[e].x,t.node.y+t.node.children[e].y,new cc.Color(200,20,20)),t.node.opacity=255,t.node.children[e].setPosition(cc.v2(t.node.width*(7/8)*.5*-1+.125*e*t.node.width+t.node_delta_scroll_x,0)),t.node.parent.children[window.m_i]._components[1].destroy_many_square(),t.node.parent.children[window.m_i]._components[1].destroy_last_child(),t.addItemOnMeadow=!1,void(t.item_selected_index=!1);var n=new Date;window.default_data.object.push({name:t.node.children[e].children[0]._components[1].import_data.object_name,coord:{x:(t.node.x+t.node.children[e].x-t.node.parent.children[window.m_i].x)/t.node.parent.children[window.m_i].scaleX,y:(t.node.y+t.node.children[e].y-t.node.parent.children[window.m_i].y)/t.node.parent.children[window.m_i].scaleY},process_data:{start_time:n.getTime(),queue:[null,null,null]},square_data:[]}),t.node.parent._components[2].addMoney(-1*t.node.children[e].children[0]._components[1].import_data.price);var o="buy "+t.node.children[e].children[0]._components[1].import_data.object_name;t.node.parent._components[2].getActivity(o),t.node.opacity=255,t.node.children[e].setPosition(cc.v2(t.node.width*(7/8)*.5*-1+.125*e*t.node.width+t.node_delta_scroll_x,0)),t.node.parent.children[window.m_i]._components[1].show();for(var i=0,a=0,d=0;d<window.default_data.object.length;d++)window.default_data.object[d].name==t.node.children[e].children[0]._components[1].import_data.object_name&&a++;for(var c=0;c<t.node.children[e].children[0]._components[1].import_data.max.length&&window.our_level>=t.node.children[e].children[0]._components[1].import_data.max[c][0];c++)i=t.node.children[e].children[0]._components[1].import_data.max[c][1];a+1>i&&(t.node.children[e].children[0]._components[1].import_data.max_label=!0),t.node.children[e].children[1].children[0]._components[0].string=a+"/"+i,t.addItemOnMeadow=!1,t.item_selected_index=!1,t.node.parent._components[2].destroy_move_object()}else t.node.parent._components[2].show_alert("tempatkan di tempat yang kosong",t.node.x+t.node.children[e].x,t.node.y+t.node.children[e].y,new cc.Color(200,20,20))},void 0,function(){t.node.opacity=255,t.node.children[e].setPosition(cc.v2(t.node.width*(7/8)*.5*-1+.125*e*t.node.width+t.node_delta_scroll_x,0)),t.node.parent.children[window.m_i]._components[1].destroy_many_square(),t.node.parent.children[window.m_i]._components[1].destroy_last_child(),t.addItemOnMeadow=!1,t.item_selected_index=!1,t.node.parent._components[2].destroy_move_object()})},autoMove:function(){var e=0,t=0,n=!1;if(this.mouseDownItemLocation.x>this.node.parent.width*(7/8)?(e=5,n=!0):this.mouseDownItemLocation.x<this.node.parent.width*(1/8)&&(e=-5,n=!0),this.mouseDownItemLocation.y>this.node.parent.height*(7/8)?(t=5,n=!0):this.mouseDownItemLocation.y<this.node.parent.height*(1/8)&&(t=-5,n=!0),n){var o=this.node.parent.children[window.m_i]._components[1].MoveMeadow(-e,-t);0==o.x&&(e=0),0==o.y&&(t=0),this.mouseX+=e/this.node.parent.children[window.m_i].scaleX,this.mouseY+=t/this.node.parent.children[window.m_i].scaleX;var i=this.node.parent.children[window.m_i]._components[1].ObjectOnMove(this.mouseX,this.mouseY);this.node.parent.children[window.m_i].children[this.node.parent.children[window.m_i].children.length-(this.num_of_move_plot+1)].x=i.x,this.node.parent.children[window.m_i].children[this.node.parent.children[window.m_i].children.length-(this.num_of_move_plot+1)].y=i.y,this.node.children[this.item_selected_index].x=this.node.parent.children[window.m_i].children[this.node.parent.children[window.m_i].children.length-(this.num_of_move_plot+1)].x*this.node.parent.children[window.m_i].scaleX+this.node.parent.children[window.m_i].x-this.node.x,this.node.children[this.item_selected_index].y=this.node.parent.children[window.m_i].children[this.node.parent.children[window.m_i].children.length-(this.num_of_move_plot+1)].y*this.node.parent.children[window.m_i].scaleY+this.node.parent.children[window.m_i].y-this.node.y,this.red_square=this.node.parent.children[window.m_i]._components[1].spawn_many_square(this.node.parent.children[window.m_i].children[this.last_index_of_meadow].x,this.node.parent.children[window.m_i].children[this.last_index_of_meadow].y,window.object_identity[this.index_object_identity].plot_of_move_system.start_x,window.object_identity[this.index_object_identity].plot_of_move_system.start_y,window.object_identity[this.index_object_identity].plot_of_move_system.cols,window.object_identity[this.index_object_identity].plot_of_move_system.rows,!1)}},onClose:function(){var e=this;this.node.children[0].on("touchend",function(){e.addItemOnMeadow&&(e.node.parent.children[window.m_i]._components[1].destroy_many_square(),e.node.parent.children[window.m_i]._components[1].destroy_last_child(),e.node.parent._components[2].destroy_move_object()),window.action_active=!1,e.node.parent._components[2].activate_bottom_icon(),e.node.destroy()},this)}}),cc._RF.pop()},{}],machine:[function(e,t){"use strict";cc._RF.push(t,"80532fTpmhIfopyEuU36SCp","machine"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){window.friend_meadow_load||(this.machine_data,this.add_machine_item_box=!1,this.get_our_data(),this.item_data_i_need=[],this.queue_box_index=[],this.collect_product=[!1,!1,!1],this.collect_product_before=[!1,!1,!1],this.already_spawn_time=!1,this.getGLobalTimeLeft=0,this.have_child=!1,this.have_child_before=!1,this.collect_data=[null,null,null])},start:function(){},onTouch:function(){if(!window.action_active){var e=!1;if(null!=this.we_have_finished_production)if(this.we_have_finished_production.length>0){var t=window.default_data.object[this.ownData.ID].process_data.queue[0];1!=this.node.parent.parent._components[2].addItemOnStorage(t,1)[1]?(this.node.parent.parent._components[2].getItemAction(t,this.node.parent.x+this.node.x*this.node.parent.scaleX,this.node.parent.y+this.node.y*this.node.parent.scaleY),window.default_data.object[this.ownData.ID].process_data.start_time+=this.firstTimeLeft,window.default_data.object[this.ownData.ID].process_data.queue.splice(0,1),window.default_data.object[this.ownData.ID].process_data.queue.push(null),this.node.parent.parent._components[2].addLevelPoint(this.getMachineData(t).add_exp)):e=!0}else e=!0;else e=!0;1==e&&(this.meadow_auto_move=!0,this.mn_pos=[-this.node.x*this.node.parent.scaleX,-this.node.y*this.node.parent.scaleY],this.m_pos=[this.node.parent.x,this.node.parent.y],this.m_mn_percent=0)}},update:function(){if(!window.friend_meadow_load){if(this.have_process_check(),this.auto_move_meadow(),3==this.queue_box_index.length)if(this.queue_child_added){var e=(new Date).getTime(),t=0;this.arrayTimeLeft=[];for(var n=0,o=0;o<window.default_data.object[this.ownData.ID].process_data.queue.length;o++)null!=window.default_data.object[this.ownData.ID].process_data.queue[o]&&(n=o);for(var i=0;i<window.default_data.object[this.ownData.ID].process_data.queue.length;i++)if(null!=window.default_data.object[this.ownData.ID].process_data.queue[i]){var a=window.default_data.object[this.ownData.ID].process_data.queue[i],d=1e3*this.getMachineData(a).time_production,c=d+t,s=window.default_data.object[this.ownData.ID].process_data.start_time+c-e;t+=d,this.arrayTimeLeft[i]=t;for(var r=void 0,_=0;_<this.node.parent.parent.children.length;_++)if(this.node.parent.parent.children[_].uuid==this.queue_box_index[i].uuid){r=_,this.queue_box_index[i].index=_;break}if(s<=0){this.node.parent.parent.children[r]._components[1].button_or_time_or_not="button";var l=0;if(0!=i&&(l=this.arrayTimeLeft[i-1]),i==n){var h=new Date;window.default_data.object[this.ownData.ID].process_data.start_time=h.getTime()-this.arrayTimeLeft[i]}this.collect_data[i]=d,this.node.parent.parent.children[r]._components[1].timeLeft=this.arrayTimeLeft[i]-l,this.node.parent.parent.children[r]._components[1].collect_exp=this.getMachineData(a).add_exp,this.queue_box_index[i].add_time=!1}else s>0?(this.collect_data[i]=null,this.node.parent.parent.children[r]._components[1].button_or_time_or_not="time",this.node.parent.parent.children[r]._components[1].start_time=window.default_data.object[this.ownData.ID].process_data.start_time+c,this.node.parent.parent.children[r]._components[1].machine_index=this.ownData.ID,this.node.parent.parent.children[r]._components[1].timeLeftShow=d,this.node.parent.parent.children[r]._components[1].collect_exp=0):(this.collect_data[i]=null,this.node.parent.parent.children[r]._components[1].button_or_time_or_not="none",this.node.parent.parent.children[r]._components[1].collect_exp=0)}else null==window.default_data.object[this.ownData.ID].process_data.queue[i]&&(this.collect_data[i]=null,0==i&&(window.default_data.object[this.ownData.ID].process_data.start_time=e))}else{this.queue_child_added=!0;for(var w=0;w<window.default_data.object[this.ownData.ID].process_data.queue.length;w++){if(!this.node.parent.parent.children[this.queue_box_index[w].index])return;null!=window.default_data.object[this.ownData.ID].process_data.queue[w]?this.node.parent.parent.children[this.queue_box_index[w].index]._components[1].our_queue=window.default_data.object[this.ownData.ID].process_data.queue[w]:null==window.default_data.object[this.ownData.ID].process_data.queue[w]&&(this.node.parent.parent.children[this.queue_box_index[w].index]._components[1].our_queue="none")}}this.have_child_before!=this.have_child&&(this.have_child_before=this.have_child,1==this.have_child_before?this.node._components[3].play("on"):0==this.have_child_before&&this.node._components[3].play("off")),this.have_finished_production()}},auto_move_meadow:function(){1==this.meadow_auto_move&&(this.node.parent.x=this.m_pos[0]+(this.mn_pos[0]-this.m_pos[0])*this.m_mn_percent,this.node.parent.y=this.m_pos[1]+(this.mn_pos[1]-this.m_pos[1])*this.m_mn_percent,this.m_mn_percent+=.1,this.m_mn_percent>=1&&(this.meadow_auto_move=!1,window.action_active=!0,this.show_all()))},get_our_data:function(){for(var e=0;e<window.all_machine_data.length;e++)if(window.all_machine_data[e].name==this.node.name){this.machine_data=window.all_machine_data[e];break}},show_all:function(){var e=this;this.add_machine_item_box=!0,this.spawn_machine_item(),this.spawn_queue_box(),this.node.parent.on("touchstart",function(){e.add_machine_item_box&&e.queue_box_index.length>0&&(e.add_machine_item_box=!1,e.destroy_all(),window.action_active=!1)},this)},spawn_machine_item:function(){var e=cc.instantiate(this.node.parent.parent._components[2].arrow_to_inside);this.node.parent.parent.addChild(e);var t=this.node.parent.x+(this.node.x-this.node.height/2*(2/this.node.parent.scaleX))*this.node.parent.scaleX,n=this.node.parent.y+(this.node.y+this.node.height/2*(2/this.node.parent.scaleX))*this.node.parent.scaleY;e.setPosition(cc.v2(t,n));for(var o=0;o<6;o++){if(!this.machine_data.produce[o])return;var i=cc.instantiate(this.node.parent.parent._components[2].get_object_by_macros("machine_item_box")),a=void 0,d=void 0;o<3?d=-1:o>=3&&o<6&&(d=1),a=this.node.height*d*(2/this.node.parent.scaleX);var c=o;c>2&&(c-=3),1==c&&(a+=i.width/this.node.parent.scaleX*d);var s=(this.node.height-c/3*2*this.node.height)*(2/this.node.parent.scaleX);i._components[1].item_data=this.machine_data.produce[o],i._components[1].machine_data=this.ownData,i._components[1].first_x=this.node.parent.x+(this.node.x+a)*this.node.parent.scaleX,i._components[1].first_y=this.node.parent.y+(this.node.y+s)*this.node.parent.scaleY,this.node.parent.parent.addChild(i),this.item_data_i_need.push(this.node.parent.parent.children.length-1),i.setPosition(cc.v2(this.node.parent.x+(this.node.x+a)*this.node.parent.scaleX,this.node.parent.y+(this.node.y+s)*this.node.parent.scaleY))}},spawn_queue_box:function(){for(var e=0;e<this.node.parent.parent.children.length;e++)"queue_box"==this.node.parent.parent.children[e].name&&this.node.parent.parent.children[e].destroy();this.queue_box_index=[],this.queue_child_added=!1;for(var t=0;t<window.default_data.object[this.ownData.ID].process_data.queue.length;t++){var n=cc.instantiate(this.node.parent.parent._components[2].get_object_by_macros("queue_box")),o=this.node.parent.x+this.node.x*this.node.parent.scaleX-n.width,i=this.node.parent.y+this.node.y*this.node.parent.scaleY-2.25*this.node.height;n._components[1].machine_data=this.ownData,n._components[1].queue_box_index=t,this.node.parent.parent.addChild(n),this.queue_box_index.push({index:this.node.parent.parent.children.length-1,uuid:n.uuid}),n.setPosition(cc.v2(o+t*n.width,i))}},destroy_all:function(){for(var e=0;e<this.node.parent.parent.children.length;e++)this.node.parent.parent.children[e].name==this.node.parent.parent._components[2].machine_item_box.data.name&&this.node.parent.parent.children[e].destroy();for(var t=0;t<this.node.parent.parent.children.length;t++)this.node.parent.parent.children[t].name==this.node.parent.parent._components[2].queue_box.data.name&&this.node.parent.parent.children[t].destroy();for(var n=0;n<this.node.parent.parent.children.length;n++)this.node.parent.parent.children[n].name==this.node.parent.parent._components[2].arrow_to_inside.data.name&&this.node.parent.parent.children[n].destroy();this.item_data_i_need=[],this.add_machine_item_box=!1,this.queue_box_index=[],this.queue_child_added=!1,this.already_spawn_time=!1,sum_of_all_queued_time=0},have_process_check:function(){var e=!1;if(this.ownData)try{for(var t=0;t<window.default_data.object[this.ownData.ID].process_data.queue.length;t++)if(null!=window.default_data.object[this.ownData.ID].process_data.queue[t]){e=!0;break}}catch(n){console.log(window.default_data.object[this.ownData.ID])}this.have_child=1==e},have_finished_production:function(){this.collect_product=[!1,!1,!1];for(var e=(new Date).getTime(),t=0,n=0;n<window.default_data.object[this.ownData.ID].process_data.queue.length;n++)if(null!=window.default_data.object[this.ownData.ID].process_data.queue[n]){var o=window.default_data.object[this.ownData.ID].process_data.queue[n],i=1e3*this.getMachineData(o).time_production,a=i+t;t+=i,window.default_data.object[this.ownData.ID].process_data.start_time+a-e<=0&&(this.collect_product[n]=!0)}for(var d=!1,c=0;c<this.collect_product.length;c++)if(this.collect_product[c]!=this.collect_product_before[c]){d=!0;break}if(d){for(var s=0;s<this.collect_product.length;s++)this.collect_product_before[s]=this.collect_product[s];this.we_have_finished_production=[],this.firstTimeLeft;for(var r=this.node.children.length;r>=0;r--)this.node.children[r]&&this.node.children[r].name==this.node.parent._components[1].produce_machine.data.name&&this.node.children[r].destroy();for(var _=(new Date).getTime(),l=0,h=[],w=0;w<window.default_data.object[this.ownData.ID].process_data.queue.length;w++)if(null!=window.default_data.object[this.ownData.ID].process_data.queue[w]){var p=window.default_data.object[this.ownData.ID].process_data.queue[w],u=1e3*this.getMachineData(p).time_production,m=u+l;h.push(window.default_data.object[this.ownData.ID].process_data.start_time+m-_),l+=u,0==w&&(this.firstTimeLeft=u)}for(var f=window.default_data.object[this.ownData.ID].process_data.queue.length-1;f>=0;f--)if(null!=window.default_data.object[this.ownData.ID].process_data.queue[f]&&h[f]<=0){this.we_have_finished_production.push(f);var b=cc.instantiate(this.node.parent._components[1].produce_machine),y=cc.instantiate(this.node.parent.parent._components[3].get_prefab(window.default_data.object[this.ownData.ID].process_data.queue[f]));b.addChild(y),this.node.addChild(b);var v=this.node.width/5;f%2==1&&(v*=-1),b.setPosition(cc.v2(v,this.node.height/4+f*this.node.height/4)),cc.tween(b).repeatForever(cc.tween().to(3*(f+1),{angle:20},{easing:"sineInOut"}).to(3*(f+1),{angle:-20},{easing:"sineInOut"})).start()}}},getMachineData:function(e){for(var t,n=0;n<window.all_machine_data[0].produce.length;n++)if(window.all_machine_data[0].produce[n].name==e){t=window.all_machine_data[0].produce[n];break}return t}}),cc._RF.pop()},{}],meadow_friend_get_human:[function(e,t){"use strict";cc._RF.push(t,"e0e99E9A8dKMIX1374qdu27","meadow_friend_get_human"),cc.Class({extends:cc.Component,properties:{rama:{default:null,type:cc.Prefab},raden:{default:null,type:cc.Prefab},yishen:{default:null,type:cc.Prefab}},start:function(){}}),cc._RF.pop()},{}],meadow_get_additional:[function(e,t){"use strict";cc._RF.push(t,"c6019CQRvZHEo0NH3etKv/c","meadow_get_additional"),cc.Class({extends:cc.Component,properties:{for_sale:{default:null,type:cc.Prefab},forest_tree1:{default:null,type:cc.Prefab},forest_tree2:{default:null,type:cc.Prefab},forest_tree3:{default:null,type:cc.Prefab},forest_tree4:{default:null,type:cc.Prefab},stone1:{default:null,type:cc.Prefab},stone2:{default:null,type:cc.Prefab},stone3:{default:null,type:cc.Prefab},stone4:{default:null,type:cc.Prefab},stone5:{default:null,type:cc.Prefab},weeds1:{default:null,type:cc.Prefab},weeds2:{default:null,type:cc.Prefab},weeds3:{default:null,type:cc.Prefab},weeds4:{default:null,type:cc.Prefab},dot_land:{default:null,type:cc.Prefab}},start:function(){}}),cc._RF.pop()},{}],meadow_get_animal:[function(e,t){"use strict";cc._RF.push(t,"f80487d3xRNwpw3hQ6rnCDG","meadow_get_animal"),cc.Class({extends:cc.Component,properties:{chicken_area_prefab:{default:null,type:cc.Prefab},cow_area_prefab:{default:null,type:cc.Prefab},sheep_area_prefab:{default:null,type:cc.Prefab},goat_area_prefab:{default:null,type:cc.Prefab}},start:function(){}}),cc._RF.pop()},{}],meadow_get_building:[function(e,t){"use strict";cc._RF.push(t,"5e2b5EiTpFEk68wlerfpiyc","meadow_get_building"),cc.Class({extends:cc.Component,properties:{barn_prefab:{default:null,type:cc.Prefab},agricultural_aircraft_prefab:{default:null,type:cc.Prefab},silo:{default:null,type:cc.Prefab}},start:function(){}}),cc._RF.pop()},{}],meadow_get_decoration:[function(e,t){"use strict";cc._RF.push(t,"42230CVHT5MXLyPL0Ya21UM","meadow_get_decoration"),cc.Class({extends:cc.Component,properties:{wall_a:{default:null,type:cc.Prefab},wall_b:{default:null,type:cc.Prefab},wall_c:{default:null,type:cc.Prefab},footpath_a:{default:null,type:cc.Prefab}},start:function(){}}),cc._RF.pop()},{}],meadow_get_important:[function(e,t){"use strict";cc._RF.push(t,"14f07vCHh9EJ6LNr4t2CrX7","meadow_get_important"),cc.Class({extends:cc.Component,properties:{home_1_prefab:{default:null,type:cc.Prefab},order_board_prefab:{default:null,type:cc.Prefab}},start:function(){}}),cc._RF.pop()},{}],meadow_get_machine:[function(e,t){"use strict";cc._RF.push(t,"0bf05NdGK1M75hHndfVJ3+y","meadow_get_machine"),cc.Class({extends:cc.Component,properties:{grinding_machine_prefab:{default:null,type:cc.Prefab}},start:function(){}}),cc._RF.pop()},{}],meadow_get_other:[function(e,t){"use strict";cc._RF.push(t,"dd407C/hI5LFpN6io1Xk3eZ","meadow_get_other"),cc.Class({extends:cc.Component,properties:{tree_forest_prefab:{default:null,type:cc.Prefab},grass_1:{default:null,type:cc.Prefab},grass_2:{default:null,type:cc.Prefab},grass_3:{default:null,type:cc.Prefab},grass_4:{default:null,type:cc.Prefab}},start:function(){}}),cc._RF.pop()},{}],meadow_get_planting:[function(e,t){"use strict";cc._RF.push(t,"a824dHdCKFKhaBAgFKLjAD/","meadow_get_planting"),cc.Class({extends:cc.Component,properties:{planting_slot_prefab:{default:null,type:cc.Prefab}},start:function(){}}),cc._RF.pop()},{}],meadow_get_tree:[function(e,t){"use strict";cc._RF.push(t,"0abf6Ip7i5LO4ijJHsAT2sE","meadow_get_tree"),cc.Class({extends:cc.Component,properties:{tree_orange_prefab:{default:null,type:cc.Prefab},tree_mango_prefab:{default:null,type:cc.Prefab}},start:function(){}}),cc._RF.pop()},{}],next_level_box:[function(e,t){"use strict";cc._RF.push(t,"1527fvMVV1Pro2hOeRxFUGy","next_level_box"),cc.Class({extends:cc.Component,properties:{close_button:{default:null,type:cc.Node},box_item:{default:null,type:cc.Prefab}},onLoad:function(){var e=this;this.getData(),this.showThemAll(),this.close_button.on("touchend",function(){window.action_active=!1,e.node.destroy()},this)},start:function(){},getData:function(){for(var e=[],t=[],n=0;n<window.stuff_identity.length;n++)window.stuff_identity[n].available_level==window.our_level+1&&e.push(window.stuff_identity[n]);for(var o=0;o<window.stuff_identity.length;o++)if(window.stuff_identity[o].available_level<=window.our_level&&window.stuff_identity[o].max)for(var i=0;i<window.stuff_identity[o].max.length;i++)if(window.stuff_identity[o].max[i][0]==window.our_level+1){var a=window.stuff_identity[o];a.different=window.stuff_identity[o].max[i][1]-window.stuff_identity[o].max[i-1][1],e.push(a)}for(var d=0;d<window.planting_data.length;d++)window.planting_data[d].available_level==window.our_level+1&&t.push(window.planting_data[d]);for(var c=0;c<window.all_machine_data.length;c++)for(var s=0;s<window.all_machine_data[c].produce.length;s++)window.all_machine_data[c].produce[s].available_level==window.our_level+1&&t.push(window.all_machine_data[c].produce[s]);this.new_object_data=e,this.new_item_data=t},showThemAll:function(){for(var e=0;e<this.new_item_data.length;e++){var t=cc.instantiate(this.node.parent._components[2].get_object_by_macros("text_global"));t._components[0].string="New",t._components[0].enableBold=!0,t.color=new cc.Color(0,0,0),console.log(t);var n=cc.instantiate(this.node.parent._components[3].get_prefab(this.new_item_data[e].name)),o=cc.instantiate(this.box_item);o.addChild(n),o.addChild(t),t.setPosition(cc.v2(20,-30)),this.node.addChild(o),o.setPosition(cc.v2(120*e-180,30))}for(var i=0;i<this.new_object_data.length;i++){var a=cc.instantiate(this.node.parent._components[2].get_object_by_macros("text_global"));this.new_object_data[i].different?a._components[0].string="+"+this.new_object_data[i].different:a._components[0].string="New",a._components[0].enableBold=!0,a.color=new cc.Color(0,0,0);var d=cc.instantiate(this.node.parent._components[7].get_object_by_macros(this.new_object_data[i].object_name)),c=cc.instantiate(this.box_item);c.addChild(d),c.addChild(a),a.setPosition(cc.v2(20,-30)),this.node.addChild(c),c.setPosition(cc.v2(120*i-180,-90))}}}),cc._RF.pop()},{}],order_board_object:[function(e,t){"use strict";cc._RF.push(t,"a8836lU4BZA4JFJ+FCpElqm","order_board_object"),cc.Class({extends:cc.Component,properties:{},start:function(){},onTouch:function(){window.action_active||(window.action_active=!0,this.node.parent.parent._components[2].spawnNewObject("order_board"))}}),cc._RF.pop()},{}],order_board:[function(e,t){"use strict";cc._RF.push(t,"5cc4aev7iVBlIbxJg9VrIBg","order_board"),cc.Class({extends:cc.Component,properties:{close:{default:null,type:cc.Node},deliver:{default:null,type:cc.Prefab},list_item_box:{default:null,type:cc.Prefab},buy_item_by_gold:{default:null,type:cc.Prefab},check_box:{default:null,type:cc.Prefab}},onLoad:function(){this.page_index=0,this.our_order,this.show_all(),this.list_item_box_on=!1},start:function(){},show_all:function(){for(var e=this.node.children.length-1;e>=2;e--)this.node.children[e]._name!=this.close.name&&this.node.children[e].destroy();this.show_order(),this.onClose()},show_order:function(){this.our_order=this.array_to_matrix(this.array_to_matrix(window.default_data.order));for(var e=0,t=0;t<this.our_order[this.page_index].length;t++)for(var n=0;n<this.our_order[this.page_index][t].length;n++){var o=n/2*260-130,i=180-t/2*280,a=this.our_order[this.page_index][t][n];this.spawnNewObject(this.deliver,o,i,a,e),e++}},show_info_box:function(e,t,n,o,i){var a=this;this.node.children[1].opacity=255,this.node.children[1].setPosition(cc.v2(t,n));for(var d=!0,c=0;c<this.node.children.length;c++)if(this.node.children[c]._name==this.list_item_box.data.name){this.node.children[c].destroy();break}var s=cc.instantiate(this.list_item_box);this.node.addChild(s);var r=.75*s.width;o&&(r=.75*-s.width,s.children[0].setPosition(cc.v2(-s.width/2,140))),s.setPosition(cc.v2(t+r,n));for(var _=function(c){var r=void 0,_=a.get_total_we_have(e.needed[c].name);_>=e.needed[c].total?r=new cc.Color(20,200,20):(r=new cc.Color(200,20,20),d=!1);var l=a.node.parent._components[3].get_prefab(e.needed[c].name),h=cc.instantiate(l);s.addChild(h),h.setPosition(cc.v2(-s.width/3,67.5-60*c)),a.spawnNewInObject(a.node.parent._components[2].get_object_by_macros("text_global"),s,0,67.5-60*c,{color:r,string:_+"/"+e.needed[c].total});for(var w=void 0,p=!1,u=0;u<window.item_selling_price.length;u++)if(window.item_selling_price[u].name==e.needed[c].name){w=window.item_selling_price[u],p=!0;break}0==p&&console.error("unknown item : "+e.needed[c].name),_>=e.needed[c].total?a.spawnNewInObject(a.check_box,s,s.width/3,67.5-60*c):a.spawnNewInObject(a.buy_item_by_gold,s,s.width/3,67.5-60*c,{},function(d){a.spawnNewInObject(a.node.parent._components[2].get_object_by_macros("text_global"),d,15,0,{color:new cc.Color(255,255,255),string:Math.ceil(w.price/2),font_size:18}),d.on("touchend",function(){Math.ceil(w.price/2)<=window.default_data.identity.gold?0==a.node.parent._components[2].addItemOnStorage(e.needed[c].name,1)[1]&&(a.node.parent._components[2].addGold(-Math.ceil(w.price/2)),a.node.children[1].opacity=1,a.list_item_box_on=!1,a.show_all(),a.show_info_box(window.default_data.order[i],t,n,o,i)):a.node.parent._components[2].show_alert("emas tidak mencukupi",0,0,new cc.Color(200,0,0))},a)})},l=0;l<e.needed.length;l++)_(l);s.on("touchstart",function(){return null},this),s.children[0].on("touchend",function(){a.node.children[1].opacity=1,a.list_item_box_on=!1,s.destroy()},this),s.children[2].on("touchend",function(){if(1==d){for(var t=0;t<e.needed.length;t++){for(var n=0;n<window.default_data.storage[0].length;n++)if(e.needed[t].name==window.default_data.storage[0][n].name){window.default_data.storage[0][n].total-=e.needed[t].total;break}for(var o=0;o<window.default_data.storage[1].length;o++)if(e.needed[t].name==window.default_data.storage[1][o].name){window.default_data.storage[1][o].total-=e.needed[t].total;break}}a.node.parent._components[2].organize_data(),a.node.parent._components[2].addMoneyWithAction(e.price,s.children[2].x,s.children[2].y),window.default_data.order[i]=a.newOrder(!0),a.node.children[1].opacity=1,a.list_item_box_on=!1,a.show_all()}else a.node.parent._components[2].show_alert("tidak terpenuhi",0,0,new cc.Color(200,0,0))},this)},spawnNewInObject:function(e,t,n,o,i,a){void 0===i&&(i=void 0),void 0===a&&(a=void 0);var d=cc.instantiate(e);t.addChild(d),d.setPosition(cc.v2(n,o)),i&&(i.color&&(d.color=i.color),i.string&&(d._components[0].string=i.string),i.font_size&&(d._components[0].fontSize=i.font_size),i.width&&(d.width=i.width),i.height&&(d.height=i.height)),null!=a&&a(d)},get_total_we_have:function(e){for(var t=0,n=0;n<window.default_data.storage[0].length;n++)if(window.default_data.storage[0][n].name==e){t=window.default_data.storage[0][n].total;break}for(var o=0;o<window.default_data.storage[1].length;o++)if(window.default_data.storage[1][o].name==e){t=window.default_data.storage[1][o].total;break}return t},spawnNewObject:function(e,t,n,o,i){void 0===o&&(o=void 0),void 0===i&&(i=void 0);var a=cc.instantiate(e);o&&(a._components[1].our_data=o,a._components[1].our_data2=i),this.node.addChild(a),a.setPosition(cc.v2(t,n))},newOrder:function(e){var t,n=new Date,o=Math.round(1+2*Math.random()),i=[],a=0;t=e?0:n.getTime();for(var d=0;d<o;d++){for(var c={},s=Math.round(Math.random()*(window.item_selling_price.length-1)),r=window.item_selling_price[s],_=!0;_;){_=!1,r.gold&&(_=!0);for(var l=0;l<i.length;l++)if(i[l].name==r.name){_=!0;break}_&&(s=Math.round(Math.random()*(window.item_selling_price.length-1)),r=window.item_selling_price[s])}c.name=r.name,c.total=Math.round(9*Math.random())+1,a+=r.price*c.total,i.push(c)}var h={price:0,time_start:0,needed:[]};return h.price=a+Math.round(Math.random()*(a/2)),h.exp=5+Math.round(15*Math.random()),h.time_start=t,h.needed=i,h},array_to_matrix:function(e){for(var t=[],n=3,o=[],i=0;i<e.length;i++)o.push(e[i]),0==(n-=1)&&(t.push(o),o=[],n=3),i==e.length-1&&t.push(o);return t},onClose:function(){var e=this;this.close.on("touchend",function(){window.action_active=!1,e.node.destroy()},this)}}),cc._RF.pop()},{}],other_object:[function(e,t){"use strict";cc._RF.push(t,"bd3a42+kE5NZ4vdnXNuuS8D","other_object"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],planting_slot:[function(e,t){"use strict";cc._RF.push(t,"bf657cWRv5LFaKONE6WRD1z","planting_slot"),cc.Class({extends:cc.Component,properties:{sickle_prefab:{default:null,type:cc.Prefab},seed_prefab:{default:null,type:cc.Prefab},wheat_1_prefab:{default:null,type:cc.Prefab},wheat_2_prefab:{default:null,type:cc.Prefab},tomato_1_prefab:{default:null,type:cc.Prefab},tomato_2_prefab:{default:null,type:cc.Prefab}},onLoad:function(){window.friend_meadow_load||(this.pickRadius=this.node.height/2,this.plant_name="none",this.time_planting=0,this.time_start=this.ownData.time_start,this.time_end=this.time_start+1e3*this.time_planting,this.harvest=!1,this.TimeShowDuration=0)},update:function(){if(!window.friend_meadow_load){for(var e=0;e<window.default_data.object.length;e++)if(window.default_data.object[e].ID==this.ownData.ID){this.index_object=e,this.plant_name=window.default_data.object[e].plant;for(var t=0;t<window.planting_data.length;t++)window.planting_data[t].name==this.plant_name&&(this.time_planting=window.planting_data[t].harvest_time,this.stuff_identity=window.planting_data[t]);this.time_start=window.default_data.object[e].time_start,this.time_end=window.default_data.object[e].time_end}if(window.default_data.object[this.index_object].fertilizer!=window.default_data.fertilizer_data.now.type&&"none"==window.default_data.object[this.index_object].fertilizer){window.default_data.object[this.index_object].fertilizer=window.default_data.fertilizer_data.now.type;var n,o=this.fertilizer_result(window.default_data.fertilizer_data.now.type),i=window.default_data.fertilizer_data.now.times_end-window.default_data.fertilizer_data.now.times_start,a=window.default_data.fertilizer_data.now.times_start-window.default_data.object[this.index_object].time_start,d=window.default_data.object[this.index_object].time_end-window.default_data.fertilizer_data.now.times_start;n=d-i*o<=0?a+d/o:a+(d-i*(o-1)),window.default_data.object[this.index_object].time_end=window.default_data.object[this.index_object].time_start+n}"none"!=this.plant_name&&0==this.harvest&&(this.showPlant(this.get_prefab_by_name(this.plant_name)),this.TimeShowDuration>0&&(this.showTime(),this.TimeShowDuration-=1))}},onTouch:function(){var e=this,t=((new Date).getTime()-this.time_start)/(this.time_end-this.time_start);if("none"!=this.plant_name||window.action_active)if(t>1){if(this.destroySickle(),this.sickle_active||window.action_active)return;window.action_active=!0,this.sickle_active=!0;var n=cc.instantiate(this.sickle_prefab);n.scaleX=1/this.node.parent.scaleX,n.scaleY=1/this.node.parent.scaleY,this.node.parent.addChild(n),n.setPosition(cc.v2(this.node.x,this.node.y+40)),this.node.parent.children.length,this.node.parent.children[this.node.parent.children.length-1].on("touchstart",function(){e.mouseSickleDown=!0},this),this.node.parent.children[this.node.parent.children.length-1].on("touchmove",function(t){if(e.mouseSickleDown){window.MeadowMouseDown=!1,e.node.parent.children[e.node.parent.children.length-1].x+=t.getDelta().x/e.node.parent.scaleX,e.node.parent.children[e.node.parent.children.length-1].y+=t.getDelta().y/e.node.parent.scaleY;for(var n=0;n<e.node.parent.children.length;n++)"planting_slot"==e.node.parent.children[n]._name&&e.node.parent.children[n]._components[1].harvest&&cc.v3(e.node.parent.children[n].x,e.node.parent.children[n].y).sub(cc.v3(e.node.parent.children[e.node.parent.children.length-1].x,e.node.parent.children[e.node.parent.children.length-1].y)).mag()<=10&&e.node.parent.children[n]._components[1].harvest_time()}},this),this.node.parent.children[this.node.parent.children.length-1].on("touchend",function(){e.sickle_active&&(e.mouseSickleDown=!1,e.sickle_active=!1,window.action_active=!1,e.destroySickle())},this),this.node.parent.parent.on("touchstart",function(t){if(e.sickle_active){var n=t.getLocation().x-e.node.parent.parent.width/2,o=t.getLocation().y-e.node.parent.parent.height/2;cc.v3(n,o).sub(cc.v3(e.node.parent.x+e.node.parent.children[e.node.parent.children.length-1].x*e.node.parent.scaleX,e.node.parent.y+e.node.parent.children[e.node.parent.children.length-1].y*e.node.parent.scaleY)).mag()>50&&e.sickle_active&&(window.action_active=!1,e.sickle_active=!1,e.destroySickle())}},this)}else t<=1&&t>0&&(this.TimeShowDuration=1e3);else this.node.parent.parent._components[2].spawnNewObject("circle_seeds_choice")},showPlant:function(e){this.node._children=[];var t=cc.instantiate(e);if(this.node.addChild(t),((new Date).getTime()-this.time_start)/(this.time_end-this.time_start)>1){var n={x:t.x,y:t.y},o={x:t.x,y:t.y+.05*t.height};cc.tween(t).repeatForever(cc.tween().to(1,{scaleY:1.1,position:cc.v2(o.x,o.y)},{easing:"sineInOut"}).to(.4,{angle:10,position:cc.v2(o.x-5,o.y)},{easing:function(e){return e}}).to(.4,{angle:-10,position:cc.v2(o.x+5,o.y)},{easing:function(e){return e}}).to(.4,{angle:10,position:cc.v2(o.x-5,o.y)},{easing:function(e){return e}}).to(.4,{angle:-10,position:cc.v2(o.x+5,o.y)},{easing:function(e){return e}}).to(.4,{angle:0,position:cc.v2(o.x,o.y)},{easing:function(e){return e}}).to(1,{scaleY:1,position:cc.v2(n.x,n.y)},{easing:"sineInOut"}).delay(2)).start(),this.harvest=!0}},get_prefab_by_name:function(e){var t,n=((new Date).getTime()-this.time_start)/(this.time_end-this.time_start);switch(e){case"wheat":return n<=1&&n>.5?t=this.wheat_1_prefab:n>1?t=this.wheat_2_prefab:n<=.5&&n>=0&&(t=this.seed_prefab),t;case"tomato":return n<=1&&n>.5?t=this.tomato_1_prefab:n>1?t=this.tomato_2_prefab:n<=.5&&n>=0&&(t=this.seed_prefab),t}},destroySickle:function(){for(var e=0;e<this.node.parent.children.length;e++)this.node.parent.children[e]._name==this.sickle_prefab.data.name&&this.node.parent.children[e].destroy()},harvest_time:function(){for(var e=0;e<window.default_data.object.length;e++)if(window.default_data.object[e].ID==this.ownData.ID){if(1==this.node.parent.parent._components[2].addItemOnStorage(this.ownData.plant,1)[1])return;var t=this.node.parent.x+this.node.x*this.node.parent.scaleX,n=this.node.parent.y+this.node.y*this.node.parent.scaleY;this.node.parent.parent._components[2].getItemAction(this.ownData.plant,t,n);var o="harvest "+this.ownData.plant;this.node.parent.parent._components[2].getActivity(o),this.node.parent.parent._components[2].achievement_request("harvest from plants"),this.node.parent.parent._components[2].addLevelPoint(this.stuff_identity.add_exp),window.default_data.object[e].plant="none",window.default_data.object[e].time_start=0;break}window.isnt_walk=!0,this.node.children[0].destroy(),this.plant_name="none",this.harvest=!1},showTime:function(){var e=new Date,t=this.fertilizer_result(window.default_data.fertilizer_data.now.type),n=this.time_end-this.time_start-(e.getTime()-this.time_start);if("none"!=window.default_data.fertilizer_data.now.type){var o=this.time_end-window.default_data.fertilizer_data.now.times_end;o>0&&(n=n-o+o/t)}if(n>0){var i=cc.instantiate(this.node.parent._components[1].time_showing);this.node.addChild(i);var a=cc.instantiate(this.node.parent._components[1].time_label),d=(n-n%(6e4/t))/(6e4/t),c=Math.floor(n%(6e4/t)/(1e3/t));a._components[0].string=d+":"+c,this.node.addChild(a)}},fertilizer_result:function(e){switch(e){case"none":return 1;case"x2":return 2;case"x4":return 4;case"x8":return 8;default:console.error("unknown fertilizer: "+e)}}}),cc._RF.pop()},{}],player:[function(e,t){"use strict";cc._RF.push(t,"1fa21qCe/1JSb1Hhx+B/XmN","player"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=this;if(this.ownData.start_walk.x!=this.node.x&&this.ownData.start_walk.y!=this.node.y){var t=this.node._components[2];t.play("player_walk"),this.ownData.coord.x<this.ownData.start_walk.x&&(this.node.scaleX=-1),cc.tween(this.node).to(1,{position:{value:cc.v2(this.ownData.coord.x,this.ownData.coord.y),easing:function(e){return e}}}).call(function(){e.node.scaleX=1,t.play("player");for(var n=0;n<window.default_data.object.length;n++)if(window.default_data.object[n].ID==e.ownData.ID){window.default_data.object[n].start_walk={x:e.node.x,y:e.node.y};break}}).start()}},onTouch:function(){},start:function(){}}),cc._RF.pop()},{}],project:[function(e,t){"use strict";cc._RF.push(t,"310f4ThWjJMmbFS0123AUU+","project"),cc.Class({extends:cc.Component,properties:{closeButton:{default:null,type:cc.Node},project_item_prefab:{default:null,type:cc.Prefab},project_item_active_prefab:{default:null,type:cc.Prefab},check_project:{default:null,type:cc.Prefab},finish_check_project:{default:null,type:cc.Prefab},collect_button:{default:null,type:cc.Prefab},type_decoration:{default:null,type:cc.Prefab},type_plant:{default:null,type:cc.Prefab},type_machine:{default:null,type:cc.Prefab},type_tree:{default:null,type:cc.Prefab},type_animal:{default:null,type:cc.Prefab},type_friend:{default:null,type:cc.Prefab}},onLoad:function(){this.index_active=0,this.node.on("touchstart",function(){},this),this.spawn_project_item(),this.closeButtonOnClick()},start:function(){},when_destroy_this_node:function(){var e=this;this.node.on("touchstart",function(){},this),this.node.parent.children[window.m_i].on("touchstart",function(){window.action_active=!1,e.node.destroy()},this)},getPrefabByType:function(e){switch(e){case"animal":return this.type_animal;case"plant":return this.type_plant;case"decoration":return this.type_decoration;case"machine":return this.type_machine;case"friend":return this.type_friend;case"tree":return this.type_tree;default:console.error("unknown object : "+e)}},spawn_project_item:function(){for(var e=this,t=1;t<this.node.children.length;t++)this.node.children[t].destroy();for(var n=function(t){var n=180-120*t,o=cc.instantiate(e.project_item_prefab),i=cc.instantiate(e.getPrefabByType(window.default_data.task_now[t].type));if(o.addChild(i),t==e.index_active){var a=cc.instantiate(e.project_item_active_prefab);o.addChild(a)}e.node.addChild(o),o.setPosition(cc.v2(-345,n)),o.on("touchend",function(){e.index_active=t,e.spawn_project_item()},e)},o=0;o<window.default_data.task_now.length;o++)n(o);for(var i=window.default_data.task_now[this.index_active].project.length,a=0;a<window.default_data.task_now[this.index_active].project.length;a++){var d=cc.instantiate(this.check_project),c=34-a*d.height*1.5;if(window.default_data.task_now[this.index_active].project[a].finish>=window.default_data.task_now[this.index_active].project[a].times){var s=cc.instantiate(this.finish_check_project);d.addChild(s),s.setPosition(cc.v2(0,0)),i-=1}this.node.addChild(d),d.setPosition(cc.v2(-150,c));var r=cc.instantiate(this.node.parent._components[2].text_global);r._components[0].string=window.default_data.task_now[this.index_active].project[a].activity,r._components[0].fontSize=30,this.node.addChild(r);var _=r.width/2-80,l=34-a*d.height*1.5;r.setPosition(cc.v2(_,l));var h=cc.instantiate(this.node.parent._components[2].text_global);h._components[0].string=window.default_data.task_now[this.index_active].project[a].finish+"/"+window.default_data.task_now[this.index_active].project[a].times,h._components[0].fontSize=40,h._components[0].enableBold=!0,this.node.addChild(h);var w=34-a*d.height*1.5;h.setPosition(cc.v2(370,w)),r.color=new cc.Color(0,0,0),h.color=new cc.Color(0,0,0)}var p=cc.instantiate(this.node.parent._components[2].text_global);if(p.color=new cc.Color(0,0,0),p._components[0].string=window.default_data.task_now[this.index_active].description,p._components[0].fontSize=24,this.node.addChild(p),p.setPosition(105,200),0==i){var u=cc.instantiate(this.collect_button);this.node.addChild(u),u.setPosition(cc.v2(300,-215)),u.on("touchend",function(){e.node.parent._components[2].addLevelPoint(window.default_data.task_now[e.index_active].gift.exp),e.node.parent._components[2].addMoney(window.default_data.task_now[e.index_active].gift.money);for(var t=0;t<window.all_project.length;t++)if(window.all_project[t].id==window.default_data.task_now[e.index_active].id){window.all_project[t].done=!0;break}window.default_data.task_now.splice(e.index_active,1),window.action_active=!1,e.node.parent._components[5].organize_project(),e.node.destroy()},this)}},closeButtonOnClick:function(){var e=this;this.closeButton.on("touchend",function(){window.action_active=!1,e.node.destroy()},this)}}),cc._RF.pop()},{}],queue_box:[function(e,t){"use strict";cc._RF.push(t,"08b7dfLvyZJH7yxFGSECXs8","queue_box"),cc.Class({extends:cc.Component,properties:{gold:{default:null,type:cc.Prefab}},onLoad:function(){this.our_queue="none",this.our_queue_before="none",this.button_or_time_or_not="none",this.button_or_time_or_not_before="none",this.collect_exp=0,this.start_time=0,this.timeLeftShow=0,this.timeLeft=0,this.onTouch()},start:function(){},onTouch:function(){var e=this;this.node.on("touchstart",function(){e.mouseDown=!0},this),this.node.on("touchend",function(){e.mouseDown=!1},this)},update:function(){var e=this;if(this.our_queue_before!=this.our_queue){for(var t=0;t<this.node.children.length;t++)this.node.children[t].destroy();"none"!=this.our_queue&&(cc.instantiate(this.node.parent._components[3].get_prefab(this.our_queue)),this.spawnNewObject(this.node.parent._components[3].get_prefab(this.our_queue),0,0)),this.our_queue_before=this.our_queue}if(this.button_or_time_or_not_before!=this.button_or_time_or_not){if(this.node.children[1]&&this.node.children[1].destroy(),this.node.children[2]&&this.node.children[1].destroy(),"button"==this.button_or_time_or_not){for(var n=0;n<this.node.children.length;n++)this.node.children[n].name==this.node.parent._components[2].get_object_by_macros("time_queue_box").data.name&&this.node.children[n].destroy();this.spawnNewObject(this.node.parent._components[2].get_object_by_macros("collect_button"),0,-this.node.height/2,function(){1!=this.node.parent._components[2].addItemOnStorage(this.our_queue,1)[1]&&(this.node.parent._components[2].getItemAction(this.our_queue,this.node.x,this.node.y),window.default_data.object[this.machine_data.ID].process_data.start_time+=this.timeLeft,window.default_data.object[this.machine_data.ID].process_data.queue.splice(this.queue_box_index,1),window.default_data.object[this.machine_data.ID].process_data.queue.push(null),this.node.parent._components[2].addLevelPoint(this.collect_exp),this.node.parent.children[1].children[this.machine_data.ID]._components[1].queue_child_added=!1)},void 0,function(e){e.children[1].destroy()}),this.start_time=0}else"time"==this.button_or_time_or_not?(this.spawnNewObject(this.node.parent._components[2].get_object_by_macros("time_queue_box"),0,this.node.height/2),this.spawnNewObject(this.node.parent._components[2].get_object_by_macros("collect_button"),0,-this.node.height/2,function(){var e=new Date,t=this.start_time-e.getTime(),n=Math.ceil(t/12e4);window.default_data.identity.gold>=n?(this.node.parent._components[2].addGold(-n),window.default_data.object[this.machine_index].process_data.start_time-=t,this.node.parent.children[1].children[this.machine_data.ID]._components[1].queue_child_added=!1):this.node.parent._components[2].show_alert("emas tidak cukup",this.node.x,this.node.y,new cc.Color(200,20,20))},void 0,function(t){var n=new Date,o=e.start_time-n.getTime(),i=Math.ceil(o/12e4);t.children[0]._components[0].string=i,t.children[0].x=-t.width/2+t.width/4*3})):(this.spawnNewObject(this.node.parent._components[2].get_object_by_macros("time_queue_box"),0,this.node.height/2,function(){},{color:new cc.Color(0,0,0),opacity:255}),this.start_time=0);this.button_or_time_or_not_before=this.button_or_time_or_not}for(var o=0;o<this.node.children.length;o++)if(this.node.children[o].name==this.node.parent._components[2].get_object_by_macros("time_queue_box").data.name){if("none"!=this.button_or_time_or_not_before){var i=new Date,a=this.start_time-i.getTime(),d=(a-a%6e4)/6e4,c=Math.floor(a%6e4/1e3);a>this.timeLeftShow?(this.node.children[1].opacity=0,this.node.children[2].opacity=0,this.node.children[2].active=!1):(this.node.children[1].opacity=255,this.node.children[2].opacity=255,this.node.children[2].active=!0),this.node.children[o].children[0]._components[0].string=d+":"+c}break}},spawnNewObject:function(e,t,n,o,i,a){void 0===o&&(o=void 0),void 0===i&&(i=void 0),void 0===a&&(a=void 0);var d=cc.instantiate(e);null!=i&&(i.opacity&&(d.opacity=i.opacity),i.color&&(d.color=i.color)),null!=a&&a(d),this.node.addChild(d),d.setPosition(cc.v2(t,n)),o&&d.on("touchstart",o,this)}}),cc._RF.pop()},{}],rotate_transform:[function(e,t){"use strict";cc._RF.push(t,"2964c6w0ttKzqXZpeOIAx1x","rotate_transform"),cc.Class({extends:cc.Component,properties:{purpose:""},onLoad:function(){var e=this;this.mouseDown=!1,this.node.on("touchstart",function(){e.mouseDown=!0}),this.node.on("touchend",function(){e.mouseDown=!1})},start:function(){},onDrag:function(){},update:function(){for(var e=0;e<this.node.parent.children.length;e++)this.node.parent.children[e]._name==this.node.parent._components[1].bags.data.name&&this.mouseDown&&("right"==this.purpose?this.node.parent.children[e]._components[1].rotate("right"):"left"==this.purpose&&this.node.parent.children[e]._components[1].rotate("left"))}}),cc._RF.pop()},{}],s_item_script:[function(e,t){"use strict";cc._RF.push(t,"66234fto5FFo5IlGcjvP8cp","s_item_script"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],sales_desk:[function(e,t){"use strict";cc._RF.push(t,"01d81UhGehCkZNPPrU09LwM","sales_desk"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],scene_transition:[function(e,t){"use strict";cc._RF.push(t,"38b12MAcP9BPohji9ZQn/cu","scene_transition"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.game.addPersistRootNode(this.node)},load_next_scene:function(e){var t=this;cc.tween(this.node).to(1,{position:cc.v2(480,320)},{easing:"cubicInOut"}).call(function(){t.load_scene(e)}).to(1,{position:cc.v2(-1e3,320)},{easing:"cubicInOut"}).start()},load_scene:function(e){cc.director.loadScene(e)}}),cc._RF.pop()},{}],storage_increase:[function(e,t){"use strict";cc._RF.push(t,"b52ffj5hpFC6IyeMFWXGEre","storage_increase"),cc.Class({extends:cc.Component,properties:{back_button:{default:null,type:cc.Node},capacity_parameter:{default:null,type:cc.Node},increase_button:{default:null,type:cc.Node},nail_count:cc.Label,measuring_tape_count:cc.Label,hammer_count:cc.Label,buy_item_by_gold_button:{default:null,type:cc.Prefab},check_box:{default:null,type:cc.Prefab}},onLoad:function(){this.show_data(),this.back_button_on_touch(),this.set_capacity_param(),this.increase_button_on_touch()},spawnNewObject:function(e,t,n){void 0===t&&(t=void 0),void 0===n&&(n=void 0);var o=cc.instantiate(e);this.node.addChild(o),null!=t&&o.setPosition(t),null!=n&&n(o)},spawnNewInObject:function(e,t,n,o){void 0===n&&(n=void 0),void 0===o&&(o=void 0);var i=cc.instantiate(e);t.addChild(i),null!=n&&i.setPosition(n),null!=o&&o(i)},show_data:function(){var e=this;this.num_of_item_sufficient=0;for(var t,n,o,i=1+(window.default_data.object[this.barn_id].level-window.default_data.object[this.barn_id].level%2)/2,a=0;a<window.default_data.storage[0].length;a++)window.default_data.storage[0][a].name==this.get_object_by_macros("nail").data.name&&((t=window.default_data.storage[0][a]).index=a,t.price_data=this.get_price_data(window.default_data.storage[0][a].name)),window.default_data.storage[0][a].name==this.get_object_by_macros("measuring_tape").data.name&&((n=window.default_data.storage[0][a]).index=a,n.price_data=this.get_price_data(window.default_data.storage[0][a].name)),window.default_data.storage[0][a].name==this.get_object_by_macros("hammer").data.name&&((o=window.default_data.storage[0][a]).index=a,o.price_data=this.get_price_data(window.default_data.storage[0][a].name));this.nail_count.string=t.total+"/"+i,this.measuring_tape_count.string=n.total+"/"+i,this.hammer_count.string=o.total+"/"+i;for(var d=function(t,n){t.children[0]._components[0].string=5*n.price_data.gold,t.on("touchstart",function(){t.color=new cc.Color(150,150,150)},e),t.on("touchend",function(){if(t.color=new cc.Color(255,255,255),window.default_data.identity.gold<5*n.price_data.gold)e.node.parent.parent._components[2].show_alert("emas tidak cukup",0,0,new cc.Color(0,0,0));else{var o=e.node.parent.parent._components[2].addItemOnStorage(n.name);if(window.default_data.storage[0][n.index]={name:window.default_data.storage[0][n.index].name,total:window.default_data.storage[0][n.index].total},1==o[1])return;e.node.parent.parent._components[2].organize_data(),e.set_capacity_param(),e.node.parent.parent._components[2].addGold(5*-n.price_data.gold),e.show_data()}},e)},c=0;c<this.node.children[2].children.length;c++)this.node.children[2].children[c].name!=this.buy_item_by_gold_button.data.name&&this.node.children[2].children[c].name!=this.check_box.data.name||this.node.children[2].children[c].destroy();t.total<i?this.spawnNewInObject(this.buy_item_by_gold_button,this.node.children[2],cc.v2(-5,90),function(e){d(e,t)}):(this.spawnNewInObject(this.check_box,this.node.children[2],cc.v2(-5,90)),this.num_of_item_sufficient+=1),n.total<i?this.spawnNewInObject(this.buy_item_by_gold_button,this.node.children[2],cc.v2(-5,0),function(e){d(e,n)}):(this.spawnNewInObject(this.check_box,this.node.children[2],cc.v2(-5,0)),this.num_of_item_sufficient+=1),o.total<i?this.spawnNewInObject(this.buy_item_by_gold_button,this.node.children[2],cc.v2(-5,-90),function(e){d(e,o)}):(this.spawnNewInObject(this.check_box,this.node.children[2],cc.v2(-5,-90)),this.num_of_item_sufficient+=1)},set_capacity_param:function(){for(var e=0,t=0;t<window.default_data.storage[0].length;t++)e+=window.default_data.storage[0][t].total;var n=e/window.our_capacity[0];this.capacity_parameter.children[0].width=this.capacity_parameter.width*n;var o=-this.capacity_parameter.width/2+this.capacity_parameter.children[0].width/2;this.capacity_parameter.children[0].setPosition(cc.v2(o,0)),this.capacity_parameter.children[2]._components[0].string=e+"/"+window.our_capacity[0]},get_price_data:function(e){for(var t,n=0;n<window.item_selling_price.length;n++)if(window.item_selling_price[n].name==e){t=window.item_selling_price[n];break}return t},get_object_by_macros:function(e){return this.node.parent.parent._components[3].get_prefab(e)},back_button_on_touch:function(){var e=this;this.back_button.on("touchend",function(){e.node.destroy(),e.node.parent._components[1].show_item()},this)},increase_button_on_touch:function(){var e=this;this.increase_button.on("touchend",function(){if(3!=e.num_of_item_sufficient)e.node.parent.parent._components[2].show_alert("syarat tidak terpenuhi",0,0,new cc.Color(0,0,0));else{var t=1+(window.default_data.object[e.barn_id].level-window.default_data.object[e.barn_id].level%2)/2;window.default_data.object[e.barn_id].level+=1;for(var n=0;n<window.default_data.storage[0].length;n++)window.default_data.storage[0][n].name!=e.get_object_by_macros("nail").data.name&&window.default_data.storage[0][n].name!=e.get_object_by_macros("measuring_tape").data.name&&window.default_data.storage[0][n].name!=e.get_object_by_macros("hammer").data.name||(window.default_data.storage[0][n].total-=t);e.node.parent.parent._components[2].setStorageCapacity(),e.node.parent.parent._components[2].organize_data(),e.node.parent._components[1].get_data(),e.node.parent._components[1].set_capacity_param(),e.set_capacity_param(),e.show_data()}},this)},start:function(){}}),cc._RF.pop()},{}],storage_item:[function(e,t){"use strict";cc._RF.push(t,"827f1BB2W5FOas7dQHkTWWt","storage_item"),cc.Class({extends:cc.Component,properties:{back_button:{default:null,type:cc.Node},item_name_label:cc.Label,item_box:{default:null,type:cc.Node},capacity_parameter:{default:null,type:cc.Node},compare_buy_box:{default:null,type:cc.Node},add_minus_buy_box:{default:null,type:cc.Node},buy_button:{default:null,type:cc.Node},compare_sell_box:{default:null,type:cc.Node},add_minus_sell_box:{default:null,type:cc.Node},sell_button:{default:null,type:cc.Node},to_increase_button:{default:null,type:cc.Node},money:{default:null,type:cc.Prefab},gold:{default:null,type:cc.Prefab}},onLoad:function(){this.buy_count_num=0,this.sell_count_num=0,this.sell_item_price=void 0,this.has_displayed_data=!1,this.placement="barn"==this.our_data.placement?0:"silo"==this.our_data.placement?1:console.error(this.our_data.placement),this.node.on("touchstart",function(){return null},this),this.displayed_data(),this.set_capacity_param(),this.back_button_on_touch(),this.to_increase_button_action()},start:function(){},displayed_data:function(){var e=this;if(this.item_name_label.string=this.our_data.name.replace("_"," "),0==this.has_displayed_data){var t=cc.instantiate(this.get_item_object_by_macros(this.our_data.name)),n=cc.instantiate(this.get_object_game_by_macros("text_global"));n.color=new cc.Color(0,0,0),this.item_box.addChild(t),this.item_box.addChild(n),n.setPosition(cc.v2(55,-70)),t.width*=2.5,t.height*=2.5,t.setPosition(cc.v2(0,0)),n._components[0].string=this.our_data.total,this.has_displayed_data=!0}else this.item_box.children[1]._components[0].string=this.our_data.total;var o=function(){e.our_data.gold?(e.compare_buy_box.children[1]._components[0].string=5*e.our_data.gold*e.buy_count_num,e.compare_buy_box.children[3]||e.spawnNewInObject(e.gold,e.compare_buy_box,-120,0)):(e.compare_buy_box.children[1]._components[0].string=5*e.our_data.price*e.buy_count_num,e.compare_buy_box.children[3]||e.spawnNewInObject(e.money,e.compare_buy_box,-120,0)),e.compare_buy_box.children[2]._components[0].string=e.buy_count_num,e.compare_buy_box.children[4]||e.spawnNewInObject(e.get_item_object_by_macros(e.our_data.name),e.compare_buy_box,120,0,function(e){e.width*=.85,e.height*=.85}),e.add_minus_buy_box.children[2]._components[0].string=e.buy_count_num};o(),this.add_minus_buy_box.children[0].on("touchstart",function(){e.add_minus_buy_box.children[0].color=new cc.Color(120,120,120)},this),this.add_minus_buy_box.children[0].on("touchend",function(){e.add_minus_buy_box.children[0].color=new cc.Color(255,255,255),e.buy_count_num+1>window.our_capacity[e.placement]-e.capacity||(e.buy_count_num+=1,o())},this),this.add_minus_buy_box.children[1].on("touchstart",function(){e.add_minus_buy_box.children[1].color=new cc.Color(120,120,120)},this),this.add_minus_buy_box.children[1].on("touchend",function(){e.add_minus_buy_box.children[1].color=new cc.Color(255,255,255),e.buy_count_num-1<0||(e.buy_count_num-=1,o())},this),this.buy_button.on("touchstart",function(){e.buy_button.color=new cc.Color(120,120,120)},this),this.buy_button.on("touchend",function(){e.buy_button.color=new cc.Color(255,255,255);var t=e.get_index_item_on_save_data(e.our_data.name);(e.our_data.gold?5*e.our_data.gold*e.buy_count_num<=window.default_data.identity.gold:5*e.our_data.price*e.buy_count_num<=window.default_data.identity.money)?null!=t?(window.default_data.storage[e.placement][t].total+=e.buy_count_num,e.our_data.gold?e.node.parent.parent._components[2].addGold(5*-e.our_data.gold*e.buy_count_num):e.node.parent.parent._components[2].addMoney(5*-e.our_data.price*e.buy_count_num),e.node.parent._components[1].get_data(),e.node.parent._components[1].set_capacity_param(),e.node.parent.parent._components[2].organize_data(),e.spawnStorageItemNew(),e.node.destroy()):console.error("unknown : "+t):(e.our_data.gold&&e.node.parent.parent._components[2].show_alert("emas tidak cukup",0,0,new cc.Color(200,100,100)),e.node.parent.parent._components[2].show_alert("uang tidak cukup",0,0,new cc.Color(200,100,100)))},this);var i=function(){e.compare_sell_box.children[1]._components[0].string=e.sell_count_num,e.compare_sell_box.children[2]._components[0].string=e.our_data.price*e.sell_count_num,e.compare_sell_box.children[3]||e.spawnNewInObject(e.get_item_object_by_macros(e.our_data.name),e.compare_sell_box,-120,0,function(e){e.width*=.85,e.height*=.85}),e.compare_sell_box.children[4]||e.spawnNewInObject(e.money,e.compare_sell_box,120,0),e.add_minus_sell_box.children[2]._components[0].string=e.sell_count_num};i(),this.add_minus_sell_box.children[0].on("touchstart",function(){e.add_minus_sell_box.children[0].color=new cc.Color(120,120,120)},this),this.add_minus_sell_box.children[0].on("touchend",function(){e.add_minus_sell_box.children[0].color=new cc.Color(255,255,255),e.sell_count_num+1>e.our_data.total||(e.sell_count_num+=1,i())},this),this.add_minus_sell_box.children[1].on("touchstart",function(){e.add_minus_sell_box.children[1].color=new cc.Color(120,120,120)},this),this.add_minus_sell_box.children[1].on("touchend",function(){e.add_minus_sell_box.children[1].color=new cc.Color(255,255,255),e.sell_count_num-1<0||(e.sell_count_num-=1,i())},this),this.sell_button.on("touchstart",function(){e.sell_button.color=new cc.color(120,120,120)},this),this.sell_button.on("touchend",function(){e.sell_button.color=new cc.color(255,255,255);var t=e.get_index_item_on_save_data(e.our_data.name);null!=t?(window.default_data.storage[e.placement][t].total-=e.sell_count_num,e.node.parent.parent._components[2].addMoney(e.our_data.price*e.sell_count_num),e.node.parent._components[1].get_data(),e.node.parent._components[1].set_capacity_param(),e.node.parent.parent._components[2].organize_data(),e.spawnStorageItemNew(),e.node.destroy()):console.error("unknown : "+t)},this)},set_capacity_param:function(){this.capacity=0;for(var e=0;e<window.default_data.storage[this.placement].length;e++)this.capacity+=window.default_data.storage[this.placement][e].total;var t=this.capacity/window.our_capacity[this.placement];this.capacity_parameter.children[0].width=this.capacity_parameter.width*t;var n=-this.capacity_parameter.width/2+this.capacity_parameter.children[0].width/2;this.capacity_parameter.children[0].setPosition(cc.v2(n,0)),this.capacity_parameter.children[2]._components[0].string=this.capacity+"/"+window.our_capacity[this.placement]},back_button_on_touch:function(){var e=this;this.back_button.on("touchend",function(){e.node.destroy(),e.node.parent._components[1].show_item()},this)},to_increase_button_action:function(){var e=this;this.to_increase_button.on("touchend",function(){e.spawnNewInObject(e.node.parent._components[1].increase_box,e.node.parent,0,0,function(t){t._components[1].barn_id=e.node.parent._components[1].barn_id,e.node.destroy()})},this)},spawnNewObject:function(e,t,n,o,i){void 0===o&&(o=void 0),void 0===i&&(i=void 0);var a=cc.instantiate(e);null!=o&&o(a),this.node.addChild(a),a.setPosition(cc.v2(t,n)),null!=i&&i(a)},spawnNewInObject:function(e,t,n,o,i,a){void 0===i&&(i=void 0),void 0===a&&(a=void 0);var d=cc.instantiate(e);null!=i&&i(d),t.addChild(d),d.setPosition(cc.v2(n,o)),null!=a&&a(d)},get_item_object_by_macros:function(e){return this.node.parent.parent._components[3].get_prefab(e)},get_object_game_by_macros:function(e){return this.node.parent.parent._components[2].get_object_by_macros(e)},get_index_item_on_save_data:function(e){for(var t=void 0,n=0;n<window.default_data.storage[this.placement].length;n++)if(window.default_data.storage[this.placement][n].name==e){t=n;break}return null!=t?t:void console.error("unknown : "+e)},spawnStorageItemNew:function(){var e=this;this.node.parent._components[1].spawnNewObject(this.node.parent._components[1].item_sell_and_buy_box,0,0,function(t){t._components[1].our_data=e.node.parent._components[1].our_data[e.our_data.page_index][e.our_data.rows][e.our_data.cols],t._components[1].our_data.page_index=e.our_data.page_index,t._components[1].our_data.rows=e.our_data.rows,t._components[1].our_data.cols=e.our_data.cols})}}),cc._RF.pop()},{}],storage_main:[function(e,t){"use strict";cc._RF.push(t,"0ca38PIXehLV7LQ1z/pt61+","storage_main"),cc.Class({extends:cc.Component,properties:{close_button:{default:null,type:cc.Node},to_increase_button:{default:null,type:cc.Node},next_page:{default:null,type:cc.Node},prev_page:{default:null,type:cc.Node},capacity_parameter:{default:null,type:cc.Node},materials_type:{default:null,type:cc.Node},products_type:{default:null,type:cc.Node},active_type:{default:null,type:cc.Node},item_box:{default:null,type:cc.Prefab},item_total_label:{default:null,type:cc.Prefab},increase_box:{default:null,type:cc.Prefab},item_sell_and_buy_box:{default:null,type:cc.Prefab}},onLoad:function(){this.type_now="products",this.node.parent._components[2].setStorageCapacity(),this.node.parent._components[2].setCapacity(),1==this.placement&&(this.materials_type.active=!1,this.materials_type.opacity=0,this.products_type.active=!1,this.products_type.opacity=0),this.page_index=0,this.get_data(),this.set_capacity_param(),this.next_prev_button_on_touch(),this.show_item(),this.close_on_touch(),this.type_on_touch(),this.to_increase_button_action()},get_data:function(){this.our_data=[];for(var e=0;e<window.item_selling_price.length;e++)if(window.item_selling_price[e].type==this.type_now&&window.item_selling_price[e].placement==(0==this.placement?"barn":1==this.placement?"silo":console.error(this.placement))){for(var t=0,n=0;n<window.default_data.storage[this.placement].length;n++)if(window.default_data.storage[this.placement][n].name==window.item_selling_price[e].name){t=window.default_data.storage[this.placement][n].total;break}var o=window.item_selling_price[e];o.total=t,this.our_data.push(o)}this.our_data=this.array_to_matrix(this.array_to_matrix(this.our_data,4),2)},show_item:function(){var e=this;if(null==this.our_data[this.page_index+1]?(this.next_page.opacity=1,this.next_page.active=!1):null==this.our_data[this.page_index+1][0]?(this.next_page.opacity=1,this.next_page.active=!1):(this.next_page.opacity=255,this.next_page.active=!0),null==this.our_data[this.page_index-1]?(this.prev_page.opacity=1,this.prev_page.active=!1):null==this.our_data[this.page_index-1][0]?(this.prev_page.opacity=1,this.prev_page.active=!1):(this.prev_page.opacity=255,this.prev_page.active=!0),1!=this.placement){"products"==this.type_now?(this.active_type.setPosition(cc.v2(this.products_type.position.x,this.products_type.position.y)),this.active_type.children[0]._components[0].string="Products"):"materials"==this.type_now&&(this.active_type.setPosition(cc.v2(this.materials_type.position.x,this.materials_type.position.y)),this.active_type.children[0]._components[0].string="Materials");for(var t=0;t<this.node.children.length;t++)this.node.children[t].name==this.item_box.data.name&&this.node.children[t].destroy()}else this.active_type.active=!1,this.active_type.opacity=0;for(var n=function(t){for(var n=function(n){e.spawnNewObject(e.item_box,120*n-180,60+-120*t,function(){return null},function(o){var i=e.node.parent._components[3].get_prefab(e.our_data[e.page_index][t][n].name);e.spawnNewInObject(i,o,0,0),e.spawnNewInObject(e.item_total_label,o,0,0,function(o){o._components[0].string=e.our_data[e.page_index][t][n].total},function(e){e.setPosition(cc.v2(36-e.width/2,-30))}),o.on("touchend",function(){e.spawnNewObject(e.item_sell_and_buy_box,0,0,function(o){o._components[1].our_data=e.our_data[e.page_index][t][n],o._components[1].our_data.page_index=e.page_index,o._components[1].our_data.rows=t,o._components[1].our_data.cols=n})},e)})},o=0;o<e.our_data[e.page_index][t].length;o++)n(o)},o=0;o<this.our_data[this.page_index].length;o++)n(o)},spawnNewObject:function(e,t,n,o,i){void 0===o&&(o=void 0),void 0===i&&(i=void 0);var a=cc.instantiate(e);null!=o&&o(a),this.node.addChild(a),a.setPosition(cc.v2(t,n)),null!=i&&i(a)},spawnNewInObject:function(e,t,n,o,i,a){void 0===i&&(i=void 0),void 0===a&&(a=void 0);var d=cc.instantiate(e);null!=i&&i(d),t.addChild(d),d.setPosition(cc.v2(n,o)),null!=a&&a(d)},array_to_matrix:function(e,t){for(var n=[],o=t,i=[],a=0;a<e.length;a++)i.push(e[a]),0==(o-=1)&&(n.push(i),i=[],o=t),a==e.length-1&&n.push(i);return n},next_prev_button_on_touch:function(){this.next_page.on("touchend",function(){this.next_page_act()},this),this.prev_page.on("touchend",function(){this.prev_page_act()},this)},next_page_act:function(){this.page_index+=1;for(var e=0;e<this.node._children.length;e++)this.node._children[e].name!=this.node._components[1].item_box.data.name&&this.node._children[e].name!=this.node._components[1].item_box.data.next_page&&this.node._children[e].name!=this.node._components[1].item_box.data.prev_page||this.node._children[e].destroy();this.show_item()},prev_page_act:function(){this.page_index-=1;for(var e=0;e<this.node._children.length;e++)this.node._children[e].name!=this.node._components[1].item_box.data.name&&this.node._children[e].name!=this.node._components[1].item_box.data.next_page&&this.node._children[e].name!=this.node._components[1].item_box.data.prev_page||this.node._children[e].destroy();this.show_item()},set_capacity_param:function(){for(var e=0,t=0;t<window.default_data.storage[this.placement].length;t++)e+=window.default_data.storage[this.placement][t].total;var n=e/window.our_capacity[this.placement];this.capacity_parameter.children[0].width=this.capacity_parameter.width*n;var o=-this.capacity_parameter.width/2+this.capacity_parameter.children[0].width/2;this.capacity_parameter.children[0].setPosition(cc.v2(o,0)),this.capacity_parameter.children[2]._components[0].string=e+"/"+window.our_capacity[this.placement]},to_increase_button_action:function(){var e=this;this.to_increase_button.on("touchend",function(){e.spawnNewObject(e.increase_box,0,0,function(t){t._components[1].barn_id=e.barn_id,t._components[1].placement=e.placement})},this)},close_on_touch:function(){var e=this;this.close_button.on("touchend",function(){window.action_active=!1,e.node.destroy()},this)},type_on_touch:function(){var e=this;this.materials_type.on("touchend",function(){e.type_now="materials",e.set_capacity_param(),e.get_data(),e.show_item()},this),this.products_type.on("touchend",function(){e.type_now="products",e.set_capacity_param(),e.get_data(),e.show_item()},this)},start:function(){}}),cc._RF.pop()},{}],t_o_friend:[function(e,t){"use strict";cc._RF.push(t,"b233aySnVZIPJABYYKQOoTM","t_o_friend"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.object_data,this.onMove()},start:function(){},update:function(){},onMove:function(){var e=this;this.node.on("touchstart",function(){e.mouseDown=!0},this),this.node.on("touchmove",function(){e.mouseDown},this),this.node.on("touchend",function(){try{e.node.parent.children[e.object_data.ID]._components[2].onTouch()}catch(t){console.error(t)}},this)}}),cc._RF.pop()},{}],t_o:[function(e,t){"use strict";cc._RF.push(t,"d993bsfkA5Pw4dCqsV5CUX6","t_o"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.object_data,this.object_identity,this.index_object,this.time_hold=20,this.mouseX=this.node.parent.children[this.object_data.ID].x,this.mouseY=this.node.parent.children[this.object_data.ID].y,this.num_of_square={cols:this.object_identity.plot_of_move_system.cols,rows:this.object_identity.plot_of_move_system.rows},this.mouseDown=!1,this.moveObject=!1,this.onMove(),this.get_index_of_object(),this.inside=!1,this.inside_or_outside(),this.mouseDownLocation={x:0,y:0}},start:function(){},update:function(){this.onHold()},get_index_of_object:function(){for(var e=0;e<this.node.parent.children.length;e++)null!=this.node.parent.children[e]._components[1]&&null!=this.node.parent.children[e]._components[1].ownData&&this.node.parent.children[e]._components[1].ownData.ID==this.object_data.ID&&(this.index_object=e)},onMove:function(){var e=this;this.node.on("touchstart",function(t){window.action_active||(window.MeadowMouseDown=!1,e.mouseDown=!0,e.mouseX=e.node.parent.children[e.object_data.ID].x,e.mouseY=e.node.parent.children[e.object_data.ID].y,e.mouseDownLocation.x=t.getLocation().x,e.mouseDownLocation.y=t.getLocation().y)},this),this.node.on("touchend",function(){if(e.time_hold>0){try{if(window.MeadowOnDrag)return;window.isnt_walk=!0;for(var t=!1,n=0;n<e.node.parent._components[1].land_square_coord.length;n++){for(var o=e.node.parent.children[e.object_data.ID].x,i=e.node.parent.children[e.object_data.ID].y,a=!1,d=0;d<e.node.parent._components[1].land_square_coord[n].length;d++)if(Math.abs(o-e.node.parent._components[1].land_square_coord[n][d][0])<=7.5&&i<=e.node.parent._components[1].land_square_coord[n][d][1]+10&&i>=e.node.parent._components[1].land_square_coord[n][d][2]-10){a=!0;break}if(a){t=!0;break}}e.node.parent.children[e.object_data.ID].name==e.node.parent._components[4].agricultural_aircraft_prefab.name&&(t=!0),t&&e.node.parent.children[e.object_data.ID]._components[1].onTouch()}catch(c){}return e.mouseDown=!1,e.time_hold=20,e.mouseX=0,e.mouseY=0,e.mouseDownLocation.x=0,void(e.mouseDownLocation.y=0)}},this),this.node.on("touchmove",function(t){if(e.mouseDown){if(e.time_hold>0)return e.mouseDown=!1,void(e.time_hold=20);e.time_hold=-1,e.mouseDownLocation.x=t.getLocation().x,e.mouseDownLocation.y=t.getLocation().y,e.mouseX+=t.getDelta().x/e.node.parent.scaleX,e.mouseY+=t.getDelta().y/e.node.parent.scaleY,e.node.parent.children[e.object_data.ID].x=e.node.parent._components[1].ObjectOnMove(e.mouseX,e.mouseY).x,e.node.parent.children[e.object_data.ID].y=e.node.parent._components[1].ObjectOnMove(e.mouseX,e.mouseY).y,e.node.x=e.node.parent.children[e.object_data.ID].x+e.object_identity.t_o.x,e.node.y=e.node.parent.children[e.object_data.ID].y+e.object_identity.t_o.y,e.node.parent.children[e.node.parent.children.length-(e.num_of_square.cols*e.num_of_square.rows+1)].setPosition(cc.v2(e.node.parent.children[e.object_data.ID].x,e.node.parent.children[e.object_data.ID].y)),e.resultSquareBox=e.node.parent._components[1].spawn_many_square(e.node.parent.children[e.object_data.ID].x,e.node.parent.children[e.object_data.ID].y,e.object_identity.plot_of_move_system.start_x,e.object_identity.plot_of_move_system.start_y,e.num_of_square.cols,e.num_of_square.rows,e.object_data.ID)}},this)},onHold:function(){var e=this;if(this.mouseDown&&(this.inside&&(this.time_hold-=1),this.node.parent.children[this.object_data.ID].name==this.node.parent._components[4].agricultural_aircraft_prefab.name&&this.time_hold<=0&&(this.time_hold=1),this.time_hold<=0)){if(this.time_hold<0&&(this.time_hold=-1),0==this.time_hold){window.action_active=!0,window.onMove=!0,this.node.parent.children[this.object_data.ID].opacity=1;var t=this.object_data;t.queue&&(t.queue=[null,null,null]),window.MeadowMouseDown=!1;for(var n,o=this.node.parent._components[1].spawnNewObject(t),i=0;i<this.node.parent.children.length;i++)if(this.node.parent.children[i].uuid==o){n=i;break}this.resultSquareBox=this.node.parent._components[1].spawn_many_square(this.object_data.coord.x,this.object_data.coord.y,this.object_identity.plot_of_move_system.start_x,this.object_identity.plot_of_move_system.start_y,this.num_of_square.cols,this.num_of_square.rows,this.object_data.ID),this.spawn_yes_and_no(this.object_data.coord.x,this.object_data.coord.y),n&&(this.node.parent.children[n].on("touchstart",function(){e.autoMove_action=!0},this),this.node.parent.children[n].on("touchend",function(){e.autoMove_action=!1},this),this.node.parent.children[n].on("touchmove",function(t){if(e.mouseDown){if(e.time_hold>0)return e.mouseDown=!1,void(e.time_hold=20);window.MeadowMouseDown=!1,e.time_hold=-1,e.mouseDownLocation.x=t.getLocation().x,e.mouseDownLocation.y=t.getLocation().y,e.mouseX+=t.getDelta().x/e.node.parent.scaleX,e.mouseY+=t.getDelta().y/e.node.parent.scaleY,e.node.parent.children[e.object_data.ID].x=e.node.parent._components[1].ObjectOnMove(e.mouseX,e.mouseY).x,e.node.parent.children[e.object_data.ID].y=e.node.parent._components[1].ObjectOnMove(e.mouseX,e.mouseY).y,e.node.x=e.node.parent.children[e.object_data.ID].x+e.object_identity.t_o.x,e.node.y=e.node.parent.children[e.object_data.ID].y+e.object_identity.t_o.y,e.node.parent.children[n].setPosition(cc.v2(e.node.parent.children[e.object_data.ID].x,e.node.parent.children[e.object_data.ID].y)),e.resultSquareBox=e.node.parent._components[1].spawn_many_square(e.node.parent.children[e.object_data.ID].x,e.node.parent.children[e.object_data.ID].y,e.object_identity.plot_of_move_system.start_x,e.object_identity.plot_of_move_system.start_y,e.num_of_square.cols,e.num_of_square.rows,e.object_data.ID)}},this))}this.autoMove()}},autoMove:function(){if(this.autoMove_action){var e=0,t=0,n=!1;if(this.mouseDownLocation.x>this.node.parent.parent.width*(7/8)?(e=5,n=!0):this.mouseDownLocation.x<this.node.parent.parent.width*(1/8)&&(e=-5,n=!0),this.mouseDownLocation.y>this.node.parent.parent.height*(7/8)?(t=5,n=!0):this.mouseDownLocation.y<this.node.parent.parent.height*(1/8)&&(t=-5,n=!0),n){var o=this.node.parent._components[1].MoveMeadow(-e,-t);0==o.x&&(e=0),0==o.y&&(t=0),this.mouseX+=e/this.node.parent.scaleX,this.mouseY+=t/this.node.parent.scaleY,this.node.parent.children[this.object_data.ID].x=this.node.parent._components[1].ObjectOnMove(this.mouseX,this.mouseY).x,this.node.parent.children[this.object_data.ID].y=this.node.parent._components[1].ObjectOnMove(this.mouseX,this.mouseY).y,this.node.x=this.node.parent.children[this.object_data.ID].x+this.object_identity.t_o.x,this.node.y=this.node.parent.children[this.object_data.ID].y+this.object_identity.t_o.y,this.node.parent.children[this.node.parent.children.length-(this.num_of_square.cols*this.num_of_square.rows+1)].setPosition(cc.v2(this.node.parent.children[this.object_data.ID].x,this.node.parent.children[this.object_data.ID].y)),this.resultSquareBox=this.node.parent._components[1].spawn_many_square(this.node.parent.children[this.object_data.ID].x,this.node.parent.children[this.object_data.ID].y,this.object_identity.plot_of_move_system.start_x,this.object_identity.plot_of_move_system.start_y,this.num_of_square.cols,this.num_of_square.rows,this.object_data.ID)}}},spawn_yes_and_no:function(){var e=this,t=void 0;"machine"!=this.stuff_identity.type&&"animal"!=this.stuff_identity.type&&"plant"!=this.stuff_identity.type&&"decoration"!=this.stuff_identity.type&&"tree"!=this.stuff_identity.type||(t=function(){var t=cc.instantiate(e.node.parent.parent._components[2].text_global),n=Math.floor(.25*e.stuff_identity.price);t._components[0].string="Demolish to get money "+n,t.color=new cc.Color(70,70,70),e.node.parent.parent._components[2].spawn_confirm_prefab(function(t){for(var o=0;o<window.default_data.object.length;o++)if(window.default_data.object[o].ID==e.object_data.ID){window.default_data.object.splice(o,1);break}e.node.parent.children[e.object_data.ID].opacity=255,window.action_active=!1,window.onMove=!1,e.node.parent._components[1].destroy_many_square(),e.node.parent.parent._components[2].destroy_move_object(),e.node.parent.parent._components[2].addMoneyWithAction(n,0,0),e.node.parent._components[1].spawn_many_object(),t.destroy()},t)}),this.node.parent.parent._components[2].spawn_move_object(function(){if(1==e.resultSquareBox){for(var t=0;t<window.default_data.object.length;t++)if(window.default_data.object[t].ID==e.object_data.ID){window.default_data.object[t].coord.x=e.node.x-e.object_identity.t_o.x,window.default_data.object[t].coord.y=e.node.y-e.object_identity.t_o.y,window.default_data.object[t].square_data=[],e.node.parent.children[e.object_data.ID].opacity=255,window.action_active=!1,window.onMove=!1;for(var n=e.object_identity.plot_of_move_system.start_x,o=e.object_identity.plot_of_move_system.start_y,i=0;i<e.num_of_square.rows;i++){for(var a=n,d=o,c=0;c<e.num_of_square.cols;c++)window.default_data.object[t].square_data.push([window.default_data.object[t].coord.x+a,window.default_data.object[t].coord.y+d]),a+=15,d+=10;n+=15,o-=10}e.node.parent._components[1].sort_object_by_y_coord(),e.node.parent._components[1].spawn_many_object(),e.node.parent.parent._components[2].destroy_move_object();break}}else e.node.parent.parent._components[2].show_alert("tempatkan di tempat yang kosong",0,0,new cc.Color(200,0,0))},t,function(){e.node.parent.children[e.object_data.ID].opacity=255,window.action_active=!1,window.onMove=!1,e.node.parent._components[1].spawn_many_object(),e.node.parent.parent._components[2].destroy_move_object()})},inside_or_outside:function(){try{if(window.MeadowOnDrag)return;window.isnt_walk=!0;for(var e=0;e<this.node.parent._components[1].land_square_coord.length;e++){for(var t=this.node.parent.children[this.object_data.ID].x,n=this.node.parent.children[this.object_data.ID].y,o=!1,i=0;i<this.node.parent._components[1].land_square_coord[e].length;i++)if(Math.abs(t-this.node.parent._components[1].land_square_coord[e][i][0])<=7.5&&n<=this.node.parent._components[1].land_square_coord[e][i][1]+10&&n>=this.node.parent._components[1].land_square_coord[e][i][2]-10){o=!0;break}if(o){this.inside=!0;break}}this.node.parent.children[this.object_data.ID].name==this.node.parent._components[4].agricultural_aircraft_prefab.name&&(this.inside=!0)}catch(a){}},getGameChildrenIndexByUuid:function(e){for(var t,n=0;n<this.node.parent.children.length;n++)if(this.node.parent.parent.children[n].uuid==e){t=n;break}return t}}),cc._RF.pop()},{}],trees_shop:[function(e,t){"use strict";cc._RF.push(t,"5f23395av9AwLlzpvjhzB8k","trees_shop"),cc.Class({extends:cc.Component,properties:{type:cc.String,close:{default:null,type:cc.Node},circle:{default:null,type:cc.Prefab},limit_box:{default:null,type:cc.Prefab},padlock:{default:null,type:cc.Prefab},info_box:{default:null,type:cc.Prefab},orange_tree:{default:null,type:cc.Prefab},mango_tree:{default:null,type:cc.Prefab}},onLoad:function(){this.node.setPosition(cc.v2(0,-this.node.parent.height/2+this.node.height/2)),this.node.parent._components[2].deactivate_bottom_icon(),this.type_of_item,this.node.width=this.node.parent.width,this.mouseDownItemLocation={x:0,y:0},this.node_delta_scroll_x=0,this.all_item_identity=[],this.first_item_coord_x,this.mouseDownItem=!1,this.addItemOnMeadow=!1,window.action_active=!0,this.close.setPosition(cc.v2(this.node.width/2-this.close.width,this.node.height/2));for(var e=0;e<window.stuff_identity.length;e++)window.stuff_identity[e].type==this.type&&this.all_item_identity.push(window.stuff_identity[e]);this.show_all_items(),this.on_scroll_horizontal(),this.itemOnDrag(),this.onClose()},start:function(){},update:function(){this.meadowOnDrag(),this.mouseDownItem&&this.addItemOnMeadow&&this.autoMove()},on_scroll_horizontal:function(){var e=this;this.node.on("touchstart",function(){e.mouseDown=!0},this),this.node.on("touchmove",function(t){if(e.mouseDown&&!e.mouseDownItem){var n=t.getDelta().x;if(!(e.node.children[1].x+n>e.first_item_coord_x||e.node.children[e.node.children.length-1].x+n<e.first_item_coord_x)){e.node_delta_scroll_x+=n;for(var o=1;o<e.node.children.length;o++)(!e.item_selected_index||o!=e.item_selected_index&&o!=e.node.children.length-1&&o!=e.node.children.length-2)&&(e.node.children[o].x+=n)}}},this),this.node.on("touchend",function(){e.mouseDown=!1},this)},show_all_items:function(){for(var e=0;e<this.all_item_identity.length;e++){var t=cc.instantiate(this.circle),n=cc.instantiate(this.get_prefab_by_name(this.all_item_identity[e].name)),o=cc.instantiate(this.limit_box);if(n._components[1].import_data=this.all_item_identity[e],this.all_item_identity[e].available_level<=window.our_level){var i=cc.instantiate(this.node.parent._components[2].get_object_by_macros("text_global"));if(i._components[0].string="$"+this.all_item_identity[e].price,i.setPosition(cc.v2(0,-i.height/3)),n.addChild(i),this.all_item_identity[e].max){for(var a=cc.instantiate(this.node.parent._components[2].get_object_by_macros("text_global")),d=0,c=0,s=0;s<window.default_data.object.length;s++)window.default_data.object[s].name==this.all_item_identity[e].object_name&&c++;for(var r=0;r<this.all_item_identity[e].max.length&&window.our_level>=this.all_item_identity[e].max[r][0];r++)d=this.all_item_identity[e].max[r][1];n._components[1].import_data.max_label=c+1>d,a._components[0].string=c+"/"+d,a._components[0].fontSize=18,a.color=new cc.Color(0,0,0),o.addChild(a)}}else{n.color=new cc.Color(100,100,100);var _=cc.instantiate(this.padlock);_.setPosition(cc.v2(0,_.height/3)),n.addChild(_);var l=cc.instantiate(this.node.parent._components[2].get_object_by_macros("text_global"));l._components[0].string="Lv."+this.all_item_identity[e].available_level,l.setPosition(cc.v2(0,_.height/3-_.height/2)),n.addChild(l)}t.addChild(n),this.all_item_identity[e].max&&(t.addChild(o),o.setPosition(cc.v2(n.width/2,n.height/2))),this.node.addChild(t),t.setPosition(cc.v2(this.node.width*(7/8)*.5*-1+.125*(e+1)*this.node.width,0))}this.first_item_coord_x=this.node.children[1].x},get_prefab_by_name:function(e){var t;switch(e){case"orange":t=this.orange_tree;break;case"mango":t=this.mango_tree}return t},meadowOnDrag:function(){window.MeadowOnDrag&&this.item_selected_index&&this.node.children[this.item_selected_index].setPosition(cc.v2(this.node.parent.children[window.m_i].children[this.node.parent.children[window.m_i].children.length-(this.num_of_move_plot+1)].x*this.node.parent.children[window.m_i].scaleX+this.node.parent.children[window.m_i].x-this.node.x,this.node.parent.children[window.m_i].children[this.node.parent.children[window.m_i].children.length-(this.num_of_move_plot+1)].y*this.node.parent.children[window.m_i].scaleY+this.node.parent.children[window.m_i].y-this.node.y))},show_info:function(e,t){for(var n,o=0;o<window.object_identity.length;o++)if(window.object_identity[o].name==e.object_name){n=window.object_identity[o].plot_of_move_system;break}if(n){var i=cc.instantiate(this.info_box);i.children[0]._components[0].string=e.object_name.replace("_"," "),i.children[1]._components[0].string=n.cols+"x"+n.rows,i.children[3]._components[0].string="Lvl. "+e.available_level,e.price_gold?(i.children[6].destroy(),i.children[5]._components[0].string=e.price_gold):i.children[5]._components[0].string="Rp."+e.price,i.setPosition(cc.v2(t,140)),this.node.addChild(i),i.children[1].setPosition(cc.v2(65-i.children[1].width/2,32)),i.children[3].setPosition(cc.v2(65-i.children[3].width/2,-52)),i.children[5].setPosition(cc.v2(65-i.children[5].width/2,-10))}},destroy_info:function(){for(var e=0;e<this.node.children.length;e++)if(this.node.children[e].name==this.info_box.data.name){this.node.children[e].destroy();break}},itemOnDrag:function(){for(var e=this,t=function(t){e.node.children[t].on("touchstart",function(n){e.mouseDownItem=!0,e.mouseDownItemLocation.x=n.getLocation().x,e.mouseDownItemLocation.y=n.getLocation().y,e.addItemOnMeadow||e.show_info(e.node.children[t].children[0]._components[1].import_data,e.node.children[t].x)},e),e.node.children[t].on("touchmove",function(n){if(e.destroy_info(),e.mouseDownItem){if("padock"==e.node.children[t].children[0].children[0].name)return e.node.parent._components[2].show_alert("terkunci",e.node.x+e.node.children[t].x,e.node.y+e.node.children[t].y,new cc.Color(200,0,0)),e.mouseDownItem=!1,e.mouseDownItemLocation.x=0,void(e.mouseDownItemLocation.y=0);if(1==e.node.children[t].children[0]._components[1].import_data.max_label)return e.node.parent._components[2].show_alert("jumlah sudah maksimal",e.node.x+e.node.children[t].x,e.node.y+e.node.children[t].y,new cc.Color(200,0,0)),e.mouseDownItem=!1,e.mouseDownItemLocation.x=0,void(e.mouseDownItemLocation.y=0);if(!e.addItemOnMeadow){e.node.parent.children[window.m_i]._components[1].spawnNewObject_with_macros_and_pos(e.node.children[t].children[0]._components[1].import_data.object_name,(e.node.x+e.node.children[t].x-e.node.parent.children[window.m_i].x)/e.node.parent.children[window.m_i].scaleX,(e.node.y+e.node.children[t].y-e.node.parent.children[window.m_i].y)/e.node.parent.children[window.m_i].scaleY),e.index_object_selected=e.node.parent.children[window.m_i].children.length-1,e.item_selected_index=t,e.spawn_yes_and_no(t),e.last_index_of_meadow=e.node.parent.children[window.m_i].children.length-1,e.mouseX=(e.node.x+e.node.children[t].x-e.node.parent.children[window.m_i].x)/e.node.parent.children[window.m_i].scaleX,e.mouseY=(e.node.y+e.node.children[t].y-e.node.parent.children[window.m_i].y)/e.node.parent.children[window.m_i].scaleY;for(var o=0;o<window.object_identity.length;o++)if(window.object_identity[o].name==e.node.children[t].children[0]._components[1].import_data.object_name){e.node.parent.children[window.m_i]._components[1].spawn_many_square((e.node.x+e.node.children[t].x-e.node.parent.children[window.m_i].x)/e.node.parent.children[window.m_i].scaleX,(e.node.y+e.node.children[t].y-e.node.parent.children[window.m_i].y)/e.node.parent.children[window.m_i].scaleY,window.object_identity[o].plot_of_move_system.start_x,window.object_identity[o].plot_of_move_system.start_y,window.object_identity[o].plot_of_move_system.cols,window.object_identity[o].plot_of_move_system.rows,!1),e.num_of_move_plot=window.object_identity[o].plot_of_move_system.cols*window.object_identity[o].plot_of_move_system.rows,e.index_object_identity=o;break}e.addItemOnMeadow=!0}e.mouseDownItemLocation.x=n.getLocation().x,e.mouseDownItemLocation.y=n.getLocation().y,e.mouseX+=n.getDelta().x/e.node.parent.children[window.m_i].scaleX,e.mouseY+=n.getDelta().y/e.node.parent.children[window.m_i].scaleY;var i=e.node.parent.children[window.m_i]._components[1].ObjectOnMove(e.mouseX,e.mouseY);e.node.parent.children[window.m_i].children[e.node.parent.children[window.m_i].children.length-(e.num_of_move_plot+1)].x=i.x,e.node.parent.children[window.m_i].children[e.node.parent.children[window.m_i].children.length-(e.num_of_move_plot+1)].y=i.y,e.node.children[t].x=e.node.parent.children[window.m_i].children[e.node.parent.children[window.m_i].children.length-(e.num_of_move_plot+1)].x*e.node.parent.children[window.m_i].scaleX+e.node.parent.children[window.m_i].x-e.node.x,e.node.children[t].y=e.node.parent.children[window.m_i].children[e.node.parent.children[window.m_i].children.length-(e.num_of_move_plot+1)].y*e.node.parent.children[window.m_i].scaleY+e.node.parent.children[window.m_i].y-e.node.y,e.red_square=e.node.parent.children[window.m_i]._components[1].spawn_many_square(e.node.parent.children[window.m_i].children[e.last_index_of_meadow].x,e.node.parent.children[window.m_i].children[e.last_index_of_meadow].y,window.object_identity[e.index_object_identity].plot_of_move_system.start_x,window.object_identity[e.index_object_identity].plot_of_move_system.start_y,window.object_identity[e.index_object_identity].plot_of_move_system.cols,window.object_identity[e.index_object_identity].plot_of_move_system.rows,!1),e.addItemOnMeadow?e.node.opacity=1:e.node.opacity=255}},e),e.node.children[t].on("touchend",function(){e.destroy_info(),e.mouseDownItem=!1},e)},n=1;n<this.node.children.length;n++)t(n)},spawn_yes_and_no:function(e){var t=this;this.node.parent._components[2].spawn_move_object(function(){if(0!=t.red_square){if(window.default_data.identity.money<t.node.children[e].children[0]._components[1].import_data.price)return t.node.parent._components[2].show_alert("uang tidak cukup",t.node.x+t.node.children[e].x,t.node.y+t.node.children[e].y,new cc.Color(200,20,20)),t.node.opacity=255,t.node.children[e].setPosition(cc.v2(t.node.width*(7/8)*.5*-1+.125*e*t.node.width+t.node_delta_scroll_x,0)),t.node.parent.children[window.m_i]._components[1].destroy_many_square(),t.node.parent.children[window.m_i]._components[1].destroy_last_child(),t.addItemOnMeadow=!1,void(t.item_selected_index=!1);window.default_data.object.push({name:t.node.children[e].children[0]._components[1].import_data.object_name,coord:{x:(t.node.x+t.node.children[e].x-t.node.parent.children[window.m_i].x)/t.node.parent.children[window.m_i].scaleX,y:(t.node.y+t.node.children[e].y-t.node.parent.children[window.m_i].y)/t.node.parent.children[window.m_i].scaleY},already_watered:!1,time_start:0,time_end:0,fertilizer:"none",square_data:[]}),t.node.parent._components[2].addMoney(-t.node.children[e].children[0]._components[1].import_data.price);var n="buy "+t.node.children[e].children[0]._components[1].import_data.object_name;t.node.parent._components[2].getActivity(n),t.node.opacity=255,t.node.children[e].setPosition(cc.v2(t.node.width*(7/8)*.5*-1+.125*e*t.node.width+t.node_delta_scroll_x,0)),t.node.parent.children[window.m_i]._components[1].show(),t.addItemOnMeadow=!1,t.item_selected_index=!1,t.node.parent._components[2].destroy_move_object()}else t.node.parent._components[2].show_alert("tempatkan di tempat yang kosong",t.node.x+t.node.children[e].x,t.node.y+t.node.children[e].y,new cc.Color(200,20,20))},void 0,function(){t.node.opacity=255,t.node.children[e].setPosition(cc.v2(t.node.width*(7/8)*.5*-1+.125*e*t.node.width+t.node_delta_scroll_x,0)),t.node.parent.children[window.m_i]._components[1].destroy_many_square(),t.node.parent.children[window.m_i]._components[1].destroy_last_child(),t.addItemOnMeadow=!1,t.item_selected_index=!1,t.node.parent._components[2].destroy_move_object()})},autoMove:function(){var e=0,t=0,n=!1;if(this.mouseDownItemLocation.x>this.node.parent.width*(7/8)?(e=5,n=!0):this.mouseDownItemLocation.x<this.node.parent.width*(1/8)&&(e=-5,n=!0),this.mouseDownItemLocation.y>this.node.parent.height*(7/8)?(t=5,n=!0):this.mouseDownItemLocation.y<this.node.parent.height*(1/8)&&(t=-5,n=!0),n){var o=this.node.parent.children[window.m_i]._components[1].MoveMeadow(-e,-t);0==o.x&&(e=0),0==o.y&&(t=0),this.mouseX+=e/this.node.parent.children[window.m_i].scaleX,this.mouseY+=t/this.node.parent.children[window.m_i].scaleX;var i=this.node.parent.children[window.m_i]._components[1].ObjectOnMove(this.mouseX,this.mouseY);this.node.parent.children[window.m_i].children[this.node.parent.children[window.m_i].children.length-(this.num_of_move_plot+1)].x=i.x,this.node.parent.children[window.m_i].children[this.node.parent.children[window.m_i].children.length-(this.num_of_move_plot+1)].y=i.y,this.node.children[this.item_selected_index].x=this.node.parent.children[window.m_i].children[this.node.parent.children[window.m_i].children.length-(this.num_of_move_plot+1)].x*this.node.parent.children[window.m_i].scaleX+this.node.parent.children[window.m_i].x-this.node.x,this.node.children[this.item_selected_index].y=this.node.parent.children[window.m_i].children[this.node.parent.children[window.m_i].children.length-(this.num_of_move_plot+1)].y*this.node.parent.children[window.m_i].scaleY+this.node.parent.children[window.m_i].y-this.node.y,this.red_square=this.node.parent.children[window.m_i]._components[1].spawn_many_square(this.node.parent.children[window.m_i].children[this.last_index_of_meadow].x,this.node.parent.children[window.m_i].children[this.last_index_of_meadow].y,window.object_identity[this.index_object_identity].plot_of_move_system.start_x,window.object_identity[this.index_object_identity].plot_of_move_system.start_y,window.object_identity[this.index_object_identity].plot_of_move_system.cols,window.object_identity[this.index_object_identity].plot_of_move_system.rows,!1)}},onClose:function(){var e=this;this.node.children[0].on("touchend",function(){e.addItemOnMeadow&&(e.node.parent.children[window.m_i]._components[1].destroy_many_square(),e.node.parent.children[window.m_i]._components[1].destroy_last_child(),e.node.parent._components[2].destroy_move_object()),window.action_active=!1,e.node.parent._components[2].activate_bottom_icon(),e.node.destroy()},this)}}),cc._RF.pop()},{}],"use_v2.1-2.2.1_cc.Toggle_event":[function(e,t){"use strict";cc._RF.push(t,"2e6b1IZdAZNI7qB2nfrffOE","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}],wild_object:[function(e,t){"use strict";cc._RF.push(t,"316de5L0otL5Z4Uo4fmtazy","wild_object"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.ownData},start:function(){},onTouch:function(){if(!window.action_active){for(var e,t=this.node.parent.x+window.default_data.object[this.ownData.ID].coord.x*this.node.parent.scaleX,n=this.node.parent.y+window.default_data.object[this.ownData.ID].coord.y*this.node.parent.scaleY,o=0;o<window.stuff_identity.length;o++)if(window.stuff_identity[o].object_name==this.ownData.name){e=window.stuff_identity[o].gift;break}this.node.parent.parent._components[2].addGoldWithAction(e,t,n),window.default_data.object.splice(this.ownData.ID,1),this.node.parent._components[1].spawn_many_object()}}}),cc._RF.pop()},{}]},{},["Game","Game_friend","Get_prefab","Meadow","Meadow_friend","achievement","all_project","change_page","item_box","storage_increase","storage_item","storage_main","Circle","grain_bag","rotate_transform","friend_data","friend_request","game_get_meadow_object_texture","global_function","land_identity_box","level","next_level_box","load_all_data_needed","land_touch","t_o","t_o_friend","Barn","Silo","Tree","agricultural_aircraft","item_fed_box","animal_area","fertilizer_box","friend_object","home","f_animal_area","f_machine","f_planting_slot","f_tree","f_wild_object","machine","info_item_box","machine_item_box","queue_box","order_board_object","other_object","planting_slot","player","wild_object","meadow_friend_get_human","meadow_get_additional","meadow_get_animal","meadow_get_building","meadow_get_decoration","meadow_get_important","meadow_get_machine","meadow_get_other","meadow_get_planting","meadow_get_tree","deliver","order_board","project","sales_desk","load_friend","load_main","load_main_back","scene_transition","animal_shop","buildings_shop","choose_type","decoration_shop","machine_shop","s_item_script","trees_shop","use_v2.1-2.2.1_cc.Toggle_event"]);